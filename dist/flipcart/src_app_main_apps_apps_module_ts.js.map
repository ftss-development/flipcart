{"version":3,"file":"src_app_main_apps_apps_module_ts.js","mappings":"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","sources":["./src/app/main/apps/apps.module.ts","./node_modules/@fullcalendar/angular/__ivy_ngcc__/fesm2015/fullcalendar-angular.js","./node_modules/@fullcalendar/common/main.js","./node_modules/@fullcalendar/common/vdom.js","./node_modules/@fullcalendar/core/main.js","./node_modules/@fullcalendar/core/vdom.js","./node_modules/@fullcalendar/daygrid/main.js","./node_modules/@fullcalendar/interaction/main.js","./node_modules/@fullcalendar/list/main.js","./node_modules/@fullcalendar/timegrid/main.js","./node_modules/fast-deep-equal/index.js","./node_modules/preact/compat/dist/compat.module.js","./node_modules/preact/dist/preact.module.js","./node_modules/preact/hooks/dist/hooks.module.js","webpack:///./node_modules/@fullcalendar/common/main.css?269c","webpack:///./node_modules/@fullcalendar/daygrid/main.css?2000","webpack:///./node_modules/@fullcalendar/list/main.css?c118","webpack:///./node_modules/@fullcalendar/timegrid/main.css?94b0"],"sourcesContent":["import { CommonModule } from '@angular/common';\r\nimport { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\n\r\nimport { FullCalendarModule } from '@fullcalendar/angular';\r\nimport dayGridPlugin from '@fullcalendar/daygrid';\r\nimport interactionPlugin from '@fullcalendar/interaction';\r\nimport listPlugin from '@fullcalendar/list';\r\nimport timeGridPlugin from '@fullcalendar/timegrid';\r\n\r\n// routing\r\nconst routes: Routes = [\r\n  {\r\n    path: 'email',\r\n    loadChildren: () => import('./email/email.module').then(m => m.EmailModule)\r\n  },\r\n  {\r\n    path: 'chat',\r\n    loadChildren: () => import('./chat/chat.module').then(m => m.ChatModule)\r\n  },\r\n  {\r\n    path: 'todo',\r\n    loadChildren: () => import('./todo/todo.module').then(m => m.TodoModule)\r\n  },\r\n  {\r\n    path: 'calendar',\r\n    loadChildren: () => import('./calendar/calendar.module').then(m => m.CalendarModule)\r\n  },\r\n  {\r\n    path: 'invoice',\r\n    loadChildren: () => import('./invoice/invoice.module').then(m => m.InvoiceModule)\r\n  },\r\n  {\r\n    path: 'e-commerce',\r\n    loadChildren: () => import('./ecommerce/ecommerce.module').then(m => m.EcommerceModule)\r\n  },\r\n  {\r\n    path: 'user',\r\n    loadChildren: () => import('./user/user.module').then(m => m.UserModule)\r\n  }\r\n];\r\n\r\nFullCalendarModule.registerPlugins([dayGridPlugin, timeGridPlugin, listPlugin, interactionPlugin]);\r\n\r\n@NgModule({\r\n  declarations: [],\r\n  imports: [CommonModule, RouterModule.forChild(routes)]\r\n})\r\nexport class AppsModule {}\r\n","import deepEqual from 'fast-deep-equal';\nimport { Component, ViewEncapsulation, ElementRef, Input, NgModule } from '@angular/core';\nimport { Calendar, globalPlugins } from '@fullcalendar/core';\nimport * as ɵngcc0 from '@angular/core';\nexport * from '@fullcalendar/core';\n\nconst hasOwnProperty = Object.prototype.hasOwnProperty;\n/*\nReally simple clone utility. Only copies plain arrays, objects, and Dates. Transfers everything else as-is.\nWanted to use a third-party lib, but none did exactly this.\n*/\nfunction deepCopy(input) {\n    if (Array.isArray(input)) {\n        return input.map(deepCopy);\n    }\n    else if (input instanceof Date) {\n        return new Date(input.valueOf());\n    }\n    else if (typeof input === 'object' && input) { // non-null object\n        return mapHash(input, deepCopy);\n    }\n    else { // everything else (null, function, etc)\n        return input;\n    }\n}\nfunction shallowCopy(val) {\n    if (typeof val === 'object') {\n        if (Array.isArray(val)) {\n            val = Array.prototype.slice.call(val);\n        }\n        else if (val) { // non-null\n            val = Object.assign({}, val);\n        }\n    }\n    return val;\n}\nfunction mapHash(input, func) {\n    const output = {};\n    for (const key in input) {\n        if (hasOwnProperty.call(input, key)) {\n            output[key] = func(input[key], key);\n        }\n    }\n    return output;\n}\n\nconst OPTION_IS_DEEP = {\n    headerToolbar: true,\n    footerToolbar: true,\n    events: true,\n    eventSources: true,\n    resources: true\n};\n\nclass FullCalendarComponent {\n    constructor(element) {\n        this.element = element;\n        this.optionSnapshot = {}; // for diffing only\n    }\n    ngAfterViewInit() {\n        const { deepChangeDetection } = this;\n        const options = this.options || {};\n        // initialize snapshot\n        this.optionSnapshot = mapHash(options, (optionVal, optionName) => ((deepChangeDetection && OPTION_IS_DEEP[optionName])\n            ? deepCopy(optionVal)\n            : optionVal));\n        this.calendar = new Calendar(this.element.nativeElement, options);\n        this.calendar.render();\n    }\n    /*\n    allows us to manually detect complex input changes, internal mutations to certain options.\n    called before ngOnChanges. called much more often than ngOnChanges.\n    */\n    ngDoCheck() {\n        if (this.calendar) { // not the initial render\n            const { deepChangeDetection, optionSnapshot } = this;\n            const newOptions = this.options || {};\n            const newProcessedOptions = {};\n            let anyChanges = false;\n            // detect adds and updates (and update snapshot)\n            for (const optionName in newOptions) {\n                if (newOptions.hasOwnProperty(optionName)) {\n                    let optionVal = newOptions[optionName];\n                    if (deepChangeDetection && OPTION_IS_DEEP[optionName]) {\n                        if (!deepEqual(optionSnapshot[optionName], optionVal)) {\n                            optionSnapshot[optionName] = deepCopy(optionVal);\n                            anyChanges = true;\n                            // trick FC into knowing about a nested change.\n                            // TODO: future versions won't need this.\n                            // can't use the previously-made deep copy because it blows away prototype-association.\n                            optionVal = shallowCopy(optionVal);\n                        }\n                    }\n                    else {\n                        if (optionSnapshot[optionName] !== optionVal) {\n                            optionSnapshot[optionName] = optionVal;\n                            anyChanges = true;\n                        }\n                    }\n                    newProcessedOptions[optionName] = optionVal;\n                }\n            }\n            const oldOptionNames = Object.keys(optionSnapshot);\n            // detect removals (and update snapshot)\n            for (const optionName of oldOptionNames) {\n                if (!(optionName in newOptions)) { // doesn't exist in new options?\n                    delete optionSnapshot[optionName];\n                    anyChanges = true;\n                }\n            }\n            if (anyChanges) {\n                this.calendar.pauseRendering();\n                this.calendar.resetOptions(newProcessedOptions);\n            }\n        }\n    }\n    ngAfterContentChecked() {\n        if (this.calendar) { // too defensive?\n            this.calendar.resumeRendering();\n        }\n    }\n    ngOnDestroy() {\n        if (this.calendar) { // too defensive?\n            this.calendar.destroy();\n            this.calendar = null;\n        }\n    }\n    getApi() {\n        return this.calendar;\n    }\n}\nFullCalendarComponent.ɵfac = function FullCalendarComponent_Factory(t) { return new (t || FullCalendarComponent)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef)); };\nFullCalendarComponent.ɵcmp = /*@__PURE__*/ ɵngcc0.ɵɵdefineComponent({ type: FullCalendarComponent, selectors: [[\"full-calendar\"]], inputs: { options: \"options\", deepChangeDetection: \"deepChangeDetection\" }, decls: 0, vars: 0, template: function FullCalendarComponent_Template(rf, ctx) { }, styles: [\"@charset \\\"UTF-8\\\";.fc-not-allowed,.fc-not-allowed .fc-event{cursor:not-allowed}.fc-unselectable{-moz-user-select:none;-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.fc{display:flex;flex-direction:column;font-size:1em}.fc,.fc *,.fc :after,.fc :before{box-sizing:border-box}.fc table{border-collapse:collapse;border-spacing:0;font-size:1em}.fc th{text-align:center}.fc td,.fc th{padding:0;vertical-align:top}.fc a[data-navlink]{cursor:pointer}.fc a[data-navlink]:hover{text-decoration:underline}.fc-direction-ltr{direction:ltr;text-align:left}.fc-direction-rtl{direction:rtl;text-align:right}.fc-theme-standard td,.fc-theme-standard th{border:1px solid #ddd;border:1px solid var(--fc-border-color,#ddd)}.fc-liquid-hack td,.fc-liquid-hack th{position:relative}@font-face{font-family:fcicons;font-style:normal;font-weight:400;src:url(\\\"data:application/x-font-ttf;charset=utf-8;base64,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\\\") format(\\\"truetype\\\")}.fc-icon{-moz-osx-font-smoothing:grayscale;-moz-user-select:none;-webkit-font-smoothing:antialiased;-webkit-user-select:none;display:inline-block;font-family:fcicons!important;font-style:normal;font-variant:normal;font-weight:400;height:1em;line-height:1;speak:none;text-align:center;text-transform:none;user-select:none;width:1em}.fc-icon-chevron-left:before{content:\\\"\\uE900\\\"}.fc-icon-chevron-right:before{content:\\\"\\uE901\\\"}.fc-icon-chevrons-left:before{content:\\\"\\uE902\\\"}.fc-icon-chevrons-right:before{content:\\\"\\uE903\\\"}.fc-icon-minus-square:before{content:\\\"\\uE904\\\"}.fc-icon-plus-square:before{content:\\\"\\uE905\\\"}.fc-icon-x:before{content:\\\"\\uE906\\\"}.fc .fc-button{border-radius:0;font-family:inherit;font-size:inherit;line-height:inherit;margin:0;overflow:visible;text-transform:none}.fc .fc-button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}.fc .fc-button{-webkit-appearance:button}.fc .fc-button:not(:disabled){cursor:pointer}.fc .fc-button::-moz-focus-inner{border-style:none;padding:0}.fc .fc-button{-moz-user-select:none;-webkit-user-select:none;background-color:transparent;border:1px solid transparent;border-radius:.25em;display:inline-block;font-size:1em;font-weight:400;line-height:1.5;padding:.4em .65em;text-align:center;user-select:none;vertical-align:middle}.fc .fc-button:hover{text-decoration:none}.fc .fc-button:focus{box-shadow:0 0 0 .2rem rgba(44,62,80,.25);outline:0}.fc .fc-button:disabled{opacity:.65}.fc .fc-button-primary{background-color:#2c3e50;background-color:var(--fc-button-bg-color,#2c3e50);border-color:#2c3e50;border-color:var(--fc-button-border-color,#2c3e50);color:#fff;color:var(--fc-button-text-color,#fff)}.fc .fc-button-primary:hover{background-color:#1e2b37;background-color:var(--fc-button-hover-bg-color,#1e2b37);border-color:#1a252f;border-color:var(--fc-button-hover-border-color,#1a252f);color:#fff;color:var(--fc-button-text-color,#fff)}.fc .fc-button-primary:disabled{background-color:#2c3e50;background-color:var(--fc-button-bg-color,#2c3e50);border-color:#2c3e50;border-color:var(--fc-button-border-color,#2c3e50);color:#fff;color:var(--fc-button-text-color,#fff)}.fc .fc-button-primary:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button-primary:not(:disabled).fc-button-active,.fc .fc-button-primary:not(:disabled):active{background-color:#1a252f;background-color:var(--fc-button-active-bg-color,#1a252f);border-color:#151e27;border-color:var(--fc-button-active-border-color,#151e27);color:#fff;color:var(--fc-button-text-color,#fff)}.fc .fc-button-primary:not(:disabled).fc-button-active:focus,.fc .fc-button-primary:not(:disabled):active:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button .fc-icon{font-size:1.5em;vertical-align:middle}.fc .fc-button-group{display:inline-flex;position:relative;vertical-align:middle}.fc .fc-button-group>.fc-button{flex:1 1 auto;position:relative}.fc .fc-button-group>.fc-button.fc-button-active,.fc .fc-button-group>.fc-button:active,.fc .fc-button-group>.fc-button:focus,.fc .fc-button-group>.fc-button:hover{z-index:1}.fc-direction-ltr .fc-button-group>.fc-button:not(:first-child){border-bottom-left-radius:0;border-top-left-radius:0;margin-left:-1px}.fc-direction-ltr .fc-button-group>.fc-button:not(:last-child){border-bottom-right-radius:0;border-top-right-radius:0}.fc-direction-rtl .fc-button-group>.fc-button:not(:first-child){border-bottom-right-radius:0;border-top-right-radius:0;margin-right:-1px}.fc-direction-rtl .fc-button-group>.fc-button:not(:last-child){border-bottom-left-radius:0;border-top-left-radius:0}.fc .fc-toolbar{align-items:center;display:flex;justify-content:space-between}.fc .fc-toolbar.fc-header-toolbar{margin-bottom:1.5em}.fc .fc-toolbar.fc-footer-toolbar{margin-top:1.5em}.fc .fc-toolbar-title{font-size:1.75em;margin:0}.fc-direction-ltr .fc-toolbar>*>:not(:first-child){margin-left:.75em}.fc-direction-rtl .fc-toolbar>*>:not(:first-child){margin-right:.75em}.fc-direction-rtl .fc-toolbar-ltr{flex-direction:row-reverse}.fc .fc-scroller{-webkit-overflow-scrolling:touch;position:relative}.fc .fc-scroller-liquid{height:100%}.fc .fc-scroller-liquid-absolute{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-scroller-harness{direction:ltr;overflow:hidden;position:relative}.fc .fc-scroller-harness-liquid{height:100%}.fc-direction-rtl .fc-scroller-harness>.fc-scroller{direction:rtl}.fc-theme-standard .fc-scrollgrid{border:1px solid #ddd;border:1px solid var(--fc-border-color,#ddd)}.fc .fc-scrollgrid,.fc .fc-scrollgrid table{table-layout:fixed;width:100%}.fc .fc-scrollgrid table{border-left-style:hidden;border-right-style:hidden;border-top-style:hidden}.fc .fc-scrollgrid{border-bottom-width:0;border-collapse:separate;border-right-width:0}.fc .fc-scrollgrid-liquid{height:100%}.fc .fc-scrollgrid-section,.fc .fc-scrollgrid-section>td,.fc .fc-scrollgrid-section table{height:1px}.fc .fc-scrollgrid-section-liquid{height:auto}.fc .fc-scrollgrid-section-liquid>td{height:100%}.fc .fc-scrollgrid-section>*{border-left-width:0;border-top-width:0}.fc .fc-scrollgrid-section-footer>*,.fc .fc-scrollgrid-section-header>*{border-bottom-width:0}.fc .fc-scrollgrid-section-body table,.fc .fc-scrollgrid-section-footer table{border-bottom-style:hidden}.fc .fc-scrollgrid-section-sticky>*{background:#fff;background:var(--fc-page-bg-color,#fff);position:-webkit-sticky;position:sticky;z-index:3}.fc .fc-scrollgrid-section-header.fc-scrollgrid-section-sticky>*{top:0}.fc .fc-scrollgrid-section-footer.fc-scrollgrid-section-sticky>*{bottom:0}.fc .fc-scrollgrid-sticky-shim{height:1px;margin-bottom:-1px}.fc-sticky{position:-webkit-sticky;position:sticky}.fc .fc-view-harness{flex-grow:1;position:relative}.fc .fc-view-harness-active>.fc-view{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-col-header-cell-cushion{display:inline-block;padding:2px 4px}.fc .fc-bg-event,.fc .fc-highlight,.fc .fc-non-business{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-non-business{background:hsla(0,0%,84.3%,.3);background:var(--fc-non-business-color,hsla(0,0%,84.3%,.3))}.fc .fc-bg-event{background:#8fdf82;background:var(--fc-bg-event-color,#8fdf82);opacity:.3;opacity:var(--fc-bg-event-opacity,.3)}.fc .fc-bg-event .fc-event-title{font-size:.85em;font-size:var(--fc-small-font-size,.85em);font-style:italic;margin:.5em}.fc .fc-highlight{background:rgba(188,232,241,.3);background:var(--fc-highlight-color,rgba(188,232,241,.3))}.fc .fc-cell-shaded,.fc .fc-day-disabled{background:hsla(0,0%,81.6%,.3);background:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3))}a.fc-event,a.fc-event:hover{text-decoration:none}.fc-event.fc-event-draggable,.fc-event[href]{cursor:pointer}.fc-event .fc-event-main{position:relative;z-index:2}.fc-event-dragging:not(.fc-event-selected){opacity:.75}.fc-event-dragging.fc-event-selected{box-shadow:0 2px 7px rgba(0,0,0,.3)}.fc-event .fc-event-resizer{display:none;position:absolute;z-index:4}.fc-event-selected .fc-event-resizer,.fc-event:hover .fc-event-resizer{display:block}.fc-event-selected .fc-event-resizer{background:#fff;background:var(--fc-page-bg-color,#fff);border:var(--fc-event-resizer-dot-border-width,1px) solid;border-color:inherit;border-radius:4px;border-radius:calc(var(--fc-event-resizer-dot-total-width, 8px)/2);border-width:1px;height:8px;height:var(--fc-event-resizer-dot-total-width,8px);width:8px;width:var(--fc-event-resizer-dot-total-width,8px)}.fc-event-selected .fc-event-resizer:before{bottom:-20px;content:\\\"\\\";left:-20px;position:absolute;right:-20px;top:-20px}.fc-event-selected{box-shadow:0 2px 5px rgba(0,0,0,.2)}.fc-event-selected:before{bottom:0;content:\\\"\\\";left:0;position:absolute;right:0;top:0;z-index:3}.fc-event-selected:after{background:rgba(0,0,0,.25);background:var(--fc-event-selected-overlay-color,rgba(0,0,0,.25));bottom:-1px;content:\\\"\\\";left:-1px;position:absolute;right:-1px;top:-1px;z-index:1}.fc-h-event{background-color:#3788d8;background-color:var(--fc-event-bg-color,#3788d8);border:1px solid #3788d8;border:1px solid var(--fc-event-border-color,#3788d8);display:block}.fc-h-event .fc-event-main{color:#fff;color:var(--fc-event-text-color,#fff)}.fc-h-event .fc-event-main-frame{display:flex}.fc-h-event .fc-event-time{max-width:100%;overflow:hidden}.fc-h-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-width:0}.fc-h-event .fc-event-title{display:inline-block;left:0;max-width:100%;overflow:hidden;right:0;vertical-align:top}.fc-h-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-start),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-end){border-bottom-left-radius:0;border-left-width:0;border-top-left-radius:0}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-end),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-start){border-bottom-right-radius:0;border-right-width:0;border-top-right-radius:0}.fc-h-event:not(.fc-event-selected) .fc-event-resizer{bottom:0;top:0;width:8px;width:var(--fc-event-resizer-thickness,8px)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end{cursor:w-resize;left:-4px;left:calc(var(--fc-event-resizer-thickness, 8px)/-2)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start{cursor:e-resize;right:-4px;right:calc(var(--fc-event-resizer-thickness, 8px)/-2)}.fc-h-event.fc-event-selected .fc-event-resizer{margin-top:-4px;margin-top:calc(var(--fc-event-resizer-dot-total-width, 8px)/-2);top:50%}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-start,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-end{left:-4px;left:calc(var(--fc-event-resizer-dot-total-width, 8px)/-2)}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-end,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-start{right:-4px;right:calc(var(--fc-event-resizer-dot-total-width, 8px)/-2)}.fc .fc-popover{box-shadow:0 2px 6px rgba(0,0,0,.15);position:absolute;z-index:9999}.fc .fc-popover-header{align-items:center;display:flex;flex-direction:row;justify-content:space-between;padding:3px 4px}.fc .fc-popover-title{margin:0 2px}.fc .fc-popover-close{cursor:pointer;font-size:1.1em;opacity:.65}.fc-theme-standard .fc-popover{background:#fff;background:var(--fc-page-bg-color,#fff);border:1px solid #ddd;border:1px solid var(--fc-border-color,#ddd)}.fc-theme-standard .fc-popover-header{background:hsla(0,0%,81.6%,.3);background:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3))}:root{--fc-daygrid-event-dot-width:8px}.fc-daygrid-day-events:after,.fc-daygrid-day-events:before,.fc-daygrid-day-frame:after,.fc-daygrid-day-frame:before,.fc-daygrid-event-harness:after,.fc-daygrid-event-harness:before{clear:both;content:\\\"\\\";display:table}.fc .fc-daygrid-body{position:relative;z-index:1}.fc .fc-daygrid-day.fc-day-today{background-color:rgba(255,220,40,.15);background-color:var(--fc-today-bg-color,rgba(255,220,40,.15))}.fc .fc-daygrid-day-frame{min-height:100%;position:relative}.fc .fc-daygrid-day-top{display:flex;flex-direction:row-reverse}.fc .fc-day-other .fc-daygrid-day-top{opacity:.3}.fc .fc-daygrid-day-number{padding:4px;position:relative;z-index:4}.fc .fc-daygrid-day-events{margin-top:1px}.fc .fc-daygrid-body-balanced .fc-daygrid-day-events{left:0;position:absolute;right:0}.fc .fc-daygrid-body-unbalanced .fc-daygrid-day-events{min-height:2em;position:relative}.fc .fc-daygrid-body-natural .fc-daygrid-day-events{margin-bottom:1em}.fc .fc-daygrid-event-harness{position:relative}.fc .fc-daygrid-event-harness-abs{left:0;position:absolute;right:0;top:0}.fc .fc-daygrid-bg-harness{bottom:0;position:absolute;top:0}.fc .fc-daygrid-day-bg .fc-non-business{z-index:1}.fc .fc-daygrid-day-bg .fc-bg-event{z-index:2}.fc .fc-daygrid-day-bg .fc-highlight{z-index:3}.fc .fc-daygrid-event{margin-top:1px;z-index:6}.fc .fc-daygrid-event.fc-event-mirror{z-index:7}.fc .fc-daygrid-day-bottom{font-size:.85em;padding:2px 3px 0}.fc .fc-daygrid-day-bottom:before{clear:both;content:\\\"\\\";display:table}.fc .fc-daygrid-more-link{cursor:pointer;position:relative;z-index:4}.fc .fc-daygrid-week-number{background-color:hsla(0,0%,81.6%,.3);background-color:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3));color:grey;color:var(--fc-neutral-text-color,grey);min-width:1.5em;padding:2px;position:absolute;text-align:center;top:0;z-index:5}.fc .fc-more-popover .fc-popover-body{min-width:220px;padding:10px}.fc-direction-ltr .fc-daygrid-event.fc-event-start,.fc-direction-rtl .fc-daygrid-event.fc-event-end{margin-left:2px}.fc-direction-ltr .fc-daygrid-event.fc-event-end,.fc-direction-rtl .fc-daygrid-event.fc-event-start{margin-right:2px}.fc-direction-ltr .fc-daygrid-week-number{border-radius:0 0 3px 0;left:0}.fc-direction-rtl .fc-daygrid-week-number{border-radius:0 0 0 3px;right:0}.fc-liquid-hack .fc-daygrid-day-frame{position:static}.fc-daygrid-event{border-radius:3px;font-size:.85em;font-size:var(--fc-small-font-size,.85em);position:relative;white-space:nowrap}.fc-daygrid-block-event .fc-event-time{font-weight:700}.fc-daygrid-block-event .fc-event-time,.fc-daygrid-block-event .fc-event-title{padding:1px}.fc-daygrid-dot-event{align-items:center;display:flex;padding:2px 0}.fc-daygrid-dot-event .fc-event-title{flex-grow:1;flex-shrink:1;font-weight:700;min-width:0;overflow:hidden}.fc-daygrid-dot-event.fc-event-mirror,.fc-daygrid-dot-event:hover{background:rgba(0,0,0,.1)}.fc-daygrid-dot-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-daygrid-event-dot{border:4px solid #3788d8;border:calc(var(--fc-daygrid-event-dot-width, 8px)/2) solid var(--fc-event-border-color,#3788d8);border-radius:4px;border-radius:calc(var(--fc-daygrid-event-dot-width, 8px)/2);box-sizing:content-box;height:0;margin:0 4px;width:0}.fc-direction-ltr .fc-daygrid-event .fc-event-time{margin-right:3px}.fc-direction-rtl .fc-daygrid-event .fc-event-time{margin-left:3px}.fc-v-event{background-color:#3788d8;background-color:var(--fc-event-bg-color,#3788d8);border:1px solid #3788d8;border:1px solid var(--fc-event-border-color,#3788d8);display:block}.fc-v-event .fc-event-main{color:#fff;color:var(--fc-event-text-color,#fff);height:100%}.fc-v-event .fc-event-main-frame{display:flex;flex-direction:column;height:100%}.fc-v-event .fc-event-time{flex-grow:0;flex-shrink:0;max-height:100%;overflow:hidden}.fc-v-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-height:0}.fc-v-event .fc-event-title{bottom:0;max-height:100%;overflow:hidden;top:0}.fc-v-event:not(.fc-event-start){border-top-left-radius:0;border-top-right-radius:0;border-top-width:0}.fc-v-event:not(.fc-event-end){border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-width:0}.fc-v-event.fc-event-selected:before{left:-10px;right:-10px}.fc-v-event .fc-event-resizer-start{cursor:n-resize}.fc-v-event .fc-event-resizer-end{cursor:s-resize}.fc-v-event:not(.fc-event-selected) .fc-event-resizer{height:8px;height:var(--fc-event-resizer-thickness,8px);left:0;right:0}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-start{top:-4px;top:calc(var(--fc-event-resizer-thickness, 8px)/-2)}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-end{bottom:-4px;bottom:calc(var(--fc-event-resizer-thickness, 8px)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer{left:50%;margin-left:-4px;margin-left:calc(var(--fc-event-resizer-dot-total-width, 8px)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-start{top:-4px;top:calc(var(--fc-event-resizer-dot-total-width, 8px)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-end{bottom:-4px;bottom:calc(var(--fc-event-resizer-dot-total-width, 8px)/-2)}.fc .fc-timegrid .fc-daygrid-body{z-index:2}.fc .fc-timegrid-divider{padding:0 0 2px}.fc .fc-timegrid-body{min-height:100%;position:relative;z-index:1}.fc .fc-timegrid-axis-chunk{position:relative}.fc .fc-timegrid-axis-chunk>table,.fc .fc-timegrid-slots{position:relative;z-index:1}.fc .fc-timegrid-slot{border-bottom:0;height:1.5em}.fc .fc-timegrid-slot:empty:before{content:\\\"\\u00A0\\\"}.fc .fc-timegrid-slot-minor{border-top-style:dotted}.fc .fc-timegrid-slot-label-cushion{display:inline-block;white-space:nowrap}.fc .fc-timegrid-slot-label{vertical-align:middle}.fc .fc-timegrid-axis-cushion,.fc .fc-timegrid-slot-label-cushion{padding:0 4px}.fc .fc-timegrid-axis-frame-liquid{height:100%}.fc .fc-timegrid-axis-frame{align-items:center;display:flex;justify-content:flex-end;overflow:hidden}.fc .fc-timegrid-axis-cushion{flex-shrink:0;max-width:60px}.fc-direction-ltr .fc-timegrid-slot-label-frame{text-align:right}.fc-direction-rtl .fc-timegrid-slot-label-frame{text-align:left}.fc-liquid-hack .fc-timegrid-axis-frame-liquid{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col.fc-day-today{background-color:rgba(255,220,40,.15);background-color:var(--fc-today-bg-color,rgba(255,220,40,.15))}.fc .fc-timegrid-col-frame{min-height:100%;position:relative}.fc-liquid-hack .fc-timegrid-col-frame{height:auto}.fc-liquid-hack .fc-timegrid-col-frame,.fc-media-screen .fc-timegrid-cols{bottom:0;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols>table{height:100%}.fc-media-screen .fc-timegrid-col-bg,.fc-media-screen .fc-timegrid-col-events,.fc-media-screen .fc-timegrid-now-indicator-container{left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col-bg{z-index:2}.fc .fc-timegrid-col-bg .fc-non-business{z-index:1}.fc .fc-timegrid-col-bg .fc-bg-event{z-index:2}.fc .fc-timegrid-col-bg .fc-highlight{z-index:3}.fc .fc-timegrid-bg-harness{left:0;position:absolute;right:0}.fc .fc-timegrid-col-events{z-index:3}.fc .fc-timegrid-now-indicator-container{bottom:0;overflow:hidden}.fc-direction-ltr .fc-timegrid-col-events{margin:0 2.5% 0 2px}.fc-direction-rtl .fc-timegrid-col-events{margin:0 2px 0 2.5%}.fc-timegrid-event-harness{position:absolute}.fc-timegrid-event-harness>.fc-timegrid-event{bottom:0;left:0;position:absolute;right:0;top:0}.fc-timegrid-event-harness-inset .fc-timegrid-event,.fc-timegrid-event.fc-event-mirror,.fc-timegrid-more-link{box-shadow:0 0 0 1px #fff;box-shadow:0 0 0 1px var(--fc-page-bg-color,#fff)}.fc-timegrid-event,.fc-timegrid-more-link{border-radius:3px;font-size:.85em;font-size:var(--fc-small-font-size,.85em)}.fc-timegrid-event{margin-bottom:1px}.fc-timegrid-event .fc-event-main{padding:1px 1px 0}.fc-timegrid-event .fc-event-time{font-size:.85em;font-size:var(--fc-small-font-size,.85em);margin-bottom:1px;white-space:nowrap}.fc-timegrid-event-short .fc-event-main-frame{flex-direction:row;overflow:hidden}.fc-timegrid-event-short .fc-event-time:after{content:\\\"\\u00A0-\\u00A0\\\"}.fc-timegrid-event-short .fc-event-title{font-size:.85em;font-size:var(--fc-small-font-size,.85em)}.fc-timegrid-more-link{background:#d0d0d0;background:var(--fc-more-link-bg-color,#d0d0d0);color:inherit;color:var(--fc-more-link-text-color,inherit);cursor:pointer;margin-bottom:1px;position:absolute;z-index:9999}.fc-timegrid-more-link-inner{padding:3px 2px;top:0}.fc-direction-ltr .fc-timegrid-more-link{right:0}.fc-direction-rtl .fc-timegrid-more-link{left:0}.fc .fc-timegrid-now-indicator-line{border:0 solid red;border-color:var(--fc-now-indicator-color,red);border-top:1px solid var(--fc-now-indicator-color,red);left:0;position:absolute;right:0;z-index:4}.fc .fc-timegrid-now-indicator-arrow{border-color:red;border-color:var(--fc-now-indicator-color,red);border-style:solid;margin-top:-5px;position:absolute;z-index:4}.fc-direction-ltr .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 0 5px 6px;left:0}.fc-direction-rtl .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 6px 5px 0;right:0}:root{--fc-list-event-dot-width:10px;--fc-list-event-hover-bg-color:#f5f5f5}.fc-theme-standard .fc-list{border:1px solid #ddd;border:1px solid var(--fc-border-color,#ddd)}.fc .fc-list-empty{align-items:center;background-color:hsla(0,0%,81.6%,.3);background-color:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3));display:flex;height:100%;justify-content:center}.fc .fc-list-empty-cushion{margin:5em 0}.fc .fc-list-table{border-style:hidden;width:100%}.fc .fc-list-table tr>*{border-left:0;border-right:0}.fc .fc-list-sticky .fc-list-day>*{background:#fff;background:var(--fc-page-bg-color,#fff);position:-webkit-sticky;position:sticky;top:0}.fc .fc-list-table th{padding:0}.fc .fc-list-day-cushion,.fc .fc-list-table td{padding:8px 14px}.fc .fc-list-day-cushion:after{clear:both;content:\\\"\\\";display:table}.fc-theme-standard .fc-list-day-cushion{background-color:hsla(0,0%,81.6%,.3);background-color:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3))}.fc-direction-ltr .fc-list-day-text,.fc-direction-rtl .fc-list-day-side-text{float:left}.fc-direction-ltr .fc-list-day-side-text,.fc-direction-rtl .fc-list-day-text{float:right}.fc-direction-ltr .fc-list-table .fc-list-event-graphic{padding-right:0}.fc-direction-rtl .fc-list-table .fc-list-event-graphic{padding-left:0}.fc .fc-list-event.fc-event-forced-url{cursor:pointer}.fc .fc-list-event:hover td{background-color:#f5f5f5;background-color:var(--fc-list-event-hover-bg-color,#f5f5f5)}.fc .fc-list-event-graphic,.fc .fc-list-event-time{white-space:nowrap;width:1px}.fc .fc-list-event-dot{border:5px solid #3788d8;border:calc(var(--fc-list-event-dot-width, 10px)/2) solid var(--fc-event-border-color,#3788d8);border-radius:5px;border-radius:calc(var(--fc-list-event-dot-width, 10px)/2);box-sizing:content-box;display:inline-block;height:0;width:0}.fc .fc-list-event-title a{color:inherit;text-decoration:none}.fc .fc-list-event.fc-event-forced-url:hover a{text-decoration:underline}.fc-theme-bootstrap a:not([href]){color:inherit}.fc .fc-event,.fc .fc-scrollgrid table tr{-moz-column-break-inside:avoid;break-inside:avoid}.fc-media-print{display:block;max-width:100%}.fc-media-print .fc-bg-event,.fc-media-print .fc-non-business,.fc-media-print .fc-timegrid-axis-chunk,.fc-media-print .fc-timegrid-slots,.fc-media-print .fc-timeline-slots{display:none}.fc-media-print .fc-h-event,.fc-media-print .fc-toolbar button,.fc-media-print .fc-v-event{background:#fff!important;color:#000!important}.fc-media-print .fc-event,.fc-media-print .fc-event-main{color:#000!important}.fc-media-print .fc-timegrid-event{margin:.5em 0}.fc .fc-timeline-body{min-height:100%;position:relative;z-index:1}.fc .fc-timeline-slots{bottom:0;position:absolute;top:0;z-index:1}.fc .fc-timeline-slots>table{height:100%}.fc .fc-timeline-slot-minor{border-style:dotted}.fc .fc-timeline-slot-frame{align-items:center;display:flex;justify-content:center}.fc .fc-timeline-header-row-chrono .fc-timeline-slot-frame{justify-content:flex-start}.fc .fc-timeline-slot-cushion{padding:4px 5px;white-space:nowrap}.fc-direction-ltr .fc-timeline-slot{border-right:0!important}.fc-direction-rtl .fc-timeline-slot{border-left:0!important}.fc .fc-timeline-now-indicator-container{bottom:0;left:0;position:absolute;right:0;top:0;width:0;z-index:4}.fc .fc-timeline-now-indicator-arrow,.fc .fc-timeline-now-indicator-line{border-color:red;border-color:var(--fc-now-indicator-color,red);border-style:solid;position:absolute;top:0}.fc .fc-timeline-now-indicator-arrow{border-left-color:transparent;border-right-color:transparent;border-width:6px 5px 0;margin:0 -6px}.fc .fc-timeline-now-indicator-line{border-width:0 0 0 1px;bottom:0;margin:0 -1px}.fc .fc-timeline-events{position:relative;width:0;z-index:3}.fc .fc-timeline-event-harness,.fc .fc-timeline-more-link{position:absolute;top:0}.fc-timeline-event{z-index:1}.fc-timeline-event.fc-event-mirror{z-index:2}.fc-timeline-event{align-items:center;border-radius:0;display:flex;font-size:.85em;font-size:var(--fc-small-font-size,.85em);margin-bottom:1px;padding:2px 1px;position:relative}.fc-timeline-event .fc-event-main{flex-grow:1;flex-shrink:1;min-width:0}.fc-timeline-event .fc-event-time{font-weight:700}.fc-timeline-event .fc-event-time,.fc-timeline-event .fc-event-title{padding:0 2px;white-space:nowrap}.fc-direction-ltr .fc-timeline-event.fc-event-end,.fc-direction-ltr .fc-timeline-more-link{margin-right:1px}.fc-direction-rtl .fc-timeline-event.fc-event-end,.fc-direction-rtl .fc-timeline-more-link{margin-left:1px}.fc-timeline-overlap-disabled .fc-timeline-event{margin-bottom:0;padding-bottom:5px;padding-top:5px}.fc-timeline-event:not(.fc-event-end):after,.fc-timeline-event:not(.fc-event-start):before{border-color:transparent #000;border-style:solid;border-width:5px;content:\\\"\\\";flex-grow:0;flex-shrink:0;height:0;margin:0 1px;opacity:.5;width:0}.fc-direction-ltr .fc-timeline-event:not(.fc-event-start):before,.fc-direction-rtl .fc-timeline-event:not(.fc-event-end):after{border-left:0}.fc-direction-ltr .fc-timeline-event:not(.fc-event-end):after,.fc-direction-rtl .fc-timeline-event:not(.fc-event-start):before{border-right:0}.fc-timeline-more-link{background:#d0d0d0;background:var(--fc-more-link-bg-color,#d0d0d0);color:inherit;color:var(--fc-more-link-text-color,inherit);cursor:pointer;font-size:.85em;font-size:var(--fc-small-font-size,.85em);padding:1px}.fc-timeline-more-link-inner{display:inline-block;left:0;padding:2px;right:0}.fc .fc-timeline-bg{bottom:0;left:0;position:absolute;right:0;top:0;width:0;z-index:2}.fc .fc-timeline-bg .fc-non-business{z-index:1}.fc .fc-timeline-bg .fc-bg-event{z-index:2}.fc .fc-timeline-bg .fc-highlight{z-index:3}.fc .fc-timeline-bg-harness{bottom:0;position:absolute;top:0}.fc .fc-resource-timeline-divider{cursor:col-resize;width:3px}.fc .fc-resource-timeline .fc-resource-group:not([rowspan]){background:hsla(0,0%,81.6%,.3);background:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3))}.fc .fc-timeline-lane-frame{position:relative}.fc .fc-timeline-overlap-enabled .fc-timeline-lane-frame .fc-timeline-events{box-sizing:content-box;padding-bottom:10px}.fc-timeline-body-expandrows td.fc-timeline-lane{position:relative}.fc-timeline-body-expandrows .fc-timeline-lane-frame{position:static}.fc-datagrid-cell-frame-liquid{height:100%}.fc-liquid-hack .fc-datagrid-cell-frame-liquid{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc .fc-datagrid-header .fc-datagrid-cell-frame{align-items:center;display:flex;justify-content:flex-start;position:relative}.fc .fc-datagrid-cell-resizer{bottom:0;cursor:col-resize;position:absolute;top:0;width:5px;z-index:1}.fc .fc-datagrid-cell-cushion{overflow:hidden;padding:8px;white-space:nowrap}.fc .fc-datagrid-expander{cursor:pointer;opacity:.65}.fc .fc-datagrid-expander .fc-icon{display:inline-block;width:1em}.fc .fc-datagrid-expander-placeholder{cursor:auto}.fc .fc-resource-timeline-flat .fc-datagrid-expander-placeholder{display:none}.fc-direction-ltr .fc-datagrid-cell-resizer{right:-3px}.fc-direction-rtl .fc-datagrid-cell-resizer{left:-3px}.fc-direction-ltr .fc-datagrid-expander{margin-right:3px}.fc-direction-rtl .fc-datagrid-expander{margin-left:3px}\"], encapsulation: 2 });\nFullCalendarComponent.ctorParameters = () => [\n    { type: ElementRef }\n];\nFullCalendarComponent.propDecorators = {\n    options: [{ type: Input }],\n    deepChangeDetection: [{ type: Input }]\n};\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(FullCalendarComponent, [{\n        type: Component,\n        args: [{ selector: 'full-calendar', template: '', encapsulation: ViewEncapsulation.None // the styles are root-level, not scoped within the component\n                , styles: [\"@charset \\\"UTF-8\\\";.fc-not-allowed,.fc-not-allowed .fc-event{cursor:not-allowed}.fc-unselectable{-moz-user-select:none;-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.fc{display:flex;flex-direction:column;font-size:1em}.fc,.fc *,.fc :after,.fc :before{box-sizing:border-box}.fc table{border-collapse:collapse;border-spacing:0;font-size:1em}.fc th{text-align:center}.fc td,.fc th{padding:0;vertical-align:top}.fc a[data-navlink]{cursor:pointer}.fc a[data-navlink]:hover{text-decoration:underline}.fc-direction-ltr{direction:ltr;text-align:left}.fc-direction-rtl{direction:rtl;text-align:right}.fc-theme-standard td,.fc-theme-standard th{border:1px solid #ddd;border:1px solid var(--fc-border-color,#ddd)}.fc-liquid-hack td,.fc-liquid-hack th{position:relative}@font-face{font-family:fcicons;font-style:normal;font-weight:400;src:url(\\\"data:application/x-font-ttf;charset=utf-8;base64,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\\\") format(\\\"truetype\\\")}.fc-icon{-moz-osx-font-smoothing:grayscale;-moz-user-select:none;-webkit-font-smoothing:antialiased;-webkit-user-select:none;display:inline-block;font-family:fcicons!important;font-style:normal;font-variant:normal;font-weight:400;height:1em;line-height:1;speak:none;text-align:center;text-transform:none;user-select:none;width:1em}.fc-icon-chevron-left:before{content:\\\"\\uE900\\\"}.fc-icon-chevron-right:before{content:\\\"\\uE901\\\"}.fc-icon-chevrons-left:before{content:\\\"\\uE902\\\"}.fc-icon-chevrons-right:before{content:\\\"\\uE903\\\"}.fc-icon-minus-square:before{content:\\\"\\uE904\\\"}.fc-icon-plus-square:before{content:\\\"\\uE905\\\"}.fc-icon-x:before{content:\\\"\\uE906\\\"}.fc .fc-button{border-radius:0;font-family:inherit;font-size:inherit;line-height:inherit;margin:0;overflow:visible;text-transform:none}.fc .fc-button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}.fc .fc-button{-webkit-appearance:button}.fc .fc-button:not(:disabled){cursor:pointer}.fc .fc-button::-moz-focus-inner{border-style:none;padding:0}.fc .fc-button{-moz-user-select:none;-webkit-user-select:none;background-color:transparent;border:1px solid transparent;border-radius:.25em;display:inline-block;font-size:1em;font-weight:400;line-height:1.5;padding:.4em .65em;text-align:center;user-select:none;vertical-align:middle}.fc .fc-button:hover{text-decoration:none}.fc .fc-button:focus{box-shadow:0 0 0 .2rem rgba(44,62,80,.25);outline:0}.fc .fc-button:disabled{opacity:.65}.fc .fc-button-primary{background-color:#2c3e50;background-color:var(--fc-button-bg-color,#2c3e50);border-color:#2c3e50;border-color:var(--fc-button-border-color,#2c3e50);color:#fff;color:var(--fc-button-text-color,#fff)}.fc .fc-button-primary:hover{background-color:#1e2b37;background-color:var(--fc-button-hover-bg-color,#1e2b37);border-color:#1a252f;border-color:var(--fc-button-hover-border-color,#1a252f);color:#fff;color:var(--fc-button-text-color,#fff)}.fc .fc-button-primary:disabled{background-color:#2c3e50;background-color:var(--fc-button-bg-color,#2c3e50);border-color:#2c3e50;border-color:var(--fc-button-border-color,#2c3e50);color:#fff;color:var(--fc-button-text-color,#fff)}.fc .fc-button-primary:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button-primary:not(:disabled).fc-button-active,.fc .fc-button-primary:not(:disabled):active{background-color:#1a252f;background-color:var(--fc-button-active-bg-color,#1a252f);border-color:#151e27;border-color:var(--fc-button-active-border-color,#151e27);color:#fff;color:var(--fc-button-text-color,#fff)}.fc .fc-button-primary:not(:disabled).fc-button-active:focus,.fc .fc-button-primary:not(:disabled):active:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button .fc-icon{font-size:1.5em;vertical-align:middle}.fc .fc-button-group{display:inline-flex;position:relative;vertical-align:middle}.fc .fc-button-group>.fc-button{flex:1 1 auto;position:relative}.fc .fc-button-group>.fc-button.fc-button-active,.fc .fc-button-group>.fc-button:active,.fc .fc-button-group>.fc-button:focus,.fc .fc-button-group>.fc-button:hover{z-index:1}.fc-direction-ltr .fc-button-group>.fc-button:not(:first-child){border-bottom-left-radius:0;border-top-left-radius:0;margin-left:-1px}.fc-direction-ltr .fc-button-group>.fc-button:not(:last-child){border-bottom-right-radius:0;border-top-right-radius:0}.fc-direction-rtl .fc-button-group>.fc-button:not(:first-child){border-bottom-right-radius:0;border-top-right-radius:0;margin-right:-1px}.fc-direction-rtl .fc-button-group>.fc-button:not(:last-child){border-bottom-left-radius:0;border-top-left-radius:0}.fc .fc-toolbar{align-items:center;display:flex;justify-content:space-between}.fc .fc-toolbar.fc-header-toolbar{margin-bottom:1.5em}.fc .fc-toolbar.fc-footer-toolbar{margin-top:1.5em}.fc .fc-toolbar-title{font-size:1.75em;margin:0}.fc-direction-ltr .fc-toolbar>*>:not(:first-child){margin-left:.75em}.fc-direction-rtl .fc-toolbar>*>:not(:first-child){margin-right:.75em}.fc-direction-rtl .fc-toolbar-ltr{flex-direction:row-reverse}.fc .fc-scroller{-webkit-overflow-scrolling:touch;position:relative}.fc .fc-scroller-liquid{height:100%}.fc .fc-scroller-liquid-absolute{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-scroller-harness{direction:ltr;overflow:hidden;position:relative}.fc .fc-scroller-harness-liquid{height:100%}.fc-direction-rtl .fc-scroller-harness>.fc-scroller{direction:rtl}.fc-theme-standard .fc-scrollgrid{border:1px solid #ddd;border:1px solid var(--fc-border-color,#ddd)}.fc .fc-scrollgrid,.fc .fc-scrollgrid table{table-layout:fixed;width:100%}.fc .fc-scrollgrid table{border-left-style:hidden;border-right-style:hidden;border-top-style:hidden}.fc .fc-scrollgrid{border-bottom-width:0;border-collapse:separate;border-right-width:0}.fc .fc-scrollgrid-liquid{height:100%}.fc .fc-scrollgrid-section,.fc .fc-scrollgrid-section>td,.fc .fc-scrollgrid-section table{height:1px}.fc .fc-scrollgrid-section-liquid{height:auto}.fc .fc-scrollgrid-section-liquid>td{height:100%}.fc .fc-scrollgrid-section>*{border-left-width:0;border-top-width:0}.fc .fc-scrollgrid-section-footer>*,.fc .fc-scrollgrid-section-header>*{border-bottom-width:0}.fc .fc-scrollgrid-section-body table,.fc .fc-scrollgrid-section-footer table{border-bottom-style:hidden}.fc .fc-scrollgrid-section-sticky>*{background:#fff;background:var(--fc-page-bg-color,#fff);position:-webkit-sticky;position:sticky;z-index:3}.fc .fc-scrollgrid-section-header.fc-scrollgrid-section-sticky>*{top:0}.fc .fc-scrollgrid-section-footer.fc-scrollgrid-section-sticky>*{bottom:0}.fc .fc-scrollgrid-sticky-shim{height:1px;margin-bottom:-1px}.fc-sticky{position:-webkit-sticky;position:sticky}.fc .fc-view-harness{flex-grow:1;position:relative}.fc .fc-view-harness-active>.fc-view{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-col-header-cell-cushion{display:inline-block;padding:2px 4px}.fc .fc-bg-event,.fc .fc-highlight,.fc .fc-non-business{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-non-business{background:hsla(0,0%,84.3%,.3);background:var(--fc-non-business-color,hsla(0,0%,84.3%,.3))}.fc .fc-bg-event{background:#8fdf82;background:var(--fc-bg-event-color,#8fdf82);opacity:.3;opacity:var(--fc-bg-event-opacity,.3)}.fc .fc-bg-event .fc-event-title{font-size:.85em;font-size:var(--fc-small-font-size,.85em);font-style:italic;margin:.5em}.fc .fc-highlight{background:rgba(188,232,241,.3);background:var(--fc-highlight-color,rgba(188,232,241,.3))}.fc .fc-cell-shaded,.fc .fc-day-disabled{background:hsla(0,0%,81.6%,.3);background:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3))}a.fc-event,a.fc-event:hover{text-decoration:none}.fc-event.fc-event-draggable,.fc-event[href]{cursor:pointer}.fc-event .fc-event-main{position:relative;z-index:2}.fc-event-dragging:not(.fc-event-selected){opacity:.75}.fc-event-dragging.fc-event-selected{box-shadow:0 2px 7px rgba(0,0,0,.3)}.fc-event .fc-event-resizer{display:none;position:absolute;z-index:4}.fc-event-selected .fc-event-resizer,.fc-event:hover .fc-event-resizer{display:block}.fc-event-selected .fc-event-resizer{background:#fff;background:var(--fc-page-bg-color,#fff);border:var(--fc-event-resizer-dot-border-width,1px) solid;border-color:inherit;border-radius:4px;border-radius:calc(var(--fc-event-resizer-dot-total-width, 8px)/2);border-width:1px;height:8px;height:var(--fc-event-resizer-dot-total-width,8px);width:8px;width:var(--fc-event-resizer-dot-total-width,8px)}.fc-event-selected .fc-event-resizer:before{bottom:-20px;content:\\\"\\\";left:-20px;position:absolute;right:-20px;top:-20px}.fc-event-selected{box-shadow:0 2px 5px rgba(0,0,0,.2)}.fc-event-selected:before{bottom:0;content:\\\"\\\";left:0;position:absolute;right:0;top:0;z-index:3}.fc-event-selected:after{background:rgba(0,0,0,.25);background:var(--fc-event-selected-overlay-color,rgba(0,0,0,.25));bottom:-1px;content:\\\"\\\";left:-1px;position:absolute;right:-1px;top:-1px;z-index:1}.fc-h-event{background-color:#3788d8;background-color:var(--fc-event-bg-color,#3788d8);border:1px solid #3788d8;border:1px solid var(--fc-event-border-color,#3788d8);display:block}.fc-h-event .fc-event-main{color:#fff;color:var(--fc-event-text-color,#fff)}.fc-h-event .fc-event-main-frame{display:flex}.fc-h-event .fc-event-time{max-width:100%;overflow:hidden}.fc-h-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-width:0}.fc-h-event .fc-event-title{display:inline-block;left:0;max-width:100%;overflow:hidden;right:0;vertical-align:top}.fc-h-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-start),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-end){border-bottom-left-radius:0;border-left-width:0;border-top-left-radius:0}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-end),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-start){border-bottom-right-radius:0;border-right-width:0;border-top-right-radius:0}.fc-h-event:not(.fc-event-selected) .fc-event-resizer{bottom:0;top:0;width:8px;width:var(--fc-event-resizer-thickness,8px)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end{cursor:w-resize;left:-4px;left:calc(var(--fc-event-resizer-thickness, 8px)/-2)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start{cursor:e-resize;right:-4px;right:calc(var(--fc-event-resizer-thickness, 8px)/-2)}.fc-h-event.fc-event-selected .fc-event-resizer{margin-top:-4px;margin-top:calc(var(--fc-event-resizer-dot-total-width, 8px)/-2);top:50%}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-start,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-end{left:-4px;left:calc(var(--fc-event-resizer-dot-total-width, 8px)/-2)}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-end,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-start{right:-4px;right:calc(var(--fc-event-resizer-dot-total-width, 8px)/-2)}.fc .fc-popover{box-shadow:0 2px 6px rgba(0,0,0,.15);position:absolute;z-index:9999}.fc .fc-popover-header{align-items:center;display:flex;flex-direction:row;justify-content:space-between;padding:3px 4px}.fc .fc-popover-title{margin:0 2px}.fc .fc-popover-close{cursor:pointer;font-size:1.1em;opacity:.65}.fc-theme-standard .fc-popover{background:#fff;background:var(--fc-page-bg-color,#fff);border:1px solid #ddd;border:1px solid var(--fc-border-color,#ddd)}.fc-theme-standard .fc-popover-header{background:hsla(0,0%,81.6%,.3);background:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3))}:root{--fc-daygrid-event-dot-width:8px}.fc-daygrid-day-events:after,.fc-daygrid-day-events:before,.fc-daygrid-day-frame:after,.fc-daygrid-day-frame:before,.fc-daygrid-event-harness:after,.fc-daygrid-event-harness:before{clear:both;content:\\\"\\\";display:table}.fc .fc-daygrid-body{position:relative;z-index:1}.fc .fc-daygrid-day.fc-day-today{background-color:rgba(255,220,40,.15);background-color:var(--fc-today-bg-color,rgba(255,220,40,.15))}.fc .fc-daygrid-day-frame{min-height:100%;position:relative}.fc .fc-daygrid-day-top{display:flex;flex-direction:row-reverse}.fc .fc-day-other .fc-daygrid-day-top{opacity:.3}.fc .fc-daygrid-day-number{padding:4px;position:relative;z-index:4}.fc .fc-daygrid-day-events{margin-top:1px}.fc .fc-daygrid-body-balanced .fc-daygrid-day-events{left:0;position:absolute;right:0}.fc .fc-daygrid-body-unbalanced .fc-daygrid-day-events{min-height:2em;position:relative}.fc .fc-daygrid-body-natural .fc-daygrid-day-events{margin-bottom:1em}.fc .fc-daygrid-event-harness{position:relative}.fc .fc-daygrid-event-harness-abs{left:0;position:absolute;right:0;top:0}.fc .fc-daygrid-bg-harness{bottom:0;position:absolute;top:0}.fc .fc-daygrid-day-bg .fc-non-business{z-index:1}.fc .fc-daygrid-day-bg .fc-bg-event{z-index:2}.fc .fc-daygrid-day-bg .fc-highlight{z-index:3}.fc .fc-daygrid-event{margin-top:1px;z-index:6}.fc .fc-daygrid-event.fc-event-mirror{z-index:7}.fc .fc-daygrid-day-bottom{font-size:.85em;padding:2px 3px 0}.fc .fc-daygrid-day-bottom:before{clear:both;content:\\\"\\\";display:table}.fc .fc-daygrid-more-link{cursor:pointer;position:relative;z-index:4}.fc .fc-daygrid-week-number{background-color:hsla(0,0%,81.6%,.3);background-color:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3));color:grey;color:var(--fc-neutral-text-color,grey);min-width:1.5em;padding:2px;position:absolute;text-align:center;top:0;z-index:5}.fc .fc-more-popover .fc-popover-body{min-width:220px;padding:10px}.fc-direction-ltr .fc-daygrid-event.fc-event-start,.fc-direction-rtl .fc-daygrid-event.fc-event-end{margin-left:2px}.fc-direction-ltr .fc-daygrid-event.fc-event-end,.fc-direction-rtl .fc-daygrid-event.fc-event-start{margin-right:2px}.fc-direction-ltr .fc-daygrid-week-number{border-radius:0 0 3px 0;left:0}.fc-direction-rtl .fc-daygrid-week-number{border-radius:0 0 0 3px;right:0}.fc-liquid-hack .fc-daygrid-day-frame{position:static}.fc-daygrid-event{border-radius:3px;font-size:.85em;font-size:var(--fc-small-font-size,.85em);position:relative;white-space:nowrap}.fc-daygrid-block-event .fc-event-time{font-weight:700}.fc-daygrid-block-event .fc-event-time,.fc-daygrid-block-event .fc-event-title{padding:1px}.fc-daygrid-dot-event{align-items:center;display:flex;padding:2px 0}.fc-daygrid-dot-event .fc-event-title{flex-grow:1;flex-shrink:1;font-weight:700;min-width:0;overflow:hidden}.fc-daygrid-dot-event.fc-event-mirror,.fc-daygrid-dot-event:hover{background:rgba(0,0,0,.1)}.fc-daygrid-dot-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-daygrid-event-dot{border:4px solid #3788d8;border:calc(var(--fc-daygrid-event-dot-width, 8px)/2) solid var(--fc-event-border-color,#3788d8);border-radius:4px;border-radius:calc(var(--fc-daygrid-event-dot-width, 8px)/2);box-sizing:content-box;height:0;margin:0 4px;width:0}.fc-direction-ltr .fc-daygrid-event .fc-event-time{margin-right:3px}.fc-direction-rtl .fc-daygrid-event .fc-event-time{margin-left:3px}.fc-v-event{background-color:#3788d8;background-color:var(--fc-event-bg-color,#3788d8);border:1px solid #3788d8;border:1px solid var(--fc-event-border-color,#3788d8);display:block}.fc-v-event .fc-event-main{color:#fff;color:var(--fc-event-text-color,#fff);height:100%}.fc-v-event .fc-event-main-frame{display:flex;flex-direction:column;height:100%}.fc-v-event .fc-event-time{flex-grow:0;flex-shrink:0;max-height:100%;overflow:hidden}.fc-v-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-height:0}.fc-v-event .fc-event-title{bottom:0;max-height:100%;overflow:hidden;top:0}.fc-v-event:not(.fc-event-start){border-top-left-radius:0;border-top-right-radius:0;border-top-width:0}.fc-v-event:not(.fc-event-end){border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-width:0}.fc-v-event.fc-event-selected:before{left:-10px;right:-10px}.fc-v-event .fc-event-resizer-start{cursor:n-resize}.fc-v-event .fc-event-resizer-end{cursor:s-resize}.fc-v-event:not(.fc-event-selected) .fc-event-resizer{height:8px;height:var(--fc-event-resizer-thickness,8px);left:0;right:0}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-start{top:-4px;top:calc(var(--fc-event-resizer-thickness, 8px)/-2)}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-end{bottom:-4px;bottom:calc(var(--fc-event-resizer-thickness, 8px)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer{left:50%;margin-left:-4px;margin-left:calc(var(--fc-event-resizer-dot-total-width, 8px)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-start{top:-4px;top:calc(var(--fc-event-resizer-dot-total-width, 8px)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-end{bottom:-4px;bottom:calc(var(--fc-event-resizer-dot-total-width, 8px)/-2)}.fc .fc-timegrid .fc-daygrid-body{z-index:2}.fc .fc-timegrid-divider{padding:0 0 2px}.fc .fc-timegrid-body{min-height:100%;position:relative;z-index:1}.fc .fc-timegrid-axis-chunk{position:relative}.fc .fc-timegrid-axis-chunk>table,.fc .fc-timegrid-slots{position:relative;z-index:1}.fc .fc-timegrid-slot{border-bottom:0;height:1.5em}.fc .fc-timegrid-slot:empty:before{content:\\\"\\u00A0\\\"}.fc .fc-timegrid-slot-minor{border-top-style:dotted}.fc .fc-timegrid-slot-label-cushion{display:inline-block;white-space:nowrap}.fc .fc-timegrid-slot-label{vertical-align:middle}.fc .fc-timegrid-axis-cushion,.fc .fc-timegrid-slot-label-cushion{padding:0 4px}.fc .fc-timegrid-axis-frame-liquid{height:100%}.fc .fc-timegrid-axis-frame{align-items:center;display:flex;justify-content:flex-end;overflow:hidden}.fc .fc-timegrid-axis-cushion{flex-shrink:0;max-width:60px}.fc-direction-ltr .fc-timegrid-slot-label-frame{text-align:right}.fc-direction-rtl .fc-timegrid-slot-label-frame{text-align:left}.fc-liquid-hack .fc-timegrid-axis-frame-liquid{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col.fc-day-today{background-color:rgba(255,220,40,.15);background-color:var(--fc-today-bg-color,rgba(255,220,40,.15))}.fc .fc-timegrid-col-frame{min-height:100%;position:relative}.fc-liquid-hack .fc-timegrid-col-frame{height:auto}.fc-liquid-hack .fc-timegrid-col-frame,.fc-media-screen .fc-timegrid-cols{bottom:0;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols>table{height:100%}.fc-media-screen .fc-timegrid-col-bg,.fc-media-screen .fc-timegrid-col-events,.fc-media-screen .fc-timegrid-now-indicator-container{left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col-bg{z-index:2}.fc .fc-timegrid-col-bg .fc-non-business{z-index:1}.fc .fc-timegrid-col-bg .fc-bg-event{z-index:2}.fc .fc-timegrid-col-bg .fc-highlight{z-index:3}.fc .fc-timegrid-bg-harness{left:0;position:absolute;right:0}.fc .fc-timegrid-col-events{z-index:3}.fc .fc-timegrid-now-indicator-container{bottom:0;overflow:hidden}.fc-direction-ltr .fc-timegrid-col-events{margin:0 2.5% 0 2px}.fc-direction-rtl .fc-timegrid-col-events{margin:0 2px 0 2.5%}.fc-timegrid-event-harness{position:absolute}.fc-timegrid-event-harness>.fc-timegrid-event{bottom:0;left:0;position:absolute;right:0;top:0}.fc-timegrid-event-harness-inset .fc-timegrid-event,.fc-timegrid-event.fc-event-mirror,.fc-timegrid-more-link{box-shadow:0 0 0 1px #fff;box-shadow:0 0 0 1px var(--fc-page-bg-color,#fff)}.fc-timegrid-event,.fc-timegrid-more-link{border-radius:3px;font-size:.85em;font-size:var(--fc-small-font-size,.85em)}.fc-timegrid-event{margin-bottom:1px}.fc-timegrid-event .fc-event-main{padding:1px 1px 0}.fc-timegrid-event .fc-event-time{font-size:.85em;font-size:var(--fc-small-font-size,.85em);margin-bottom:1px;white-space:nowrap}.fc-timegrid-event-short .fc-event-main-frame{flex-direction:row;overflow:hidden}.fc-timegrid-event-short .fc-event-time:after{content:\\\"\\u00A0-\\u00A0\\\"}.fc-timegrid-event-short .fc-event-title{font-size:.85em;font-size:var(--fc-small-font-size,.85em)}.fc-timegrid-more-link{background:#d0d0d0;background:var(--fc-more-link-bg-color,#d0d0d0);color:inherit;color:var(--fc-more-link-text-color,inherit);cursor:pointer;margin-bottom:1px;position:absolute;z-index:9999}.fc-timegrid-more-link-inner{padding:3px 2px;top:0}.fc-direction-ltr .fc-timegrid-more-link{right:0}.fc-direction-rtl .fc-timegrid-more-link{left:0}.fc .fc-timegrid-now-indicator-line{border:0 solid red;border-color:var(--fc-now-indicator-color,red);border-top:1px solid var(--fc-now-indicator-color,red);left:0;position:absolute;right:0;z-index:4}.fc .fc-timegrid-now-indicator-arrow{border-color:red;border-color:var(--fc-now-indicator-color,red);border-style:solid;margin-top:-5px;position:absolute;z-index:4}.fc-direction-ltr .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 0 5px 6px;left:0}.fc-direction-rtl .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 6px 5px 0;right:0}:root{--fc-list-event-dot-width:10px;--fc-list-event-hover-bg-color:#f5f5f5}.fc-theme-standard .fc-list{border:1px solid #ddd;border:1px solid var(--fc-border-color,#ddd)}.fc .fc-list-empty{align-items:center;background-color:hsla(0,0%,81.6%,.3);background-color:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3));display:flex;height:100%;justify-content:center}.fc .fc-list-empty-cushion{margin:5em 0}.fc .fc-list-table{border-style:hidden;width:100%}.fc .fc-list-table tr>*{border-left:0;border-right:0}.fc .fc-list-sticky .fc-list-day>*{background:#fff;background:var(--fc-page-bg-color,#fff);position:-webkit-sticky;position:sticky;top:0}.fc .fc-list-table th{padding:0}.fc .fc-list-day-cushion,.fc .fc-list-table td{padding:8px 14px}.fc .fc-list-day-cushion:after{clear:both;content:\\\"\\\";display:table}.fc-theme-standard .fc-list-day-cushion{background-color:hsla(0,0%,81.6%,.3);background-color:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3))}.fc-direction-ltr .fc-list-day-text,.fc-direction-rtl .fc-list-day-side-text{float:left}.fc-direction-ltr .fc-list-day-side-text,.fc-direction-rtl .fc-list-day-text{float:right}.fc-direction-ltr .fc-list-table .fc-list-event-graphic{padding-right:0}.fc-direction-rtl .fc-list-table .fc-list-event-graphic{padding-left:0}.fc .fc-list-event.fc-event-forced-url{cursor:pointer}.fc .fc-list-event:hover td{background-color:#f5f5f5;background-color:var(--fc-list-event-hover-bg-color,#f5f5f5)}.fc .fc-list-event-graphic,.fc .fc-list-event-time{white-space:nowrap;width:1px}.fc .fc-list-event-dot{border:5px solid #3788d8;border:calc(var(--fc-list-event-dot-width, 10px)/2) solid var(--fc-event-border-color,#3788d8);border-radius:5px;border-radius:calc(var(--fc-list-event-dot-width, 10px)/2);box-sizing:content-box;display:inline-block;height:0;width:0}.fc .fc-list-event-title a{color:inherit;text-decoration:none}.fc .fc-list-event.fc-event-forced-url:hover a{text-decoration:underline}.fc-theme-bootstrap a:not([href]){color:inherit}.fc .fc-event,.fc .fc-scrollgrid table tr{-moz-column-break-inside:avoid;break-inside:avoid}.fc-media-print{display:block;max-width:100%}.fc-media-print .fc-bg-event,.fc-media-print .fc-non-business,.fc-media-print .fc-timegrid-axis-chunk,.fc-media-print .fc-timegrid-slots,.fc-media-print .fc-timeline-slots{display:none}.fc-media-print .fc-h-event,.fc-media-print .fc-toolbar button,.fc-media-print .fc-v-event{background:#fff!important;color:#000!important}.fc-media-print .fc-event,.fc-media-print .fc-event-main{color:#000!important}.fc-media-print .fc-timegrid-event{margin:.5em 0}.fc .fc-timeline-body{min-height:100%;position:relative;z-index:1}.fc .fc-timeline-slots{bottom:0;position:absolute;top:0;z-index:1}.fc .fc-timeline-slots>table{height:100%}.fc .fc-timeline-slot-minor{border-style:dotted}.fc .fc-timeline-slot-frame{align-items:center;display:flex;justify-content:center}.fc .fc-timeline-header-row-chrono .fc-timeline-slot-frame{justify-content:flex-start}.fc .fc-timeline-slot-cushion{padding:4px 5px;white-space:nowrap}.fc-direction-ltr .fc-timeline-slot{border-right:0!important}.fc-direction-rtl .fc-timeline-slot{border-left:0!important}.fc .fc-timeline-now-indicator-container{bottom:0;left:0;position:absolute;right:0;top:0;width:0;z-index:4}.fc .fc-timeline-now-indicator-arrow,.fc .fc-timeline-now-indicator-line{border-color:red;border-color:var(--fc-now-indicator-color,red);border-style:solid;position:absolute;top:0}.fc .fc-timeline-now-indicator-arrow{border-left-color:transparent;border-right-color:transparent;border-width:6px 5px 0;margin:0 -6px}.fc .fc-timeline-now-indicator-line{border-width:0 0 0 1px;bottom:0;margin:0 -1px}.fc .fc-timeline-events{position:relative;width:0;z-index:3}.fc .fc-timeline-event-harness,.fc .fc-timeline-more-link{position:absolute;top:0}.fc-timeline-event{z-index:1}.fc-timeline-event.fc-event-mirror{z-index:2}.fc-timeline-event{align-items:center;border-radius:0;display:flex;font-size:.85em;font-size:var(--fc-small-font-size,.85em);margin-bottom:1px;padding:2px 1px;position:relative}.fc-timeline-event .fc-event-main{flex-grow:1;flex-shrink:1;min-width:0}.fc-timeline-event .fc-event-time{font-weight:700}.fc-timeline-event .fc-event-time,.fc-timeline-event .fc-event-title{padding:0 2px;white-space:nowrap}.fc-direction-ltr .fc-timeline-event.fc-event-end,.fc-direction-ltr .fc-timeline-more-link{margin-right:1px}.fc-direction-rtl .fc-timeline-event.fc-event-end,.fc-direction-rtl .fc-timeline-more-link{margin-left:1px}.fc-timeline-overlap-disabled .fc-timeline-event{margin-bottom:0;padding-bottom:5px;padding-top:5px}.fc-timeline-event:not(.fc-event-end):after,.fc-timeline-event:not(.fc-event-start):before{border-color:transparent #000;border-style:solid;border-width:5px;content:\\\"\\\";flex-grow:0;flex-shrink:0;height:0;margin:0 1px;opacity:.5;width:0}.fc-direction-ltr .fc-timeline-event:not(.fc-event-start):before,.fc-direction-rtl .fc-timeline-event:not(.fc-event-end):after{border-left:0}.fc-direction-ltr .fc-timeline-event:not(.fc-event-end):after,.fc-direction-rtl .fc-timeline-event:not(.fc-event-start):before{border-right:0}.fc-timeline-more-link{background:#d0d0d0;background:var(--fc-more-link-bg-color,#d0d0d0);color:inherit;color:var(--fc-more-link-text-color,inherit);cursor:pointer;font-size:.85em;font-size:var(--fc-small-font-size,.85em);padding:1px}.fc-timeline-more-link-inner{display:inline-block;left:0;padding:2px;right:0}.fc .fc-timeline-bg{bottom:0;left:0;position:absolute;right:0;top:0;width:0;z-index:2}.fc .fc-timeline-bg .fc-non-business{z-index:1}.fc .fc-timeline-bg .fc-bg-event{z-index:2}.fc .fc-timeline-bg .fc-highlight{z-index:3}.fc .fc-timeline-bg-harness{bottom:0;position:absolute;top:0}.fc .fc-resource-timeline-divider{cursor:col-resize;width:3px}.fc .fc-resource-timeline .fc-resource-group:not([rowspan]){background:hsla(0,0%,81.6%,.3);background:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3))}.fc .fc-timeline-lane-frame{position:relative}.fc .fc-timeline-overlap-enabled .fc-timeline-lane-frame .fc-timeline-events{box-sizing:content-box;padding-bottom:10px}.fc-timeline-body-expandrows td.fc-timeline-lane{position:relative}.fc-timeline-body-expandrows .fc-timeline-lane-frame{position:static}.fc-datagrid-cell-frame-liquid{height:100%}.fc-liquid-hack .fc-datagrid-cell-frame-liquid{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc .fc-datagrid-header .fc-datagrid-cell-frame{align-items:center;display:flex;justify-content:flex-start;position:relative}.fc .fc-datagrid-cell-resizer{bottom:0;cursor:col-resize;position:absolute;top:0;width:5px;z-index:1}.fc .fc-datagrid-cell-cushion{overflow:hidden;padding:8px;white-space:nowrap}.fc .fc-datagrid-expander{cursor:pointer;opacity:.65}.fc .fc-datagrid-expander .fc-icon{display:inline-block;width:1em}.fc .fc-datagrid-expander-placeholder{cursor:auto}.fc .fc-resource-timeline-flat .fc-datagrid-expander-placeholder{display:none}.fc-direction-ltr .fc-datagrid-cell-resizer{right:-3px}.fc-direction-rtl .fc-datagrid-cell-resizer{left:-3px}.fc-direction-ltr .fc-datagrid-expander{margin-right:3px}.fc-direction-rtl .fc-datagrid-expander{margin-left:3px}\"] }]\n    }], function () { return [{ type: ɵngcc0.ElementRef }]; }, { options: [{\n            type: Input\n        }], deepChangeDetection: [{\n            type: Input\n        }] }); })();\n\nclass FullCalendarModule {\n    static registerPlugins(plugins) {\n        globalPlugins.push(...plugins);\n    }\n}\nFullCalendarModule.ɵfac = function FullCalendarModule_Factory(t) { return new (t || FullCalendarModule)(); };\nFullCalendarModule.ɵmod = /*@__PURE__*/ ɵngcc0.ɵɵdefineNgModule({ type: FullCalendarModule });\nFullCalendarModule.ɵinj = /*@__PURE__*/ ɵngcc0.ɵɵdefineInjector({});\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(FullCalendarModule, [{\n        type: NgModule,\n        args: [{\n                declarations: [FullCalendarComponent],\n                imports: [],\n                exports: [FullCalendarComponent]\n            }]\n    }], null, null); })();\n(function () { (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(FullCalendarModule, { declarations: [FullCalendarComponent], exports: [FullCalendarComponent] }); })();\n\n/*\n * Public API Surface of fullcalendar\n */\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { FullCalendarComponent, FullCalendarModule };\n\n","/*!\nFullCalendar v5.7.2\nDocs & License: https://fullcalendar.io/\n(c) 2021 Adam Shaw\n*/\nimport './main.css';\n\nimport { __assign, __spreadArray, __extends } from 'tslib';\nimport { createContext, Component, createRef, createElement, Fragment, createPortal } from './vdom.js';\nexport * from './vdom.js';\n\n// no public types yet. when there are, export from:\n// import {} from './api-type-deps'\nvar EventSourceApi = /** @class */ (function () {\n    function EventSourceApi(context, internalEventSource) {\n        this.context = context;\n        this.internalEventSource = internalEventSource;\n    }\n    EventSourceApi.prototype.remove = function () {\n        this.context.dispatch({\n            type: 'REMOVE_EVENT_SOURCE',\n            sourceId: this.internalEventSource.sourceId,\n        });\n    };\n    EventSourceApi.prototype.refetch = function () {\n        this.context.dispatch({\n            type: 'FETCH_EVENT_SOURCES',\n            sourceIds: [this.internalEventSource.sourceId],\n            isRefetch: true,\n        });\n    };\n    Object.defineProperty(EventSourceApi.prototype, \"id\", {\n        get: function () {\n            return this.internalEventSource.publicId;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventSourceApi.prototype, \"url\", {\n        get: function () {\n            return this.internalEventSource.meta.url;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventSourceApi.prototype, \"format\", {\n        get: function () {\n            return this.internalEventSource.meta.format; // TODO: bad. not guaranteed\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return EventSourceApi;\n}());\n\nfunction removeElement(el) {\n    if (el.parentNode) {\n        el.parentNode.removeChild(el);\n    }\n}\n// Querying\n// ----------------------------------------------------------------------------------------------------------------\nfunction elementClosest(el, selector) {\n    if (el.closest) {\n        return el.closest(selector);\n        // really bad fallback for IE\n        // from https://developer.mozilla.org/en-US/docs/Web/API/Element/closest\n    }\n    if (!document.documentElement.contains(el)) {\n        return null;\n    }\n    do {\n        if (elementMatches(el, selector)) {\n            return el;\n        }\n        el = (el.parentElement || el.parentNode);\n    } while (el !== null && el.nodeType === 1);\n    return null;\n}\nfunction elementMatches(el, selector) {\n    var method = el.matches || el.matchesSelector || el.msMatchesSelector;\n    return method.call(el, selector);\n}\n// accepts multiple subject els\n// returns a real array. good for methods like forEach\n// TODO: accept the document\nfunction findElements(container, selector) {\n    var containers = container instanceof HTMLElement ? [container] : container;\n    var allMatches = [];\n    for (var i = 0; i < containers.length; i += 1) {\n        var matches = containers[i].querySelectorAll(selector);\n        for (var j = 0; j < matches.length; j += 1) {\n            allMatches.push(matches[j]);\n        }\n    }\n    return allMatches;\n}\n// accepts multiple subject els\n// only queries direct child elements // TODO: rename to findDirectChildren!\nfunction findDirectChildren(parent, selector) {\n    var parents = parent instanceof HTMLElement ? [parent] : parent;\n    var allMatches = [];\n    for (var i = 0; i < parents.length; i += 1) {\n        var childNodes = parents[i].children; // only ever elements\n        for (var j = 0; j < childNodes.length; j += 1) {\n            var childNode = childNodes[j];\n            if (!selector || elementMatches(childNode, selector)) {\n                allMatches.push(childNode);\n            }\n        }\n    }\n    return allMatches;\n}\n// Style\n// ----------------------------------------------------------------------------------------------------------------\nvar PIXEL_PROP_RE = /(top|left|right|bottom|width|height)$/i;\nfunction applyStyle(el, props) {\n    for (var propName in props) {\n        applyStyleProp(el, propName, props[propName]);\n    }\n}\nfunction applyStyleProp(el, name, val) {\n    if (val == null) {\n        el.style[name] = '';\n    }\n    else if (typeof val === 'number' && PIXEL_PROP_RE.test(name)) {\n        el.style[name] = val + \"px\";\n    }\n    else {\n        el.style[name] = val;\n    }\n}\n// Event Handling\n// ----------------------------------------------------------------------------------------------------------------\n// if intercepting bubbled events at the document/window/body level,\n// and want to see originating element (the 'target'), use this util instead\n// of `ev.target` because it goes within web-component boundaries.\nfunction getEventTargetViaRoot(ev) {\n    var _a, _b;\n    return (_b = (_a = ev.composedPath) === null || _a === void 0 ? void 0 : _a.call(ev)[0]) !== null && _b !== void 0 ? _b : ev.target;\n}\n\n// Stops a mouse/touch event from doing it's native browser action\nfunction preventDefault(ev) {\n    ev.preventDefault();\n}\n// Event Delegation\n// ----------------------------------------------------------------------------------------------------------------\nfunction buildDelegationHandler(selector, handler) {\n    return function (ev) {\n        var matchedChild = elementClosest(ev.target, selector);\n        if (matchedChild) {\n            handler.call(matchedChild, ev, matchedChild);\n        }\n    };\n}\nfunction listenBySelector(container, eventType, selector, handler) {\n    var attachedHandler = buildDelegationHandler(selector, handler);\n    container.addEventListener(eventType, attachedHandler);\n    return function () {\n        container.removeEventListener(eventType, attachedHandler);\n    };\n}\nfunction listenToHoverBySelector(container, selector, onMouseEnter, onMouseLeave) {\n    var currentMatchedChild;\n    return listenBySelector(container, 'mouseover', selector, function (mouseOverEv, matchedChild) {\n        if (matchedChild !== currentMatchedChild) {\n            currentMatchedChild = matchedChild;\n            onMouseEnter(mouseOverEv, matchedChild);\n            var realOnMouseLeave_1 = function (mouseLeaveEv) {\n                currentMatchedChild = null;\n                onMouseLeave(mouseLeaveEv, matchedChild);\n                matchedChild.removeEventListener('mouseleave', realOnMouseLeave_1);\n            };\n            // listen to the next mouseleave, and then unattach\n            matchedChild.addEventListener('mouseleave', realOnMouseLeave_1);\n        }\n    });\n}\n// Animation\n// ----------------------------------------------------------------------------------------------------------------\nvar transitionEventNames = [\n    'webkitTransitionEnd',\n    'otransitionend',\n    'oTransitionEnd',\n    'msTransitionEnd',\n    'transitionend',\n];\n// triggered only when the next single subsequent transition finishes\nfunction whenTransitionDone(el, callback) {\n    var realCallback = function (ev) {\n        callback(ev);\n        transitionEventNames.forEach(function (eventName) {\n            el.removeEventListener(eventName, realCallback);\n        });\n    };\n    transitionEventNames.forEach(function (eventName) {\n        el.addEventListener(eventName, realCallback); // cross-browser way to determine when the transition finishes\n    });\n}\n\nvar guidNumber = 0;\nfunction guid() {\n    guidNumber += 1;\n    return String(guidNumber);\n}\n/* FullCalendar-specific DOM Utilities\n----------------------------------------------------------------------------------------------------------------------*/\n// Make the mouse cursor express that an event is not allowed in the current area\nfunction disableCursor() {\n    document.body.classList.add('fc-not-allowed');\n}\n// Returns the mouse cursor to its original look\nfunction enableCursor() {\n    document.body.classList.remove('fc-not-allowed');\n}\n/* Selection\n----------------------------------------------------------------------------------------------------------------------*/\nfunction preventSelection(el) {\n    el.classList.add('fc-unselectable');\n    el.addEventListener('selectstart', preventDefault);\n}\nfunction allowSelection(el) {\n    el.classList.remove('fc-unselectable');\n    el.removeEventListener('selectstart', preventDefault);\n}\n/* Context Menu\n----------------------------------------------------------------------------------------------------------------------*/\nfunction preventContextMenu(el) {\n    el.addEventListener('contextmenu', preventDefault);\n}\nfunction allowContextMenu(el) {\n    el.removeEventListener('contextmenu', preventDefault);\n}\nfunction parseFieldSpecs(input) {\n    var specs = [];\n    var tokens = [];\n    var i;\n    var token;\n    if (typeof input === 'string') {\n        tokens = input.split(/\\s*,\\s*/);\n    }\n    else if (typeof input === 'function') {\n        tokens = [input];\n    }\n    else if (Array.isArray(input)) {\n        tokens = input;\n    }\n    for (i = 0; i < tokens.length; i += 1) {\n        token = tokens[i];\n        if (typeof token === 'string') {\n            specs.push(token.charAt(0) === '-' ?\n                { field: token.substring(1), order: -1 } :\n                { field: token, order: 1 });\n        }\n        else if (typeof token === 'function') {\n            specs.push({ func: token });\n        }\n    }\n    return specs;\n}\nfunction compareByFieldSpecs(obj0, obj1, fieldSpecs) {\n    var i;\n    var cmp;\n    for (i = 0; i < fieldSpecs.length; i += 1) {\n        cmp = compareByFieldSpec(obj0, obj1, fieldSpecs[i]);\n        if (cmp) {\n            return cmp;\n        }\n    }\n    return 0;\n}\nfunction compareByFieldSpec(obj0, obj1, fieldSpec) {\n    if (fieldSpec.func) {\n        return fieldSpec.func(obj0, obj1);\n    }\n    return flexibleCompare(obj0[fieldSpec.field], obj1[fieldSpec.field])\n        * (fieldSpec.order || 1);\n}\nfunction flexibleCompare(a, b) {\n    if (!a && !b) {\n        return 0;\n    }\n    if (b == null) {\n        return -1;\n    }\n    if (a == null) {\n        return 1;\n    }\n    if (typeof a === 'string' || typeof b === 'string') {\n        return String(a).localeCompare(String(b));\n    }\n    return a - b;\n}\n/* String Utilities\n----------------------------------------------------------------------------------------------------------------------*/\nfunction padStart(val, len) {\n    var s = String(val);\n    return '000'.substr(0, len - s.length) + s;\n}\n/* Number Utilities\n----------------------------------------------------------------------------------------------------------------------*/\nfunction compareNumbers(a, b) {\n    return a - b;\n}\nfunction isInt(n) {\n    return n % 1 === 0;\n}\n/* FC-specific DOM dimension stuff\n----------------------------------------------------------------------------------------------------------------------*/\nfunction computeSmallestCellWidth(cellEl) {\n    var allWidthEl = cellEl.querySelector('.fc-scrollgrid-shrink-frame');\n    var contentWidthEl = cellEl.querySelector('.fc-scrollgrid-shrink-cushion');\n    if (!allWidthEl) {\n        throw new Error('needs fc-scrollgrid-shrink-frame className'); // TODO: use const\n    }\n    if (!contentWidthEl) {\n        throw new Error('needs fc-scrollgrid-shrink-cushion className');\n    }\n    return cellEl.getBoundingClientRect().width - allWidthEl.getBoundingClientRect().width + // the cell padding+border\n        contentWidthEl.getBoundingClientRect().width;\n}\n\nvar DAY_IDS = ['sun', 'mon', 'tue', 'wed', 'thu', 'fri', 'sat'];\n// Adding\nfunction addWeeks(m, n) {\n    var a = dateToUtcArray(m);\n    a[2] += n * 7;\n    return arrayToUtcDate(a);\n}\nfunction addDays(m, n) {\n    var a = dateToUtcArray(m);\n    a[2] += n;\n    return arrayToUtcDate(a);\n}\nfunction addMs(m, n) {\n    var a = dateToUtcArray(m);\n    a[6] += n;\n    return arrayToUtcDate(a);\n}\n// Diffing (all return floats)\n// TODO: why not use ranges?\nfunction diffWeeks(m0, m1) {\n    return diffDays(m0, m1) / 7;\n}\nfunction diffDays(m0, m1) {\n    return (m1.valueOf() - m0.valueOf()) / (1000 * 60 * 60 * 24);\n}\nfunction diffHours(m0, m1) {\n    return (m1.valueOf() - m0.valueOf()) / (1000 * 60 * 60);\n}\nfunction diffMinutes(m0, m1) {\n    return (m1.valueOf() - m0.valueOf()) / (1000 * 60);\n}\nfunction diffSeconds(m0, m1) {\n    return (m1.valueOf() - m0.valueOf()) / 1000;\n}\nfunction diffDayAndTime(m0, m1) {\n    var m0day = startOfDay(m0);\n    var m1day = startOfDay(m1);\n    return {\n        years: 0,\n        months: 0,\n        days: Math.round(diffDays(m0day, m1day)),\n        milliseconds: (m1.valueOf() - m1day.valueOf()) - (m0.valueOf() - m0day.valueOf()),\n    };\n}\n// Diffing Whole Units\nfunction diffWholeWeeks(m0, m1) {\n    var d = diffWholeDays(m0, m1);\n    if (d !== null && d % 7 === 0) {\n        return d / 7;\n    }\n    return null;\n}\nfunction diffWholeDays(m0, m1) {\n    if (timeAsMs(m0) === timeAsMs(m1)) {\n        return Math.round(diffDays(m0, m1));\n    }\n    return null;\n}\n// Start-Of\nfunction startOfDay(m) {\n    return arrayToUtcDate([\n        m.getUTCFullYear(),\n        m.getUTCMonth(),\n        m.getUTCDate(),\n    ]);\n}\nfunction startOfHour(m) {\n    return arrayToUtcDate([\n        m.getUTCFullYear(),\n        m.getUTCMonth(),\n        m.getUTCDate(),\n        m.getUTCHours(),\n    ]);\n}\nfunction startOfMinute(m) {\n    return arrayToUtcDate([\n        m.getUTCFullYear(),\n        m.getUTCMonth(),\n        m.getUTCDate(),\n        m.getUTCHours(),\n        m.getUTCMinutes(),\n    ]);\n}\nfunction startOfSecond(m) {\n    return arrayToUtcDate([\n        m.getUTCFullYear(),\n        m.getUTCMonth(),\n        m.getUTCDate(),\n        m.getUTCHours(),\n        m.getUTCMinutes(),\n        m.getUTCSeconds(),\n    ]);\n}\n// Week Computation\nfunction weekOfYear(marker, dow, doy) {\n    var y = marker.getUTCFullYear();\n    var w = weekOfGivenYear(marker, y, dow, doy);\n    if (w < 1) {\n        return weekOfGivenYear(marker, y - 1, dow, doy);\n    }\n    var nextW = weekOfGivenYear(marker, y + 1, dow, doy);\n    if (nextW >= 1) {\n        return Math.min(w, nextW);\n    }\n    return w;\n}\nfunction weekOfGivenYear(marker, year, dow, doy) {\n    var firstWeekStart = arrayToUtcDate([year, 0, 1 + firstWeekOffset(year, dow, doy)]);\n    var dayStart = startOfDay(marker);\n    var days = Math.round(diffDays(firstWeekStart, dayStart));\n    return Math.floor(days / 7) + 1; // zero-indexed\n}\n// start-of-first-week - start-of-year\nfunction firstWeekOffset(year, dow, doy) {\n    // first-week day -- which january is always in the first week (4 for iso, 1 for other)\n    var fwd = 7 + dow - doy;\n    // first-week day local weekday -- which local weekday is fwd\n    var fwdlw = (7 + arrayToUtcDate([year, 0, fwd]).getUTCDay() - dow) % 7;\n    return -fwdlw + fwd - 1;\n}\n// Array Conversion\nfunction dateToLocalArray(date) {\n    return [\n        date.getFullYear(),\n        date.getMonth(),\n        date.getDate(),\n        date.getHours(),\n        date.getMinutes(),\n        date.getSeconds(),\n        date.getMilliseconds(),\n    ];\n}\nfunction arrayToLocalDate(a) {\n    return new Date(a[0], a[1] || 0, a[2] == null ? 1 : a[2], // day of month\n    a[3] || 0, a[4] || 0, a[5] || 0);\n}\nfunction dateToUtcArray(date) {\n    return [\n        date.getUTCFullYear(),\n        date.getUTCMonth(),\n        date.getUTCDate(),\n        date.getUTCHours(),\n        date.getUTCMinutes(),\n        date.getUTCSeconds(),\n        date.getUTCMilliseconds(),\n    ];\n}\nfunction arrayToUtcDate(a) {\n    // according to web standards (and Safari), a month index is required.\n    // massage if only given a year.\n    if (a.length === 1) {\n        a = a.concat([0]);\n    }\n    return new Date(Date.UTC.apply(Date, a));\n}\n// Other Utils\nfunction isValidDate(m) {\n    return !isNaN(m.valueOf());\n}\nfunction timeAsMs(m) {\n    return m.getUTCHours() * 1000 * 60 * 60 +\n        m.getUTCMinutes() * 1000 * 60 +\n        m.getUTCSeconds() * 1000 +\n        m.getUTCMilliseconds();\n}\n\nfunction createEventInstance(defId, range, forcedStartTzo, forcedEndTzo) {\n    return {\n        instanceId: guid(),\n        defId: defId,\n        range: range,\n        forcedStartTzo: forcedStartTzo == null ? null : forcedStartTzo,\n        forcedEndTzo: forcedEndTzo == null ? null : forcedEndTzo,\n    };\n}\n\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n// Merges an array of objects into a single object.\n// The second argument allows for an array of property names who's object values will be merged together.\nfunction mergeProps(propObjs, complexPropsMap) {\n    var dest = {};\n    if (complexPropsMap) {\n        for (var name_1 in complexPropsMap) {\n            var complexObjs = [];\n            // collect the trailing object values, stopping when a non-object is discovered\n            for (var i = propObjs.length - 1; i >= 0; i -= 1) {\n                var val = propObjs[i][name_1];\n                if (typeof val === 'object' && val) { // non-null object\n                    complexObjs.unshift(val);\n                }\n                else if (val !== undefined) {\n                    dest[name_1] = val; // if there were no objects, this value will be used\n                    break;\n                }\n            }\n            // if the trailing values were objects, use the merged value\n            if (complexObjs.length) {\n                dest[name_1] = mergeProps(complexObjs);\n            }\n        }\n    }\n    // copy values into the destination, going from last to first\n    for (var i = propObjs.length - 1; i >= 0; i -= 1) {\n        var props = propObjs[i];\n        for (var name_2 in props) {\n            if (!(name_2 in dest)) { // if already assigned by previous props or complex props, don't reassign\n                dest[name_2] = props[name_2];\n            }\n        }\n    }\n    return dest;\n}\nfunction filterHash(hash, func) {\n    var filtered = {};\n    for (var key in hash) {\n        if (func(hash[key], key)) {\n            filtered[key] = hash[key];\n        }\n    }\n    return filtered;\n}\nfunction mapHash(hash, func) {\n    var newHash = {};\n    for (var key in hash) {\n        newHash[key] = func(hash[key], key);\n    }\n    return newHash;\n}\nfunction arrayToHash(a) {\n    var hash = {};\n    for (var _i = 0, a_1 = a; _i < a_1.length; _i++) {\n        var item = a_1[_i];\n        hash[item] = true;\n    }\n    return hash;\n}\nfunction buildHashFromArray(a, func) {\n    var hash = {};\n    for (var i = 0; i < a.length; i += 1) {\n        var tuple = func(a[i], i);\n        hash[tuple[0]] = tuple[1];\n    }\n    return hash;\n}\nfunction hashValuesToArray(obj) {\n    var a = [];\n    for (var key in obj) {\n        a.push(obj[key]);\n    }\n    return a;\n}\nfunction isPropsEqual(obj0, obj1) {\n    if (obj0 === obj1) {\n        return true;\n    }\n    for (var key in obj0) {\n        if (hasOwnProperty.call(obj0, key)) {\n            if (!(key in obj1)) {\n                return false;\n            }\n        }\n    }\n    for (var key in obj1) {\n        if (hasOwnProperty.call(obj1, key)) {\n            if (obj0[key] !== obj1[key]) {\n                return false;\n            }\n        }\n    }\n    return true;\n}\nfunction getUnequalProps(obj0, obj1) {\n    var keys = [];\n    for (var key in obj0) {\n        if (hasOwnProperty.call(obj0, key)) {\n            if (!(key in obj1)) {\n                keys.push(key);\n            }\n        }\n    }\n    for (var key in obj1) {\n        if (hasOwnProperty.call(obj1, key)) {\n            if (obj0[key] !== obj1[key]) {\n                keys.push(key);\n            }\n        }\n    }\n    return keys;\n}\nfunction compareObjs(oldProps, newProps, equalityFuncs) {\n    if (equalityFuncs === void 0) { equalityFuncs = {}; }\n    if (oldProps === newProps) {\n        return true;\n    }\n    for (var key in newProps) {\n        if (key in oldProps && isObjValsEqual(oldProps[key], newProps[key], equalityFuncs[key])) ;\n        else {\n            return false;\n        }\n    }\n    // check for props that were omitted in the new\n    for (var key in oldProps) {\n        if (!(key in newProps)) {\n            return false;\n        }\n    }\n    return true;\n}\n/*\nassumed \"true\" equality for handler names like \"onReceiveSomething\"\n*/\nfunction isObjValsEqual(val0, val1, comparator) {\n    if (val0 === val1 || comparator === true) {\n        return true;\n    }\n    if (comparator) {\n        return comparator(val0, val1);\n    }\n    return false;\n}\nfunction collectFromHash(hash, startIndex, endIndex, step) {\n    if (startIndex === void 0) { startIndex = 0; }\n    if (step === void 0) { step = 1; }\n    var res = [];\n    if (endIndex == null) {\n        endIndex = Object.keys(hash).length;\n    }\n    for (var i = startIndex; i < endIndex; i += step) {\n        var val = hash[i];\n        if (val !== undefined) { // will disregard undefined for sparse arrays\n            res.push(val);\n        }\n    }\n    return res;\n}\n\nfunction parseRecurring(refined, defaultAllDay, dateEnv, recurringTypes) {\n    for (var i = 0; i < recurringTypes.length; i += 1) {\n        var parsed = recurringTypes[i].parse(refined, dateEnv);\n        if (parsed) {\n            var allDay = refined.allDay;\n            if (allDay == null) {\n                allDay = defaultAllDay;\n                if (allDay == null) {\n                    allDay = parsed.allDayGuess;\n                    if (allDay == null) {\n                        allDay = false;\n                    }\n                }\n            }\n            return {\n                allDay: allDay,\n                duration: parsed.duration,\n                typeData: parsed.typeData,\n                typeId: i,\n            };\n        }\n    }\n    return null;\n}\nfunction expandRecurring(eventStore, framingRange, context) {\n    var dateEnv = context.dateEnv, pluginHooks = context.pluginHooks, options = context.options;\n    var defs = eventStore.defs, instances = eventStore.instances;\n    // remove existing recurring instances\n    // TODO: bad. always expand events as a second step\n    instances = filterHash(instances, function (instance) { return !defs[instance.defId].recurringDef; });\n    for (var defId in defs) {\n        var def = defs[defId];\n        if (def.recurringDef) {\n            var duration = def.recurringDef.duration;\n            if (!duration) {\n                duration = def.allDay ?\n                    options.defaultAllDayEventDuration :\n                    options.defaultTimedEventDuration;\n            }\n            var starts = expandRecurringRanges(def, duration, framingRange, dateEnv, pluginHooks.recurringTypes);\n            for (var _i = 0, starts_1 = starts; _i < starts_1.length; _i++) {\n                var start = starts_1[_i];\n                var instance = createEventInstance(defId, {\n                    start: start,\n                    end: dateEnv.add(start, duration),\n                });\n                instances[instance.instanceId] = instance;\n            }\n        }\n    }\n    return { defs: defs, instances: instances };\n}\n/*\nEvent MUST have a recurringDef\n*/\nfunction expandRecurringRanges(eventDef, duration, framingRange, dateEnv, recurringTypes) {\n    var typeDef = recurringTypes[eventDef.recurringDef.typeId];\n    var markers = typeDef.expand(eventDef.recurringDef.typeData, {\n        start: dateEnv.subtract(framingRange.start, duration),\n        end: framingRange.end,\n    }, dateEnv);\n    // the recurrence plugins don't guarantee that all-day events are start-of-day, so we have to\n    if (eventDef.allDay) {\n        markers = markers.map(startOfDay);\n    }\n    return markers;\n}\n\nvar INTERNAL_UNITS = ['years', 'months', 'days', 'milliseconds'];\nvar PARSE_RE = /^(-?)(?:(\\d+)\\.)?(\\d+):(\\d\\d)(?::(\\d\\d)(?:\\.(\\d\\d\\d))?)?/;\n// Parsing and Creation\nfunction createDuration(input, unit) {\n    var _a;\n    if (typeof input === 'string') {\n        return parseString(input);\n    }\n    if (typeof input === 'object' && input) { // non-null object\n        return parseObject(input);\n    }\n    if (typeof input === 'number') {\n        return parseObject((_a = {}, _a[unit || 'milliseconds'] = input, _a));\n    }\n    return null;\n}\nfunction parseString(s) {\n    var m = PARSE_RE.exec(s);\n    if (m) {\n        var sign = m[1] ? -1 : 1;\n        return {\n            years: 0,\n            months: 0,\n            days: sign * (m[2] ? parseInt(m[2], 10) : 0),\n            milliseconds: sign * ((m[3] ? parseInt(m[3], 10) : 0) * 60 * 60 * 1000 + // hours\n                (m[4] ? parseInt(m[4], 10) : 0) * 60 * 1000 + // minutes\n                (m[5] ? parseInt(m[5], 10) : 0) * 1000 + // seconds\n                (m[6] ? parseInt(m[6], 10) : 0) // ms\n            ),\n        };\n    }\n    return null;\n}\nfunction parseObject(obj) {\n    var duration = {\n        years: obj.years || obj.year || 0,\n        months: obj.months || obj.month || 0,\n        days: obj.days || obj.day || 0,\n        milliseconds: (obj.hours || obj.hour || 0) * 60 * 60 * 1000 + // hours\n            (obj.minutes || obj.minute || 0) * 60 * 1000 + // minutes\n            (obj.seconds || obj.second || 0) * 1000 + // seconds\n            (obj.milliseconds || obj.millisecond || obj.ms || 0), // ms\n    };\n    var weeks = obj.weeks || obj.week;\n    if (weeks) {\n        duration.days += weeks * 7;\n        duration.specifiedWeeks = true;\n    }\n    return duration;\n}\n// Equality\nfunction durationsEqual(d0, d1) {\n    return d0.years === d1.years &&\n        d0.months === d1.months &&\n        d0.days === d1.days &&\n        d0.milliseconds === d1.milliseconds;\n}\nfunction asCleanDays(dur) {\n    if (!dur.years && !dur.months && !dur.milliseconds) {\n        return dur.days;\n    }\n    return 0;\n}\n// Simple Math\nfunction addDurations(d0, d1) {\n    return {\n        years: d0.years + d1.years,\n        months: d0.months + d1.months,\n        days: d0.days + d1.days,\n        milliseconds: d0.milliseconds + d1.milliseconds,\n    };\n}\nfunction subtractDurations(d1, d0) {\n    return {\n        years: d1.years - d0.years,\n        months: d1.months - d0.months,\n        days: d1.days - d0.days,\n        milliseconds: d1.milliseconds - d0.milliseconds,\n    };\n}\nfunction multiplyDuration(d, n) {\n    return {\n        years: d.years * n,\n        months: d.months * n,\n        days: d.days * n,\n        milliseconds: d.milliseconds * n,\n    };\n}\n// Conversions\n// \"Rough\" because they are based on average-case Gregorian months/years\nfunction asRoughYears(dur) {\n    return asRoughDays(dur) / 365;\n}\nfunction asRoughMonths(dur) {\n    return asRoughDays(dur) / 30;\n}\nfunction asRoughDays(dur) {\n    return asRoughMs(dur) / 864e5;\n}\nfunction asRoughMinutes(dur) {\n    return asRoughMs(dur) / (1000 * 60);\n}\nfunction asRoughSeconds(dur) {\n    return asRoughMs(dur) / 1000;\n}\nfunction asRoughMs(dur) {\n    return dur.years * (365 * 864e5) +\n        dur.months * (30 * 864e5) +\n        dur.days * 864e5 +\n        dur.milliseconds;\n}\n// Advanced Math\nfunction wholeDivideDurations(numerator, denominator) {\n    var res = null;\n    for (var i = 0; i < INTERNAL_UNITS.length; i += 1) {\n        var unit = INTERNAL_UNITS[i];\n        if (denominator[unit]) {\n            var localRes = numerator[unit] / denominator[unit];\n            if (!isInt(localRes) || (res !== null && res !== localRes)) {\n                return null;\n            }\n            res = localRes;\n        }\n        else if (numerator[unit]) {\n            // needs to divide by something but can't!\n            return null;\n        }\n    }\n    return res;\n}\nfunction greatestDurationDenominator(dur) {\n    var ms = dur.milliseconds;\n    if (ms) {\n        if (ms % 1000 !== 0) {\n            return { unit: 'millisecond', value: ms };\n        }\n        if (ms % (1000 * 60) !== 0) {\n            return { unit: 'second', value: ms / 1000 };\n        }\n        if (ms % (1000 * 60 * 60) !== 0) {\n            return { unit: 'minute', value: ms / (1000 * 60) };\n        }\n        if (ms) {\n            return { unit: 'hour', value: ms / (1000 * 60 * 60) };\n        }\n    }\n    if (dur.days) {\n        if (dur.specifiedWeeks && dur.days % 7 === 0) {\n            return { unit: 'week', value: dur.days / 7 };\n        }\n        return { unit: 'day', value: dur.days };\n    }\n    if (dur.months) {\n        return { unit: 'month', value: dur.months };\n    }\n    if (dur.years) {\n        return { unit: 'year', value: dur.years };\n    }\n    return { unit: 'millisecond', value: 0 };\n}\n\n// timeZoneOffset is in minutes\nfunction buildIsoString(marker, timeZoneOffset, stripZeroTime) {\n    if (stripZeroTime === void 0) { stripZeroTime = false; }\n    var s = marker.toISOString();\n    s = s.replace('.000', '');\n    if (stripZeroTime) {\n        s = s.replace('T00:00:00Z', '');\n    }\n    if (s.length > 10) { // time part wasn't stripped, can add timezone info\n        if (timeZoneOffset == null) {\n            s = s.replace('Z', '');\n        }\n        else if (timeZoneOffset !== 0) {\n            s = s.replace('Z', formatTimeZoneOffset(timeZoneOffset, true));\n        }\n        // otherwise, its UTC-0 and we want to keep the Z\n    }\n    return s;\n}\n// formats the date, but with no time part\n// TODO: somehow merge with buildIsoString and stripZeroTime\n// TODO: rename. omit \"string\"\nfunction formatDayString(marker) {\n    return marker.toISOString().replace(/T.*$/, '');\n}\n// TODO: use Date::toISOString and use everything after the T?\nfunction formatIsoTimeString(marker) {\n    return padStart(marker.getUTCHours(), 2) + ':' +\n        padStart(marker.getUTCMinutes(), 2) + ':' +\n        padStart(marker.getUTCSeconds(), 2);\n}\nfunction formatTimeZoneOffset(minutes, doIso) {\n    if (doIso === void 0) { doIso = false; }\n    var sign = minutes < 0 ? '-' : '+';\n    var abs = Math.abs(minutes);\n    var hours = Math.floor(abs / 60);\n    var mins = Math.round(abs % 60);\n    if (doIso) {\n        return sign + padStart(hours, 2) + \":\" + padStart(mins, 2);\n    }\n    return \"GMT\" + sign + hours + (mins ? \":\" + padStart(mins, 2) : '');\n}\n\n// TODO: new util arrayify?\nfunction removeExact(array, exactVal) {\n    var removeCnt = 0;\n    var i = 0;\n    while (i < array.length) {\n        if (array[i] === exactVal) {\n            array.splice(i, 1);\n            removeCnt += 1;\n        }\n        else {\n            i += 1;\n        }\n    }\n    return removeCnt;\n}\nfunction isArraysEqual(a0, a1, equalityFunc) {\n    if (a0 === a1) {\n        return true;\n    }\n    var len = a0.length;\n    var i;\n    if (len !== a1.length) { // not array? or not same length?\n        return false;\n    }\n    for (i = 0; i < len; i += 1) {\n        if (!(equalityFunc ? equalityFunc(a0[i], a1[i]) : a0[i] === a1[i])) {\n            return false;\n        }\n    }\n    return true;\n}\n\nfunction memoize(workerFunc, resEquality, teardownFunc) {\n    var currentArgs;\n    var currentRes;\n    return function () {\n        var newArgs = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            newArgs[_i] = arguments[_i];\n        }\n        if (!currentArgs) {\n            currentRes = workerFunc.apply(this, newArgs);\n        }\n        else if (!isArraysEqual(currentArgs, newArgs)) {\n            if (teardownFunc) {\n                teardownFunc(currentRes);\n            }\n            var res = workerFunc.apply(this, newArgs);\n            if (!resEquality || !resEquality(res, currentRes)) {\n                currentRes = res;\n            }\n        }\n        currentArgs = newArgs;\n        return currentRes;\n    };\n}\nfunction memoizeObjArg(workerFunc, resEquality, teardownFunc) {\n    var _this = this;\n    var currentArg;\n    var currentRes;\n    return function (newArg) {\n        if (!currentArg) {\n            currentRes = workerFunc.call(_this, newArg);\n        }\n        else if (!isPropsEqual(currentArg, newArg)) {\n            if (teardownFunc) {\n                teardownFunc(currentRes);\n            }\n            var res = workerFunc.call(_this, newArg);\n            if (!resEquality || !resEquality(res, currentRes)) {\n                currentRes = res;\n            }\n        }\n        currentArg = newArg;\n        return currentRes;\n    };\n}\nfunction memoizeArraylike(// used at all?\nworkerFunc, resEquality, teardownFunc) {\n    var _this = this;\n    var currentArgSets = [];\n    var currentResults = [];\n    return function (newArgSets) {\n        var currentLen = currentArgSets.length;\n        var newLen = newArgSets.length;\n        var i = 0;\n        for (; i < currentLen; i += 1) {\n            if (!newArgSets[i]) { // one of the old sets no longer exists\n                if (teardownFunc) {\n                    teardownFunc(currentResults[i]);\n                }\n            }\n            else if (!isArraysEqual(currentArgSets[i], newArgSets[i])) {\n                if (teardownFunc) {\n                    teardownFunc(currentResults[i]);\n                }\n                var res = workerFunc.apply(_this, newArgSets[i]);\n                if (!resEquality || !resEquality(res, currentResults[i])) {\n                    currentResults[i] = res;\n                }\n            }\n        }\n        for (; i < newLen; i += 1) {\n            currentResults[i] = workerFunc.apply(_this, newArgSets[i]);\n        }\n        currentArgSets = newArgSets;\n        currentResults.splice(newLen); // remove excess\n        return currentResults;\n    };\n}\nfunction memoizeHashlike(// used?\nworkerFunc, resEquality, teardownFunc) {\n    var _this = this;\n    var currentArgHash = {};\n    var currentResHash = {};\n    return function (newArgHash) {\n        var newResHash = {};\n        for (var key in newArgHash) {\n            if (!currentResHash[key]) {\n                newResHash[key] = workerFunc.apply(_this, newArgHash[key]);\n            }\n            else if (!isArraysEqual(currentArgHash[key], newArgHash[key])) {\n                if (teardownFunc) {\n                    teardownFunc(currentResHash[key]);\n                }\n                var res = workerFunc.apply(_this, newArgHash[key]);\n                newResHash[key] = (resEquality && resEquality(res, currentResHash[key]))\n                    ? currentResHash[key]\n                    : res;\n            }\n            else {\n                newResHash[key] = currentResHash[key];\n            }\n        }\n        currentArgHash = newArgHash;\n        currentResHash = newResHash;\n        return newResHash;\n    };\n}\n\nvar EXTENDED_SETTINGS_AND_SEVERITIES = {\n    week: 3,\n    separator: 0,\n    omitZeroMinute: 0,\n    meridiem: 0,\n    omitCommas: 0,\n};\nvar STANDARD_DATE_PROP_SEVERITIES = {\n    timeZoneName: 7,\n    era: 6,\n    year: 5,\n    month: 4,\n    day: 2,\n    weekday: 2,\n    hour: 1,\n    minute: 1,\n    second: 1,\n};\nvar MERIDIEM_RE = /\\s*([ap])\\.?m\\.?/i; // eats up leading spaces too\nvar COMMA_RE = /,/g; // we need re for globalness\nvar MULTI_SPACE_RE = /\\s+/g;\nvar LTR_RE = /\\u200e/g; // control character\nvar UTC_RE = /UTC|GMT/;\nvar NativeFormatter = /** @class */ (function () {\n    function NativeFormatter(formatSettings) {\n        var standardDateProps = {};\n        var extendedSettings = {};\n        var severity = 0;\n        for (var name_1 in formatSettings) {\n            if (name_1 in EXTENDED_SETTINGS_AND_SEVERITIES) {\n                extendedSettings[name_1] = formatSettings[name_1];\n                severity = Math.max(EXTENDED_SETTINGS_AND_SEVERITIES[name_1], severity);\n            }\n            else {\n                standardDateProps[name_1] = formatSettings[name_1];\n                if (name_1 in STANDARD_DATE_PROP_SEVERITIES) { // TODO: what about hour12? no severity\n                    severity = Math.max(STANDARD_DATE_PROP_SEVERITIES[name_1], severity);\n                }\n            }\n        }\n        this.standardDateProps = standardDateProps;\n        this.extendedSettings = extendedSettings;\n        this.severity = severity;\n        this.buildFormattingFunc = memoize(buildFormattingFunc);\n    }\n    NativeFormatter.prototype.format = function (date, context) {\n        return this.buildFormattingFunc(this.standardDateProps, this.extendedSettings, context)(date);\n    };\n    NativeFormatter.prototype.formatRange = function (start, end, context, betterDefaultSeparator) {\n        var _a = this, standardDateProps = _a.standardDateProps, extendedSettings = _a.extendedSettings;\n        var diffSeverity = computeMarkerDiffSeverity(start.marker, end.marker, context.calendarSystem);\n        if (!diffSeverity) {\n            return this.format(start, context);\n        }\n        var biggestUnitForPartial = diffSeverity;\n        if (biggestUnitForPartial > 1 && // the two dates are different in a way that's larger scale than time\n            (standardDateProps.year === 'numeric' || standardDateProps.year === '2-digit') &&\n            (standardDateProps.month === 'numeric' || standardDateProps.month === '2-digit') &&\n            (standardDateProps.day === 'numeric' || standardDateProps.day === '2-digit')) {\n            biggestUnitForPartial = 1; // make it look like the dates are only different in terms of time\n        }\n        var full0 = this.format(start, context);\n        var full1 = this.format(end, context);\n        if (full0 === full1) {\n            return full0;\n        }\n        var partialDateProps = computePartialFormattingOptions(standardDateProps, biggestUnitForPartial);\n        var partialFormattingFunc = buildFormattingFunc(partialDateProps, extendedSettings, context);\n        var partial0 = partialFormattingFunc(start);\n        var partial1 = partialFormattingFunc(end);\n        var insertion = findCommonInsertion(full0, partial0, full1, partial1);\n        var separator = extendedSettings.separator || betterDefaultSeparator || context.defaultSeparator || '';\n        if (insertion) {\n            return insertion.before + partial0 + separator + partial1 + insertion.after;\n        }\n        return full0 + separator + full1;\n    };\n    NativeFormatter.prototype.getLargestUnit = function () {\n        switch (this.severity) {\n            case 7:\n            case 6:\n            case 5:\n                return 'year';\n            case 4:\n                return 'month';\n            case 3:\n                return 'week';\n            case 2:\n                return 'day';\n            default:\n                return 'time'; // really?\n        }\n    };\n    return NativeFormatter;\n}());\nfunction buildFormattingFunc(standardDateProps, extendedSettings, context) {\n    var standardDatePropCnt = Object.keys(standardDateProps).length;\n    if (standardDatePropCnt === 1 && standardDateProps.timeZoneName === 'short') {\n        return function (date) { return (formatTimeZoneOffset(date.timeZoneOffset)); };\n    }\n    if (standardDatePropCnt === 0 && extendedSettings.week) {\n        return function (date) { return (formatWeekNumber(context.computeWeekNumber(date.marker), context.weekText, context.locale, extendedSettings.week)); };\n    }\n    return buildNativeFormattingFunc(standardDateProps, extendedSettings, context);\n}\nfunction buildNativeFormattingFunc(standardDateProps, extendedSettings, context) {\n    standardDateProps = __assign({}, standardDateProps); // copy\n    extendedSettings = __assign({}, extendedSettings); // copy\n    sanitizeSettings(standardDateProps, extendedSettings);\n    standardDateProps.timeZone = 'UTC'; // we leverage the only guaranteed timeZone for our UTC markers\n    var normalFormat = new Intl.DateTimeFormat(context.locale.codes, standardDateProps);\n    var zeroFormat; // needed?\n    if (extendedSettings.omitZeroMinute) {\n        var zeroProps = __assign({}, standardDateProps);\n        delete zeroProps.minute; // seconds and ms were already considered in sanitizeSettings\n        zeroFormat = new Intl.DateTimeFormat(context.locale.codes, zeroProps);\n    }\n    return function (date) {\n        var marker = date.marker;\n        var format;\n        if (zeroFormat && !marker.getUTCMinutes()) {\n            format = zeroFormat;\n        }\n        else {\n            format = normalFormat;\n        }\n        var s = format.format(marker);\n        return postProcess(s, date, standardDateProps, extendedSettings, context);\n    };\n}\nfunction sanitizeSettings(standardDateProps, extendedSettings) {\n    // deal with a browser inconsistency where formatting the timezone\n    // requires that the hour/minute be present.\n    if (standardDateProps.timeZoneName) {\n        if (!standardDateProps.hour) {\n            standardDateProps.hour = '2-digit';\n        }\n        if (!standardDateProps.minute) {\n            standardDateProps.minute = '2-digit';\n        }\n    }\n    // only support short timezone names\n    if (standardDateProps.timeZoneName === 'long') {\n        standardDateProps.timeZoneName = 'short';\n    }\n    // if requesting to display seconds, MUST display minutes\n    if (extendedSettings.omitZeroMinute && (standardDateProps.second || standardDateProps.millisecond)) {\n        delete extendedSettings.omitZeroMinute;\n    }\n}\nfunction postProcess(s, date, standardDateProps, extendedSettings, context) {\n    s = s.replace(LTR_RE, ''); // remove left-to-right control chars. do first. good for other regexes\n    if (standardDateProps.timeZoneName === 'short') {\n        s = injectTzoStr(s, (context.timeZone === 'UTC' || date.timeZoneOffset == null) ?\n            'UTC' : // important to normalize for IE, which does \"GMT\"\n            formatTimeZoneOffset(date.timeZoneOffset));\n    }\n    if (extendedSettings.omitCommas) {\n        s = s.replace(COMMA_RE, '').trim();\n    }\n    if (extendedSettings.omitZeroMinute) {\n        s = s.replace(':00', ''); // zeroFormat doesn't always achieve this\n    }\n    // ^ do anything that might create adjacent spaces before this point,\n    // because MERIDIEM_RE likes to eat up loading spaces\n    if (extendedSettings.meridiem === false) {\n        s = s.replace(MERIDIEM_RE, '').trim();\n    }\n    else if (extendedSettings.meridiem === 'narrow') { // a/p\n        s = s.replace(MERIDIEM_RE, function (m0, m1) { return m1.toLocaleLowerCase(); });\n    }\n    else if (extendedSettings.meridiem === 'short') { // am/pm\n        s = s.replace(MERIDIEM_RE, function (m0, m1) { return m1.toLocaleLowerCase() + \"m\"; });\n    }\n    else if (extendedSettings.meridiem === 'lowercase') { // other meridiem transformers already converted to lowercase\n        s = s.replace(MERIDIEM_RE, function (m0) { return m0.toLocaleLowerCase(); });\n    }\n    s = s.replace(MULTI_SPACE_RE, ' ');\n    s = s.trim();\n    return s;\n}\nfunction injectTzoStr(s, tzoStr) {\n    var replaced = false;\n    s = s.replace(UTC_RE, function () {\n        replaced = true;\n        return tzoStr;\n    });\n    // IE11 doesn't include UTC/GMT in the original string, so append to end\n    if (!replaced) {\n        s += \" \" + tzoStr;\n    }\n    return s;\n}\nfunction formatWeekNumber(num, weekText, locale, display) {\n    var parts = [];\n    if (display === 'narrow') {\n        parts.push(weekText);\n    }\n    else if (display === 'short') {\n        parts.push(weekText, ' ');\n    }\n    // otherwise, considered 'numeric'\n    parts.push(locale.simpleNumberFormat.format(num));\n    if (locale.options.direction === 'rtl') { // TODO: use control characters instead?\n        parts.reverse();\n    }\n    return parts.join('');\n}\n// Range Formatting Utils\n// 0 = exactly the same\n// 1 = different by time\n// and bigger\nfunction computeMarkerDiffSeverity(d0, d1, ca) {\n    if (ca.getMarkerYear(d0) !== ca.getMarkerYear(d1)) {\n        return 5;\n    }\n    if (ca.getMarkerMonth(d0) !== ca.getMarkerMonth(d1)) {\n        return 4;\n    }\n    if (ca.getMarkerDay(d0) !== ca.getMarkerDay(d1)) {\n        return 2;\n    }\n    if (timeAsMs(d0) !== timeAsMs(d1)) {\n        return 1;\n    }\n    return 0;\n}\nfunction computePartialFormattingOptions(options, biggestUnit) {\n    var partialOptions = {};\n    for (var name_2 in options) {\n        if (!(name_2 in STANDARD_DATE_PROP_SEVERITIES) || // not a date part prop (like timeZone)\n            STANDARD_DATE_PROP_SEVERITIES[name_2] <= biggestUnit) {\n            partialOptions[name_2] = options[name_2];\n        }\n    }\n    return partialOptions;\n}\nfunction findCommonInsertion(full0, partial0, full1, partial1) {\n    var i0 = 0;\n    while (i0 < full0.length) {\n        var found0 = full0.indexOf(partial0, i0);\n        if (found0 === -1) {\n            break;\n        }\n        var before0 = full0.substr(0, found0);\n        i0 = found0 + partial0.length;\n        var after0 = full0.substr(i0);\n        var i1 = 0;\n        while (i1 < full1.length) {\n            var found1 = full1.indexOf(partial1, i1);\n            if (found1 === -1) {\n                break;\n            }\n            var before1 = full1.substr(0, found1);\n            i1 = found1 + partial1.length;\n            var after1 = full1.substr(i1);\n            if (before0 === before1 && after0 === after1) {\n                return {\n                    before: before0,\n                    after: after0,\n                };\n            }\n        }\n    }\n    return null;\n}\n\nfunction expandZonedMarker(dateInfo, calendarSystem) {\n    var a = calendarSystem.markerToArray(dateInfo.marker);\n    return {\n        marker: dateInfo.marker,\n        timeZoneOffset: dateInfo.timeZoneOffset,\n        array: a,\n        year: a[0],\n        month: a[1],\n        day: a[2],\n        hour: a[3],\n        minute: a[4],\n        second: a[5],\n        millisecond: a[6],\n    };\n}\n\nfunction createVerboseFormattingArg(start, end, context, betterDefaultSeparator) {\n    var startInfo = expandZonedMarker(start, context.calendarSystem);\n    var endInfo = end ? expandZonedMarker(end, context.calendarSystem) : null;\n    return {\n        date: startInfo,\n        start: startInfo,\n        end: endInfo,\n        timeZone: context.timeZone,\n        localeCodes: context.locale.codes,\n        defaultSeparator: betterDefaultSeparator || context.defaultSeparator,\n    };\n}\n\n/*\nTODO: fix the terminology of \"formatter\" vs \"formatting func\"\n*/\n/*\nAt the time of instantiation, this object does not know which cmd-formatting system it will use.\nIt receives this at the time of formatting, as a setting.\n*/\nvar CmdFormatter = /** @class */ (function () {\n    function CmdFormatter(cmdStr) {\n        this.cmdStr = cmdStr;\n    }\n    CmdFormatter.prototype.format = function (date, context, betterDefaultSeparator) {\n        return context.cmdFormatter(this.cmdStr, createVerboseFormattingArg(date, null, context, betterDefaultSeparator));\n    };\n    CmdFormatter.prototype.formatRange = function (start, end, context, betterDefaultSeparator) {\n        return context.cmdFormatter(this.cmdStr, createVerboseFormattingArg(start, end, context, betterDefaultSeparator));\n    };\n    return CmdFormatter;\n}());\n\nvar FuncFormatter = /** @class */ (function () {\n    function FuncFormatter(func) {\n        this.func = func;\n    }\n    FuncFormatter.prototype.format = function (date, context, betterDefaultSeparator) {\n        return this.func(createVerboseFormattingArg(date, null, context, betterDefaultSeparator));\n    };\n    FuncFormatter.prototype.formatRange = function (start, end, context, betterDefaultSeparator) {\n        return this.func(createVerboseFormattingArg(start, end, context, betterDefaultSeparator));\n    };\n    return FuncFormatter;\n}());\n\nfunction createFormatter(input) {\n    if (typeof input === 'object' && input) { // non-null object\n        return new NativeFormatter(input);\n    }\n    if (typeof input === 'string') {\n        return new CmdFormatter(input);\n    }\n    if (typeof input === 'function') {\n        return new FuncFormatter(input);\n    }\n    return null;\n}\n\n// base options\n// ------------\nvar BASE_OPTION_REFINERS = {\n    navLinkDayClick: identity,\n    navLinkWeekClick: identity,\n    duration: createDuration,\n    bootstrapFontAwesome: identity,\n    buttonIcons: identity,\n    customButtons: identity,\n    defaultAllDayEventDuration: createDuration,\n    defaultTimedEventDuration: createDuration,\n    nextDayThreshold: createDuration,\n    scrollTime: createDuration,\n    scrollTimeReset: Boolean,\n    slotMinTime: createDuration,\n    slotMaxTime: createDuration,\n    dayPopoverFormat: createFormatter,\n    slotDuration: createDuration,\n    snapDuration: createDuration,\n    headerToolbar: identity,\n    footerToolbar: identity,\n    defaultRangeSeparator: String,\n    titleRangeSeparator: String,\n    forceEventDuration: Boolean,\n    dayHeaders: Boolean,\n    dayHeaderFormat: createFormatter,\n    dayHeaderClassNames: identity,\n    dayHeaderContent: identity,\n    dayHeaderDidMount: identity,\n    dayHeaderWillUnmount: identity,\n    dayCellClassNames: identity,\n    dayCellContent: identity,\n    dayCellDidMount: identity,\n    dayCellWillUnmount: identity,\n    initialView: String,\n    aspectRatio: Number,\n    weekends: Boolean,\n    weekNumberCalculation: identity,\n    weekNumbers: Boolean,\n    weekNumberClassNames: identity,\n    weekNumberContent: identity,\n    weekNumberDidMount: identity,\n    weekNumberWillUnmount: identity,\n    editable: Boolean,\n    viewClassNames: identity,\n    viewDidMount: identity,\n    viewWillUnmount: identity,\n    nowIndicator: Boolean,\n    nowIndicatorClassNames: identity,\n    nowIndicatorContent: identity,\n    nowIndicatorDidMount: identity,\n    nowIndicatorWillUnmount: identity,\n    showNonCurrentDates: Boolean,\n    lazyFetching: Boolean,\n    startParam: String,\n    endParam: String,\n    timeZoneParam: String,\n    timeZone: String,\n    locales: identity,\n    locale: identity,\n    themeSystem: String,\n    dragRevertDuration: Number,\n    dragScroll: Boolean,\n    allDayMaintainDuration: Boolean,\n    unselectAuto: Boolean,\n    dropAccept: identity,\n    eventOrder: parseFieldSpecs,\n    eventOrderStrict: Boolean,\n    handleWindowResize: Boolean,\n    windowResizeDelay: Number,\n    longPressDelay: Number,\n    eventDragMinDistance: Number,\n    expandRows: Boolean,\n    height: identity,\n    contentHeight: identity,\n    direction: String,\n    weekNumberFormat: createFormatter,\n    eventResizableFromStart: Boolean,\n    displayEventTime: Boolean,\n    displayEventEnd: Boolean,\n    weekText: String,\n    progressiveEventRendering: Boolean,\n    businessHours: identity,\n    initialDate: identity,\n    now: identity,\n    eventDataTransform: identity,\n    stickyHeaderDates: identity,\n    stickyFooterScrollbar: identity,\n    viewHeight: identity,\n    defaultAllDay: Boolean,\n    eventSourceFailure: identity,\n    eventSourceSuccess: identity,\n    eventDisplay: String,\n    eventStartEditable: Boolean,\n    eventDurationEditable: Boolean,\n    eventOverlap: identity,\n    eventConstraint: identity,\n    eventAllow: identity,\n    eventBackgroundColor: String,\n    eventBorderColor: String,\n    eventTextColor: String,\n    eventColor: String,\n    eventClassNames: identity,\n    eventContent: identity,\n    eventDidMount: identity,\n    eventWillUnmount: identity,\n    selectConstraint: identity,\n    selectOverlap: identity,\n    selectAllow: identity,\n    droppable: Boolean,\n    unselectCancel: String,\n    slotLabelFormat: identity,\n    slotLaneClassNames: identity,\n    slotLaneContent: identity,\n    slotLaneDidMount: identity,\n    slotLaneWillUnmount: identity,\n    slotLabelClassNames: identity,\n    slotLabelContent: identity,\n    slotLabelDidMount: identity,\n    slotLabelWillUnmount: identity,\n    dayMaxEvents: identity,\n    dayMaxEventRows: identity,\n    dayMinWidth: Number,\n    slotLabelInterval: createDuration,\n    allDayText: String,\n    allDayClassNames: identity,\n    allDayContent: identity,\n    allDayDidMount: identity,\n    allDayWillUnmount: identity,\n    slotMinWidth: Number,\n    navLinks: Boolean,\n    eventTimeFormat: createFormatter,\n    rerenderDelay: Number,\n    moreLinkText: identity,\n    selectMinDistance: Number,\n    selectable: Boolean,\n    selectLongPressDelay: Number,\n    eventLongPressDelay: Number,\n    selectMirror: Boolean,\n    eventMaxStack: Number,\n    eventMinHeight: Number,\n    eventMinWidth: Number,\n    eventShortHeight: Number,\n    slotEventOverlap: Boolean,\n    plugins: identity,\n    firstDay: Number,\n    dayCount: Number,\n    dateAlignment: String,\n    dateIncrement: createDuration,\n    hiddenDays: identity,\n    monthMode: Boolean,\n    fixedWeekCount: Boolean,\n    validRange: identity,\n    visibleRange: identity,\n    titleFormat: identity,\n    // only used by list-view, but languages define the value, so we need it in base options\n    noEventsText: String,\n    moreLinkClick: identity,\n    moreLinkClassNames: identity,\n    moreLinkContent: identity,\n    moreLinkDidMount: identity,\n    moreLinkWillUnmount: identity,\n};\n// do NOT give a type here. need `typeof BASE_OPTION_DEFAULTS` to give real results.\n// raw values.\nvar BASE_OPTION_DEFAULTS = {\n    eventDisplay: 'auto',\n    defaultRangeSeparator: ' - ',\n    titleRangeSeparator: ' \\u2013 ',\n    defaultTimedEventDuration: '01:00:00',\n    defaultAllDayEventDuration: { day: 1 },\n    forceEventDuration: false,\n    nextDayThreshold: '00:00:00',\n    dayHeaders: true,\n    initialView: '',\n    aspectRatio: 1.35,\n    headerToolbar: {\n        start: 'title',\n        center: '',\n        end: 'today prev,next',\n    },\n    weekends: true,\n    weekNumbers: false,\n    weekNumberCalculation: 'local',\n    editable: false,\n    nowIndicator: false,\n    scrollTime: '06:00:00',\n    scrollTimeReset: true,\n    slotMinTime: '00:00:00',\n    slotMaxTime: '24:00:00',\n    showNonCurrentDates: true,\n    lazyFetching: true,\n    startParam: 'start',\n    endParam: 'end',\n    timeZoneParam: 'timeZone',\n    timeZone: 'local',\n    locales: [],\n    locale: '',\n    themeSystem: 'standard',\n    dragRevertDuration: 500,\n    dragScroll: true,\n    allDayMaintainDuration: false,\n    unselectAuto: true,\n    dropAccept: '*',\n    eventOrder: 'start,-duration,allDay,title',\n    dayPopoverFormat: { month: 'long', day: 'numeric', year: 'numeric' },\n    handleWindowResize: true,\n    windowResizeDelay: 100,\n    longPressDelay: 1000,\n    eventDragMinDistance: 5,\n    expandRows: false,\n    navLinks: false,\n    selectable: false,\n    eventMinHeight: 15,\n    eventMinWidth: 30,\n    eventShortHeight: 30,\n};\n// calendar listeners\n// ------------------\nvar CALENDAR_LISTENER_REFINERS = {\n    datesSet: identity,\n    eventsSet: identity,\n    eventAdd: identity,\n    eventChange: identity,\n    eventRemove: identity,\n    windowResize: identity,\n    eventClick: identity,\n    eventMouseEnter: identity,\n    eventMouseLeave: identity,\n    select: identity,\n    unselect: identity,\n    loading: identity,\n    // internal\n    _unmount: identity,\n    _beforeprint: identity,\n    _afterprint: identity,\n    _noEventDrop: identity,\n    _noEventResize: identity,\n    _resize: identity,\n    _scrollRequest: identity,\n};\n// calendar-specific options\n// -------------------------\nvar CALENDAR_OPTION_REFINERS = {\n    buttonText: identity,\n    views: identity,\n    plugins: identity,\n    initialEvents: identity,\n    events: identity,\n    eventSources: identity,\n};\nvar COMPLEX_OPTION_COMPARATORS = {\n    headerToolbar: isBoolComplexEqual,\n    footerToolbar: isBoolComplexEqual,\n    buttonText: isBoolComplexEqual,\n    buttonIcons: isBoolComplexEqual,\n};\nfunction isBoolComplexEqual(a, b) {\n    if (typeof a === 'object' && typeof b === 'object' && a && b) { // both non-null objects\n        return isPropsEqual(a, b);\n    }\n    return a === b;\n}\n// view-specific options\n// ---------------------\nvar VIEW_OPTION_REFINERS = {\n    type: String,\n    component: identity,\n    buttonText: String,\n    buttonTextKey: String,\n    dateProfileGeneratorClass: identity,\n    usesMinMaxTime: Boolean,\n    classNames: identity,\n    content: identity,\n    didMount: identity,\n    willUnmount: identity,\n};\n// util funcs\n// ----------------------------------------------------------------------------------------------------\nfunction mergeRawOptions(optionSets) {\n    return mergeProps(optionSets, COMPLEX_OPTION_COMPARATORS);\n}\nfunction refineProps(input, refiners) {\n    var refined = {};\n    var extra = {};\n    for (var propName in refiners) {\n        if (propName in input) {\n            refined[propName] = refiners[propName](input[propName]);\n        }\n    }\n    for (var propName in input) {\n        if (!(propName in refiners)) {\n            extra[propName] = input[propName];\n        }\n    }\n    return { refined: refined, extra: extra };\n}\nfunction identity(raw) {\n    return raw;\n}\n\nfunction parseEvents(rawEvents, eventSource, context, allowOpenRange) {\n    var eventStore = createEmptyEventStore();\n    var eventRefiners = buildEventRefiners(context);\n    for (var _i = 0, rawEvents_1 = rawEvents; _i < rawEvents_1.length; _i++) {\n        var rawEvent = rawEvents_1[_i];\n        var tuple = parseEvent(rawEvent, eventSource, context, allowOpenRange, eventRefiners);\n        if (tuple) {\n            eventTupleToStore(tuple, eventStore);\n        }\n    }\n    return eventStore;\n}\nfunction eventTupleToStore(tuple, eventStore) {\n    if (eventStore === void 0) { eventStore = createEmptyEventStore(); }\n    eventStore.defs[tuple.def.defId] = tuple.def;\n    if (tuple.instance) {\n        eventStore.instances[tuple.instance.instanceId] = tuple.instance;\n    }\n    return eventStore;\n}\n// retrieves events that have the same groupId as the instance specified by `instanceId`\n// or they are the same as the instance.\n// why might instanceId not be in the store? an event from another calendar?\nfunction getRelevantEvents(eventStore, instanceId) {\n    var instance = eventStore.instances[instanceId];\n    if (instance) {\n        var def_1 = eventStore.defs[instance.defId];\n        // get events/instances with same group\n        var newStore = filterEventStoreDefs(eventStore, function (lookDef) { return isEventDefsGrouped(def_1, lookDef); });\n        // add the original\n        // TODO: wish we could use eventTupleToStore or something like it\n        newStore.defs[def_1.defId] = def_1;\n        newStore.instances[instance.instanceId] = instance;\n        return newStore;\n    }\n    return createEmptyEventStore();\n}\nfunction isEventDefsGrouped(def0, def1) {\n    return Boolean(def0.groupId && def0.groupId === def1.groupId);\n}\nfunction createEmptyEventStore() {\n    return { defs: {}, instances: {} };\n}\nfunction mergeEventStores(store0, store1) {\n    return {\n        defs: __assign(__assign({}, store0.defs), store1.defs),\n        instances: __assign(__assign({}, store0.instances), store1.instances),\n    };\n}\nfunction filterEventStoreDefs(eventStore, filterFunc) {\n    var defs = filterHash(eventStore.defs, filterFunc);\n    var instances = filterHash(eventStore.instances, function (instance) { return (defs[instance.defId] // still exists?\n    ); });\n    return { defs: defs, instances: instances };\n}\nfunction excludeSubEventStore(master, sub) {\n    var defs = master.defs, instances = master.instances;\n    var filteredDefs = {};\n    var filteredInstances = {};\n    for (var defId in defs) {\n        if (!sub.defs[defId]) { // not explicitly excluded\n            filteredDefs[defId] = defs[defId];\n        }\n    }\n    for (var instanceId in instances) {\n        if (!sub.instances[instanceId] && // not explicitly excluded\n            filteredDefs[instances[instanceId].defId] // def wasn't filtered away\n        ) {\n            filteredInstances[instanceId] = instances[instanceId];\n        }\n    }\n    return {\n        defs: filteredDefs,\n        instances: filteredInstances,\n    };\n}\n\nfunction normalizeConstraint(input, context) {\n    if (Array.isArray(input)) {\n        return parseEvents(input, null, context, true); // allowOpenRange=true\n    }\n    if (typeof input === 'object' && input) { // non-null object\n        return parseEvents([input], null, context, true); // allowOpenRange=true\n    }\n    if (input != null) {\n        return String(input);\n    }\n    return null;\n}\n\nfunction parseClassNames(raw) {\n    if (Array.isArray(raw)) {\n        return raw;\n    }\n    if (typeof raw === 'string') {\n        return raw.split(/\\s+/);\n    }\n    return [];\n}\n\n// TODO: better called \"EventSettings\" or \"EventConfig\"\n// TODO: move this file into structs\n// TODO: separate constraint/overlap/allow, because selection uses only that, not other props\nvar EVENT_UI_REFINERS = {\n    display: String,\n    editable: Boolean,\n    startEditable: Boolean,\n    durationEditable: Boolean,\n    constraint: identity,\n    overlap: identity,\n    allow: identity,\n    className: parseClassNames,\n    classNames: parseClassNames,\n    color: String,\n    backgroundColor: String,\n    borderColor: String,\n    textColor: String,\n};\nvar EMPTY_EVENT_UI = {\n    display: null,\n    startEditable: null,\n    durationEditable: null,\n    constraints: [],\n    overlap: null,\n    allows: [],\n    backgroundColor: '',\n    borderColor: '',\n    textColor: '',\n    classNames: [],\n};\nfunction createEventUi(refined, context) {\n    var constraint = normalizeConstraint(refined.constraint, context);\n    return {\n        display: refined.display || null,\n        startEditable: refined.startEditable != null ? refined.startEditable : refined.editable,\n        durationEditable: refined.durationEditable != null ? refined.durationEditable : refined.editable,\n        constraints: constraint != null ? [constraint] : [],\n        overlap: refined.overlap != null ? refined.overlap : null,\n        allows: refined.allow != null ? [refined.allow] : [],\n        backgroundColor: refined.backgroundColor || refined.color || '',\n        borderColor: refined.borderColor || refined.color || '',\n        textColor: refined.textColor || '',\n        classNames: (refined.className || []).concat(refined.classNames || []), // join singular and plural\n    };\n}\n// TODO: prevent against problems with <2 args!\nfunction combineEventUis(uis) {\n    return uis.reduce(combineTwoEventUis, EMPTY_EVENT_UI);\n}\nfunction combineTwoEventUis(item0, item1) {\n    return {\n        display: item1.display != null ? item1.display : item0.display,\n        startEditable: item1.startEditable != null ? item1.startEditable : item0.startEditable,\n        durationEditable: item1.durationEditable != null ? item1.durationEditable : item0.durationEditable,\n        constraints: item0.constraints.concat(item1.constraints),\n        overlap: typeof item1.overlap === 'boolean' ? item1.overlap : item0.overlap,\n        allows: item0.allows.concat(item1.allows),\n        backgroundColor: item1.backgroundColor || item0.backgroundColor,\n        borderColor: item1.borderColor || item0.borderColor,\n        textColor: item1.textColor || item0.textColor,\n        classNames: item0.classNames.concat(item1.classNames),\n    };\n}\n\nvar EVENT_NON_DATE_REFINERS = {\n    id: String,\n    groupId: String,\n    title: String,\n    url: String,\n};\nvar EVENT_DATE_REFINERS = {\n    start: identity,\n    end: identity,\n    date: identity,\n    allDay: Boolean,\n};\nvar EVENT_REFINERS = __assign(__assign(__assign({}, EVENT_NON_DATE_REFINERS), EVENT_DATE_REFINERS), { extendedProps: identity });\nfunction parseEvent(raw, eventSource, context, allowOpenRange, refiners) {\n    if (refiners === void 0) { refiners = buildEventRefiners(context); }\n    var _a = refineEventDef(raw, context, refiners), refined = _a.refined, extra = _a.extra;\n    var defaultAllDay = computeIsDefaultAllDay(eventSource, context);\n    var recurringRes = parseRecurring(refined, defaultAllDay, context.dateEnv, context.pluginHooks.recurringTypes);\n    if (recurringRes) {\n        var def = parseEventDef(refined, extra, eventSource ? eventSource.sourceId : '', recurringRes.allDay, Boolean(recurringRes.duration), context);\n        def.recurringDef = {\n            typeId: recurringRes.typeId,\n            typeData: recurringRes.typeData,\n            duration: recurringRes.duration,\n        };\n        return { def: def, instance: null };\n    }\n    var singleRes = parseSingle(refined, defaultAllDay, context, allowOpenRange);\n    if (singleRes) {\n        var def = parseEventDef(refined, extra, eventSource ? eventSource.sourceId : '', singleRes.allDay, singleRes.hasEnd, context);\n        var instance = createEventInstance(def.defId, singleRes.range, singleRes.forcedStartTzo, singleRes.forcedEndTzo);\n        return { def: def, instance: instance };\n    }\n    return null;\n}\nfunction refineEventDef(raw, context, refiners) {\n    if (refiners === void 0) { refiners = buildEventRefiners(context); }\n    return refineProps(raw, refiners);\n}\nfunction buildEventRefiners(context) {\n    return __assign(__assign(__assign({}, EVENT_UI_REFINERS), EVENT_REFINERS), context.pluginHooks.eventRefiners);\n}\n/*\nWill NOT populate extendedProps with the leftover properties.\nWill NOT populate date-related props.\n*/\nfunction parseEventDef(refined, extra, sourceId, allDay, hasEnd, context) {\n    var def = {\n        title: refined.title || '',\n        groupId: refined.groupId || '',\n        publicId: refined.id || '',\n        url: refined.url || '',\n        recurringDef: null,\n        defId: guid(),\n        sourceId: sourceId,\n        allDay: allDay,\n        hasEnd: hasEnd,\n        ui: createEventUi(refined, context),\n        extendedProps: __assign(__assign({}, (refined.extendedProps || {})), extra),\n    };\n    for (var _i = 0, _a = context.pluginHooks.eventDefMemberAdders; _i < _a.length; _i++) {\n        var memberAdder = _a[_i];\n        __assign(def, memberAdder(refined));\n    }\n    // help out EventApi from having user modify props\n    Object.freeze(def.ui.classNames);\n    Object.freeze(def.extendedProps);\n    return def;\n}\nfunction parseSingle(refined, defaultAllDay, context, allowOpenRange) {\n    var allDay = refined.allDay;\n    var startMeta;\n    var startMarker = null;\n    var hasEnd = false;\n    var endMeta;\n    var endMarker = null;\n    var startInput = refined.start != null ? refined.start : refined.date;\n    startMeta = context.dateEnv.createMarkerMeta(startInput);\n    if (startMeta) {\n        startMarker = startMeta.marker;\n    }\n    else if (!allowOpenRange) {\n        return null;\n    }\n    if (refined.end != null) {\n        endMeta = context.dateEnv.createMarkerMeta(refined.end);\n    }\n    if (allDay == null) {\n        if (defaultAllDay != null) {\n            allDay = defaultAllDay;\n        }\n        else {\n            // fall back to the date props LAST\n            allDay = (!startMeta || startMeta.isTimeUnspecified) &&\n                (!endMeta || endMeta.isTimeUnspecified);\n        }\n    }\n    if (allDay && startMarker) {\n        startMarker = startOfDay(startMarker);\n    }\n    if (endMeta) {\n        endMarker = endMeta.marker;\n        if (allDay) {\n            endMarker = startOfDay(endMarker);\n        }\n        if (startMarker && endMarker <= startMarker) {\n            endMarker = null;\n        }\n    }\n    if (endMarker) {\n        hasEnd = true;\n    }\n    else if (!allowOpenRange) {\n        hasEnd = context.options.forceEventDuration || false;\n        endMarker = context.dateEnv.add(startMarker, allDay ?\n            context.options.defaultAllDayEventDuration :\n            context.options.defaultTimedEventDuration);\n    }\n    return {\n        allDay: allDay,\n        hasEnd: hasEnd,\n        range: { start: startMarker, end: endMarker },\n        forcedStartTzo: startMeta ? startMeta.forcedTzo : null,\n        forcedEndTzo: endMeta ? endMeta.forcedTzo : null,\n    };\n}\nfunction computeIsDefaultAllDay(eventSource, context) {\n    var res = null;\n    if (eventSource) {\n        res = eventSource.defaultAllDay;\n    }\n    if (res == null) {\n        res = context.options.defaultAllDay;\n    }\n    return res;\n}\n\n/* Date stuff that doesn't belong in datelib core\n----------------------------------------------------------------------------------------------------------------------*/\n// given a timed range, computes an all-day range that has the same exact duration,\n// but whose start time is aligned with the start of the day.\nfunction computeAlignedDayRange(timedRange) {\n    var dayCnt = Math.floor(diffDays(timedRange.start, timedRange.end)) || 1;\n    var start = startOfDay(timedRange.start);\n    var end = addDays(start, dayCnt);\n    return { start: start, end: end };\n}\n// given a timed range, computes an all-day range based on how for the end date bleeds into the next day\n// TODO: give nextDayThreshold a default arg\nfunction computeVisibleDayRange(timedRange, nextDayThreshold) {\n    if (nextDayThreshold === void 0) { nextDayThreshold = createDuration(0); }\n    var startDay = null;\n    var endDay = null;\n    if (timedRange.end) {\n        endDay = startOfDay(timedRange.end);\n        var endTimeMS = timedRange.end.valueOf() - endDay.valueOf(); // # of milliseconds into `endDay`\n        // If the end time is actually inclusively part of the next day and is equal to or\n        // beyond the next day threshold, adjust the end to be the exclusive end of `endDay`.\n        // Otherwise, leaving it as inclusive will cause it to exclude `endDay`.\n        if (endTimeMS && endTimeMS >= asRoughMs(nextDayThreshold)) {\n            endDay = addDays(endDay, 1);\n        }\n    }\n    if (timedRange.start) {\n        startDay = startOfDay(timedRange.start); // the beginning of the day the range starts\n        // If end is within `startDay` but not past nextDayThreshold, assign the default duration of one day.\n        if (endDay && endDay <= startDay) {\n            endDay = addDays(startDay, 1);\n        }\n    }\n    return { start: startDay, end: endDay };\n}\n// spans from one day into another?\nfunction isMultiDayRange(range) {\n    var visibleRange = computeVisibleDayRange(range);\n    return diffDays(visibleRange.start, visibleRange.end) > 1;\n}\nfunction diffDates(date0, date1, dateEnv, largeUnit) {\n    if (largeUnit === 'year') {\n        return createDuration(dateEnv.diffWholeYears(date0, date1), 'year');\n    }\n    if (largeUnit === 'month') {\n        return createDuration(dateEnv.diffWholeMonths(date0, date1), 'month');\n    }\n    return diffDayAndTime(date0, date1); // returns a duration\n}\n\nfunction parseRange(input, dateEnv) {\n    var start = null;\n    var end = null;\n    if (input.start) {\n        start = dateEnv.createMarker(input.start);\n    }\n    if (input.end) {\n        end = dateEnv.createMarker(input.end);\n    }\n    if (!start && !end) {\n        return null;\n    }\n    if (start && end && end < start) {\n        return null;\n    }\n    return { start: start, end: end };\n}\n// SIDE-EFFECT: will mutate ranges.\n// Will return a new array result.\nfunction invertRanges(ranges, constraintRange) {\n    var invertedRanges = [];\n    var start = constraintRange.start; // the end of the previous range. the start of the new range\n    var i;\n    var dateRange;\n    // ranges need to be in order. required for our date-walking algorithm\n    ranges.sort(compareRanges);\n    for (i = 0; i < ranges.length; i += 1) {\n        dateRange = ranges[i];\n        // add the span of time before the event (if there is any)\n        if (dateRange.start > start) { // compare millisecond time (skip any ambig logic)\n            invertedRanges.push({ start: start, end: dateRange.start });\n        }\n        if (dateRange.end > start) {\n            start = dateRange.end;\n        }\n    }\n    // add the span of time after the last event (if there is any)\n    if (start < constraintRange.end) { // compare millisecond time (skip any ambig logic)\n        invertedRanges.push({ start: start, end: constraintRange.end });\n    }\n    return invertedRanges;\n}\nfunction compareRanges(range0, range1) {\n    return range0.start.valueOf() - range1.start.valueOf(); // earlier ranges go first\n}\nfunction intersectRanges(range0, range1) {\n    var start = range0.start, end = range0.end;\n    var newRange = null;\n    if (range1.start !== null) {\n        if (start === null) {\n            start = range1.start;\n        }\n        else {\n            start = new Date(Math.max(start.valueOf(), range1.start.valueOf()));\n        }\n    }\n    if (range1.end != null) {\n        if (end === null) {\n            end = range1.end;\n        }\n        else {\n            end = new Date(Math.min(end.valueOf(), range1.end.valueOf()));\n        }\n    }\n    if (start === null || end === null || start < end) {\n        newRange = { start: start, end: end };\n    }\n    return newRange;\n}\nfunction rangesEqual(range0, range1) {\n    return (range0.start === null ? null : range0.start.valueOf()) === (range1.start === null ? null : range1.start.valueOf()) &&\n        (range0.end === null ? null : range0.end.valueOf()) === (range1.end === null ? null : range1.end.valueOf());\n}\nfunction rangesIntersect(range0, range1) {\n    return (range0.end === null || range1.start === null || range0.end > range1.start) &&\n        (range0.start === null || range1.end === null || range0.start < range1.end);\n}\nfunction rangeContainsRange(outerRange, innerRange) {\n    return (outerRange.start === null || (innerRange.start !== null && innerRange.start >= outerRange.start)) &&\n        (outerRange.end === null || (innerRange.end !== null && innerRange.end <= outerRange.end));\n}\nfunction rangeContainsMarker(range, date) {\n    return (range.start === null || date >= range.start) &&\n        (range.end === null || date < range.end);\n}\n// If the given date is not within the given range, move it inside.\n// (If it's past the end, make it one millisecond before the end).\nfunction constrainMarkerToRange(date, range) {\n    if (range.start != null && date < range.start) {\n        return range.start;\n    }\n    if (range.end != null && date >= range.end) {\n        return new Date(range.end.valueOf() - 1);\n    }\n    return date;\n}\n\n/*\nSpecifying nextDayThreshold signals that all-day ranges should be sliced.\n*/\nfunction sliceEventStore(eventStore, eventUiBases, framingRange, nextDayThreshold) {\n    var inverseBgByGroupId = {};\n    var inverseBgByDefId = {};\n    var defByGroupId = {};\n    var bgRanges = [];\n    var fgRanges = [];\n    var eventUis = compileEventUis(eventStore.defs, eventUiBases);\n    for (var defId in eventStore.defs) {\n        var def = eventStore.defs[defId];\n        var ui = eventUis[def.defId];\n        if (ui.display === 'inverse-background') {\n            if (def.groupId) {\n                inverseBgByGroupId[def.groupId] = [];\n                if (!defByGroupId[def.groupId]) {\n                    defByGroupId[def.groupId] = def;\n                }\n            }\n            else {\n                inverseBgByDefId[defId] = [];\n            }\n        }\n    }\n    for (var instanceId in eventStore.instances) {\n        var instance = eventStore.instances[instanceId];\n        var def = eventStore.defs[instance.defId];\n        var ui = eventUis[def.defId];\n        var origRange = instance.range;\n        var normalRange = (!def.allDay && nextDayThreshold) ?\n            computeVisibleDayRange(origRange, nextDayThreshold) :\n            origRange;\n        var slicedRange = intersectRanges(normalRange, framingRange);\n        if (slicedRange) {\n            if (ui.display === 'inverse-background') {\n                if (def.groupId) {\n                    inverseBgByGroupId[def.groupId].push(slicedRange);\n                }\n                else {\n                    inverseBgByDefId[instance.defId].push(slicedRange);\n                }\n            }\n            else if (ui.display !== 'none') {\n                (ui.display === 'background' ? bgRanges : fgRanges).push({\n                    def: def,\n                    ui: ui,\n                    instance: instance,\n                    range: slicedRange,\n                    isStart: normalRange.start && normalRange.start.valueOf() === slicedRange.start.valueOf(),\n                    isEnd: normalRange.end && normalRange.end.valueOf() === slicedRange.end.valueOf(),\n                });\n            }\n        }\n    }\n    for (var groupId in inverseBgByGroupId) { // BY GROUP\n        var ranges = inverseBgByGroupId[groupId];\n        var invertedRanges = invertRanges(ranges, framingRange);\n        for (var _i = 0, invertedRanges_1 = invertedRanges; _i < invertedRanges_1.length; _i++) {\n            var invertedRange = invertedRanges_1[_i];\n            var def = defByGroupId[groupId];\n            var ui = eventUis[def.defId];\n            bgRanges.push({\n                def: def,\n                ui: ui,\n                instance: null,\n                range: invertedRange,\n                isStart: false,\n                isEnd: false,\n            });\n        }\n    }\n    for (var defId in inverseBgByDefId) {\n        var ranges = inverseBgByDefId[defId];\n        var invertedRanges = invertRanges(ranges, framingRange);\n        for (var _a = 0, invertedRanges_2 = invertedRanges; _a < invertedRanges_2.length; _a++) {\n            var invertedRange = invertedRanges_2[_a];\n            bgRanges.push({\n                def: eventStore.defs[defId],\n                ui: eventUis[defId],\n                instance: null,\n                range: invertedRange,\n                isStart: false,\n                isEnd: false,\n            });\n        }\n    }\n    return { bg: bgRanges, fg: fgRanges };\n}\nfunction hasBgRendering(def) {\n    return def.ui.display === 'background' || def.ui.display === 'inverse-background';\n}\nfunction setElSeg(el, seg) {\n    el.fcSeg = seg;\n}\nfunction getElSeg(el) {\n    return el.fcSeg ||\n        el.parentNode.fcSeg || // for the harness\n        null;\n}\n// event ui computation\nfunction compileEventUis(eventDefs, eventUiBases) {\n    return mapHash(eventDefs, function (eventDef) { return compileEventUi(eventDef, eventUiBases); });\n}\nfunction compileEventUi(eventDef, eventUiBases) {\n    var uis = [];\n    if (eventUiBases['']) {\n        uis.push(eventUiBases['']);\n    }\n    if (eventUiBases[eventDef.defId]) {\n        uis.push(eventUiBases[eventDef.defId]);\n    }\n    uis.push(eventDef.ui);\n    return combineEventUis(uis);\n}\nfunction sortEventSegs(segs, eventOrderSpecs) {\n    var objs = segs.map(buildSegCompareObj);\n    objs.sort(function (obj0, obj1) { return compareByFieldSpecs(obj0, obj1, eventOrderSpecs); });\n    return objs.map(function (c) { return c._seg; });\n}\n// returns a object with all primitive props that can be compared\nfunction buildSegCompareObj(seg) {\n    var eventRange = seg.eventRange;\n    var eventDef = eventRange.def;\n    var range = eventRange.instance ? eventRange.instance.range : eventRange.range;\n    var start = range.start ? range.start.valueOf() : 0; // TODO: better support for open-range events\n    var end = range.end ? range.end.valueOf() : 0; // \"\n    return __assign(__assign(__assign({}, eventDef.extendedProps), eventDef), { id: eventDef.publicId, start: start,\n        end: end, duration: end - start, allDay: Number(eventDef.allDay), _seg: seg });\n}\nfunction computeSegDraggable(seg, context) {\n    var pluginHooks = context.pluginHooks;\n    var transformers = pluginHooks.isDraggableTransformers;\n    var _a = seg.eventRange, def = _a.def, ui = _a.ui;\n    var val = ui.startEditable;\n    for (var _i = 0, transformers_1 = transformers; _i < transformers_1.length; _i++) {\n        var transformer = transformers_1[_i];\n        val = transformer(val, def, ui, context);\n    }\n    return val;\n}\nfunction computeSegStartResizable(seg, context) {\n    return seg.isStart && seg.eventRange.ui.durationEditable && context.options.eventResizableFromStart;\n}\nfunction computeSegEndResizable(seg, context) {\n    return seg.isEnd && seg.eventRange.ui.durationEditable;\n}\nfunction buildSegTimeText(seg, timeFormat, context, defaultDisplayEventTime, // defaults to true\ndefaultDisplayEventEnd, // defaults to true\nstartOverride, endOverride) {\n    var dateEnv = context.dateEnv, options = context.options;\n    var displayEventTime = options.displayEventTime, displayEventEnd = options.displayEventEnd;\n    var eventDef = seg.eventRange.def;\n    var eventInstance = seg.eventRange.instance;\n    if (displayEventTime == null) {\n        displayEventTime = defaultDisplayEventTime !== false;\n    }\n    if (displayEventEnd == null) {\n        displayEventEnd = defaultDisplayEventEnd !== false;\n    }\n    var wholeEventStart = eventInstance.range.start;\n    var wholeEventEnd = eventInstance.range.end;\n    var segStart = startOverride || seg.start || seg.eventRange.range.start;\n    var segEnd = endOverride || seg.end || seg.eventRange.range.end;\n    var isStartDay = startOfDay(wholeEventStart).valueOf() === startOfDay(segStart).valueOf();\n    var isEndDay = startOfDay(addMs(wholeEventEnd, -1)).valueOf() === startOfDay(addMs(segEnd, -1)).valueOf();\n    if (displayEventTime && !eventDef.allDay && (isStartDay || isEndDay)) {\n        segStart = isStartDay ? wholeEventStart : segStart;\n        segEnd = isEndDay ? wholeEventEnd : segEnd;\n        if (displayEventEnd && eventDef.hasEnd) {\n            return dateEnv.formatRange(segStart, segEnd, timeFormat, {\n                forcedStartTzo: startOverride ? null : eventInstance.forcedStartTzo,\n                forcedEndTzo: endOverride ? null : eventInstance.forcedEndTzo,\n            });\n        }\n        return dateEnv.format(segStart, timeFormat, {\n            forcedTzo: startOverride ? null : eventInstance.forcedStartTzo, // nooooo, same\n        });\n    }\n    return '';\n}\nfunction getSegMeta(seg, todayRange, nowDate) {\n    var segRange = seg.eventRange.range;\n    return {\n        isPast: segRange.end < (nowDate || todayRange.start),\n        isFuture: segRange.start >= (nowDate || todayRange.end),\n        isToday: todayRange && rangeContainsMarker(todayRange, segRange.start),\n    };\n}\nfunction getEventClassNames(props) {\n    var classNames = ['fc-event'];\n    if (props.isMirror) {\n        classNames.push('fc-event-mirror');\n    }\n    if (props.isDraggable) {\n        classNames.push('fc-event-draggable');\n    }\n    if (props.isStartResizable || props.isEndResizable) {\n        classNames.push('fc-event-resizable');\n    }\n    if (props.isDragging) {\n        classNames.push('fc-event-dragging');\n    }\n    if (props.isResizing) {\n        classNames.push('fc-event-resizing');\n    }\n    if (props.isSelected) {\n        classNames.push('fc-event-selected');\n    }\n    if (props.isStart) {\n        classNames.push('fc-event-start');\n    }\n    if (props.isEnd) {\n        classNames.push('fc-event-end');\n    }\n    if (props.isPast) {\n        classNames.push('fc-event-past');\n    }\n    if (props.isToday) {\n        classNames.push('fc-event-today');\n    }\n    if (props.isFuture) {\n        classNames.push('fc-event-future');\n    }\n    return classNames;\n}\nfunction buildEventRangeKey(eventRange) {\n    return eventRange.instance\n        ? eventRange.instance.instanceId\n        : eventRange.def.defId + \":\" + eventRange.range.start.toISOString();\n    // inverse-background events don't have specific instances. TODO: better solution\n}\n\nvar STANDARD_PROPS = {\n    start: identity,\n    end: identity,\n    allDay: Boolean,\n};\nfunction parseDateSpan(raw, dateEnv, defaultDuration) {\n    var span = parseOpenDateSpan(raw, dateEnv);\n    var range = span.range;\n    if (!range.start) {\n        return null;\n    }\n    if (!range.end) {\n        if (defaultDuration == null) {\n            return null;\n        }\n        range.end = dateEnv.add(range.start, defaultDuration);\n    }\n    return span;\n}\n/*\nTODO: somehow combine with parseRange?\nWill return null if the start/end props were present but parsed invalidly.\n*/\nfunction parseOpenDateSpan(raw, dateEnv) {\n    var _a = refineProps(raw, STANDARD_PROPS), standardProps = _a.refined, extra = _a.extra;\n    var startMeta = standardProps.start ? dateEnv.createMarkerMeta(standardProps.start) : null;\n    var endMeta = standardProps.end ? dateEnv.createMarkerMeta(standardProps.end) : null;\n    var allDay = standardProps.allDay;\n    if (allDay == null) {\n        allDay = (startMeta && startMeta.isTimeUnspecified) &&\n            (!endMeta || endMeta.isTimeUnspecified);\n    }\n    return __assign({ range: {\n            start: startMeta ? startMeta.marker : null,\n            end: endMeta ? endMeta.marker : null,\n        }, allDay: allDay }, extra);\n}\nfunction isDateSpansEqual(span0, span1) {\n    return rangesEqual(span0.range, span1.range) &&\n        span0.allDay === span1.allDay &&\n        isSpanPropsEqual(span0, span1);\n}\n// the NON-DATE-RELATED props\nfunction isSpanPropsEqual(span0, span1) {\n    for (var propName in span1) {\n        if (propName !== 'range' && propName !== 'allDay') {\n            if (span0[propName] !== span1[propName]) {\n                return false;\n            }\n        }\n    }\n    // are there any props that span0 has that span1 DOESN'T have?\n    // both have range/allDay, so no need to special-case.\n    for (var propName in span0) {\n        if (!(propName in span1)) {\n            return false;\n        }\n    }\n    return true;\n}\nfunction buildDateSpanApi(span, dateEnv) {\n    return __assign(__assign({}, buildRangeApi(span.range, dateEnv, span.allDay)), { allDay: span.allDay });\n}\nfunction buildRangeApiWithTimeZone(range, dateEnv, omitTime) {\n    return __assign(__assign({}, buildRangeApi(range, dateEnv, omitTime)), { timeZone: dateEnv.timeZone });\n}\nfunction buildRangeApi(range, dateEnv, omitTime) {\n    return {\n        start: dateEnv.toDate(range.start),\n        end: dateEnv.toDate(range.end),\n        startStr: dateEnv.formatIso(range.start, { omitTime: omitTime }),\n        endStr: dateEnv.formatIso(range.end, { omitTime: omitTime }),\n    };\n}\nfunction fabricateEventRange(dateSpan, eventUiBases, context) {\n    var res = refineEventDef({ editable: false }, context);\n    var def = parseEventDef(res.refined, res.extra, '', // sourceId\n    dateSpan.allDay, true, // hasEnd\n    context);\n    return {\n        def: def,\n        ui: compileEventUi(def, eventUiBases),\n        instance: createEventInstance(def.defId, dateSpan.range),\n        range: dateSpan.range,\n        isStart: true,\n        isEnd: true,\n    };\n}\n\nfunction triggerDateSelect(selection, pev, context) {\n    context.emitter.trigger('select', __assign(__assign({}, buildDateSpanApiWithContext(selection, context)), { jsEvent: pev ? pev.origEvent : null, view: context.viewApi || context.calendarApi.view }));\n}\nfunction triggerDateUnselect(pev, context) {\n    context.emitter.trigger('unselect', {\n        jsEvent: pev ? pev.origEvent : null,\n        view: context.viewApi || context.calendarApi.view,\n    });\n}\nfunction buildDateSpanApiWithContext(dateSpan, context) {\n    var props = {};\n    for (var _i = 0, _a = context.pluginHooks.dateSpanTransforms; _i < _a.length; _i++) {\n        var transform = _a[_i];\n        __assign(props, transform(dateSpan, context));\n    }\n    __assign(props, buildDateSpanApi(dateSpan, context.dateEnv));\n    return props;\n}\n// Given an event's allDay status and start date, return what its fallback end date should be.\n// TODO: rename to computeDefaultEventEnd\nfunction getDefaultEventEnd(allDay, marker, context) {\n    var dateEnv = context.dateEnv, options = context.options;\n    var end = marker;\n    if (allDay) {\n        end = startOfDay(end);\n        end = dateEnv.add(end, options.defaultAllDayEventDuration);\n    }\n    else {\n        end = dateEnv.add(end, options.defaultTimedEventDuration);\n    }\n    return end;\n}\n\n// applies the mutation to ALL defs/instances within the event store\nfunction applyMutationToEventStore(eventStore, eventConfigBase, mutation, context) {\n    var eventConfigs = compileEventUis(eventStore.defs, eventConfigBase);\n    var dest = createEmptyEventStore();\n    for (var defId in eventStore.defs) {\n        var def = eventStore.defs[defId];\n        dest.defs[defId] = applyMutationToEventDef(def, eventConfigs[defId], mutation, context);\n    }\n    for (var instanceId in eventStore.instances) {\n        var instance = eventStore.instances[instanceId];\n        var def = dest.defs[instance.defId]; // important to grab the newly modified def\n        dest.instances[instanceId] = applyMutationToEventInstance(instance, def, eventConfigs[instance.defId], mutation, context);\n    }\n    return dest;\n}\nfunction applyMutationToEventDef(eventDef, eventConfig, mutation, context) {\n    var standardProps = mutation.standardProps || {};\n    // if hasEnd has not been specified, guess a good value based on deltas.\n    // if duration will change, there's no way the default duration will persist,\n    // and thus, we need to mark the event as having a real end\n    if (standardProps.hasEnd == null &&\n        eventConfig.durationEditable &&\n        (mutation.startDelta || mutation.endDelta)) {\n        standardProps.hasEnd = true; // TODO: is this mutation okay?\n    }\n    var copy = __assign(__assign(__assign({}, eventDef), standardProps), { ui: __assign(__assign({}, eventDef.ui), standardProps.ui) });\n    if (mutation.extendedProps) {\n        copy.extendedProps = __assign(__assign({}, copy.extendedProps), mutation.extendedProps);\n    }\n    for (var _i = 0, _a = context.pluginHooks.eventDefMutationAppliers; _i < _a.length; _i++) {\n        var applier = _a[_i];\n        applier(copy, mutation, context);\n    }\n    if (!copy.hasEnd && context.options.forceEventDuration) {\n        copy.hasEnd = true;\n    }\n    return copy;\n}\nfunction applyMutationToEventInstance(eventInstance, eventDef, // must first be modified by applyMutationToEventDef\neventConfig, mutation, context) {\n    var dateEnv = context.dateEnv;\n    var forceAllDay = mutation.standardProps && mutation.standardProps.allDay === true;\n    var clearEnd = mutation.standardProps && mutation.standardProps.hasEnd === false;\n    var copy = __assign({}, eventInstance);\n    if (forceAllDay) {\n        copy.range = computeAlignedDayRange(copy.range);\n    }\n    if (mutation.datesDelta && eventConfig.startEditable) {\n        copy.range = {\n            start: dateEnv.add(copy.range.start, mutation.datesDelta),\n            end: dateEnv.add(copy.range.end, mutation.datesDelta),\n        };\n    }\n    if (mutation.startDelta && eventConfig.durationEditable) {\n        copy.range = {\n            start: dateEnv.add(copy.range.start, mutation.startDelta),\n            end: copy.range.end,\n        };\n    }\n    if (mutation.endDelta && eventConfig.durationEditable) {\n        copy.range = {\n            start: copy.range.start,\n            end: dateEnv.add(copy.range.end, mutation.endDelta),\n        };\n    }\n    if (clearEnd) {\n        copy.range = {\n            start: copy.range.start,\n            end: getDefaultEventEnd(eventDef.allDay, copy.range.start, context),\n        };\n    }\n    // in case event was all-day but the supplied deltas were not\n    // better util for this?\n    if (eventDef.allDay) {\n        copy.range = {\n            start: startOfDay(copy.range.start),\n            end: startOfDay(copy.range.end),\n        };\n    }\n    // handle invalid durations\n    if (copy.range.end < copy.range.start) {\n        copy.range.end = getDefaultEventEnd(eventDef.allDay, copy.range.start, context);\n    }\n    return copy;\n}\n\n// no public types yet. when there are, export from:\n// import {} from './api-type-deps'\nvar ViewApi = /** @class */ (function () {\n    function ViewApi(type, getCurrentData, dateEnv) {\n        this.type = type;\n        this.getCurrentData = getCurrentData;\n        this.dateEnv = dateEnv;\n    }\n    Object.defineProperty(ViewApi.prototype, \"calendar\", {\n        get: function () {\n            return this.getCurrentData().calendarApi;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ViewApi.prototype, \"title\", {\n        get: function () {\n            return this.getCurrentData().viewTitle;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ViewApi.prototype, \"activeStart\", {\n        get: function () {\n            return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.start);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ViewApi.prototype, \"activeEnd\", {\n        get: function () {\n            return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.end);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ViewApi.prototype, \"currentStart\", {\n        get: function () {\n            return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.start);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ViewApi.prototype, \"currentEnd\", {\n        get: function () {\n            return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.end);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    ViewApi.prototype.getOption = function (name) {\n        return this.getCurrentData().options[name]; // are the view-specific options\n    };\n    return ViewApi;\n}());\n\nvar EVENT_SOURCE_REFINERS = {\n    id: String,\n    defaultAllDay: Boolean,\n    url: String,\n    format: String,\n    events: identity,\n    eventDataTransform: identity,\n    // for any network-related sources\n    success: identity,\n    failure: identity,\n};\nfunction parseEventSource(raw, context, refiners) {\n    if (refiners === void 0) { refiners = buildEventSourceRefiners(context); }\n    var rawObj;\n    if (typeof raw === 'string') {\n        rawObj = { url: raw };\n    }\n    else if (typeof raw === 'function' || Array.isArray(raw)) {\n        rawObj = { events: raw };\n    }\n    else if (typeof raw === 'object' && raw) { // not null\n        rawObj = raw;\n    }\n    if (rawObj) {\n        var _a = refineProps(rawObj, refiners), refined = _a.refined, extra = _a.extra;\n        var metaRes = buildEventSourceMeta(refined, context);\n        if (metaRes) {\n            return {\n                _raw: raw,\n                isFetching: false,\n                latestFetchId: '',\n                fetchRange: null,\n                defaultAllDay: refined.defaultAllDay,\n                eventDataTransform: refined.eventDataTransform,\n                success: refined.success,\n                failure: refined.failure,\n                publicId: refined.id || '',\n                sourceId: guid(),\n                sourceDefId: metaRes.sourceDefId,\n                meta: metaRes.meta,\n                ui: createEventUi(refined, context),\n                extendedProps: extra,\n            };\n        }\n    }\n    return null;\n}\nfunction buildEventSourceRefiners(context) {\n    return __assign(__assign(__assign({}, EVENT_UI_REFINERS), EVENT_SOURCE_REFINERS), context.pluginHooks.eventSourceRefiners);\n}\nfunction buildEventSourceMeta(raw, context) {\n    var defs = context.pluginHooks.eventSourceDefs;\n    for (var i = defs.length - 1; i >= 0; i -= 1) { // later-added plugins take precedence\n        var def = defs[i];\n        var meta = def.parseMeta(raw);\n        if (meta) {\n            return { sourceDefId: i, meta: meta };\n        }\n    }\n    return null;\n}\n\nfunction reduceCurrentDate(currentDate, action) {\n    switch (action.type) {\n        case 'CHANGE_DATE':\n            return action.dateMarker;\n        default:\n            return currentDate;\n    }\n}\nfunction getInitialDate(options, dateEnv) {\n    var initialDateInput = options.initialDate;\n    // compute the initial ambig-timezone date\n    if (initialDateInput != null) {\n        return dateEnv.createMarker(initialDateInput);\n    }\n    return getNow(options.now, dateEnv); // getNow already returns unzoned\n}\nfunction getNow(nowInput, dateEnv) {\n    if (typeof nowInput === 'function') {\n        nowInput = nowInput();\n    }\n    if (nowInput == null) {\n        return dateEnv.createNowMarker();\n    }\n    return dateEnv.createMarker(nowInput);\n}\n\nvar CalendarApi = /** @class */ (function () {\n    function CalendarApi() {\n    }\n    CalendarApi.prototype.getCurrentData = function () {\n        return this.currentDataManager.getCurrentData();\n    };\n    CalendarApi.prototype.dispatch = function (action) {\n        return this.currentDataManager.dispatch(action);\n    };\n    Object.defineProperty(CalendarApi.prototype, \"view\", {\n        get: function () { return this.getCurrentData().viewApi; } // for public API\n        ,\n        enumerable: false,\n        configurable: true\n    });\n    CalendarApi.prototype.batchRendering = function (callback) {\n        callback();\n    };\n    CalendarApi.prototype.updateSize = function () {\n        this.trigger('_resize', true);\n    };\n    // Options\n    // -----------------------------------------------------------------------------------------------------------------\n    CalendarApi.prototype.setOption = function (name, val) {\n        this.dispatch({\n            type: 'SET_OPTION',\n            optionName: name,\n            rawOptionValue: val,\n        });\n    };\n    CalendarApi.prototype.getOption = function (name) {\n        return this.currentDataManager.currentCalendarOptionsInput[name];\n    };\n    CalendarApi.prototype.getAvailableLocaleCodes = function () {\n        return Object.keys(this.getCurrentData().availableRawLocales);\n    };\n    // Trigger\n    // -----------------------------------------------------------------------------------------------------------------\n    CalendarApi.prototype.on = function (handlerName, handler) {\n        var currentDataManager = this.currentDataManager;\n        if (currentDataManager.currentCalendarOptionsRefiners[handlerName]) {\n            currentDataManager.emitter.on(handlerName, handler);\n        }\n        else {\n            console.warn(\"Unknown listener name '\" + handlerName + \"'\");\n        }\n    };\n    CalendarApi.prototype.off = function (handlerName, handler) {\n        this.currentDataManager.emitter.off(handlerName, handler);\n    };\n    // not meant for public use\n    CalendarApi.prototype.trigger = function (handlerName) {\n        var _a;\n        var args = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n        }\n        (_a = this.currentDataManager.emitter).trigger.apply(_a, __spreadArray([handlerName], args));\n    };\n    // View\n    // -----------------------------------------------------------------------------------------------------------------\n    CalendarApi.prototype.changeView = function (viewType, dateOrRange) {\n        var _this = this;\n        this.batchRendering(function () {\n            _this.unselect();\n            if (dateOrRange) {\n                if (dateOrRange.start && dateOrRange.end) { // a range\n                    _this.dispatch({\n                        type: 'CHANGE_VIEW_TYPE',\n                        viewType: viewType,\n                    });\n                    _this.dispatch({\n                        type: 'SET_OPTION',\n                        optionName: 'visibleRange',\n                        rawOptionValue: dateOrRange,\n                    });\n                }\n                else {\n                    var dateEnv = _this.getCurrentData().dateEnv;\n                    _this.dispatch({\n                        type: 'CHANGE_VIEW_TYPE',\n                        viewType: viewType,\n                        dateMarker: dateEnv.createMarker(dateOrRange),\n                    });\n                }\n            }\n            else {\n                _this.dispatch({\n                    type: 'CHANGE_VIEW_TYPE',\n                    viewType: viewType,\n                });\n            }\n        });\n    };\n    // Forces navigation to a view for the given date.\n    // `viewType` can be a specific view name or a generic one like \"week\" or \"day\".\n    // needs to change\n    CalendarApi.prototype.zoomTo = function (dateMarker, viewType) {\n        var state = this.getCurrentData();\n        var spec;\n        viewType = viewType || 'day'; // day is default zoom\n        spec = state.viewSpecs[viewType] || this.getUnitViewSpec(viewType);\n        this.unselect();\n        if (spec) {\n            this.dispatch({\n                type: 'CHANGE_VIEW_TYPE',\n                viewType: spec.type,\n                dateMarker: dateMarker,\n            });\n        }\n        else {\n            this.dispatch({\n                type: 'CHANGE_DATE',\n                dateMarker: dateMarker,\n            });\n        }\n    };\n    // Given a duration singular unit, like \"week\" or \"day\", finds a matching view spec.\n    // Preference is given to views that have corresponding buttons.\n    CalendarApi.prototype.getUnitViewSpec = function (unit) {\n        var _a = this.getCurrentData(), viewSpecs = _a.viewSpecs, toolbarConfig = _a.toolbarConfig;\n        var viewTypes = [].concat(toolbarConfig.viewsWithButtons);\n        var i;\n        var spec;\n        for (var viewType in viewSpecs) {\n            viewTypes.push(viewType);\n        }\n        for (i = 0; i < viewTypes.length; i += 1) {\n            spec = viewSpecs[viewTypes[i]];\n            if (spec) {\n                if (spec.singleUnit === unit) {\n                    return spec;\n                }\n            }\n        }\n        return null;\n    };\n    // Current Date\n    // -----------------------------------------------------------------------------------------------------------------\n    CalendarApi.prototype.prev = function () {\n        this.unselect();\n        this.dispatch({ type: 'PREV' });\n    };\n    CalendarApi.prototype.next = function () {\n        this.unselect();\n        this.dispatch({ type: 'NEXT' });\n    };\n    CalendarApi.prototype.prevYear = function () {\n        var state = this.getCurrentData();\n        this.unselect();\n        this.dispatch({\n            type: 'CHANGE_DATE',\n            dateMarker: state.dateEnv.addYears(state.currentDate, -1),\n        });\n    };\n    CalendarApi.prototype.nextYear = function () {\n        var state = this.getCurrentData();\n        this.unselect();\n        this.dispatch({\n            type: 'CHANGE_DATE',\n            dateMarker: state.dateEnv.addYears(state.currentDate, 1),\n        });\n    };\n    CalendarApi.prototype.today = function () {\n        var state = this.getCurrentData();\n        this.unselect();\n        this.dispatch({\n            type: 'CHANGE_DATE',\n            dateMarker: getNow(state.calendarOptions.now, state.dateEnv),\n        });\n    };\n    CalendarApi.prototype.gotoDate = function (zonedDateInput) {\n        var state = this.getCurrentData();\n        this.unselect();\n        this.dispatch({\n            type: 'CHANGE_DATE',\n            dateMarker: state.dateEnv.createMarker(zonedDateInput),\n        });\n    };\n    CalendarApi.prototype.incrementDate = function (deltaInput) {\n        var state = this.getCurrentData();\n        var delta = createDuration(deltaInput);\n        if (delta) { // else, warn about invalid input?\n            this.unselect();\n            this.dispatch({\n                type: 'CHANGE_DATE',\n                dateMarker: state.dateEnv.add(state.currentDate, delta),\n            });\n        }\n    };\n    // for external API\n    CalendarApi.prototype.getDate = function () {\n        var state = this.getCurrentData();\n        return state.dateEnv.toDate(state.currentDate);\n    };\n    // Date Formatting Utils\n    // -----------------------------------------------------------------------------------------------------------------\n    CalendarApi.prototype.formatDate = function (d, formatter) {\n        var dateEnv = this.getCurrentData().dateEnv;\n        return dateEnv.format(dateEnv.createMarker(d), createFormatter(formatter));\n    };\n    // `settings` is for formatter AND isEndExclusive\n    CalendarApi.prototype.formatRange = function (d0, d1, settings) {\n        var dateEnv = this.getCurrentData().dateEnv;\n        return dateEnv.formatRange(dateEnv.createMarker(d0), dateEnv.createMarker(d1), createFormatter(settings), settings);\n    };\n    CalendarApi.prototype.formatIso = function (d, omitTime) {\n        var dateEnv = this.getCurrentData().dateEnv;\n        return dateEnv.formatIso(dateEnv.createMarker(d), { omitTime: omitTime });\n    };\n    // Date Selection / Event Selection / DayClick\n    // -----------------------------------------------------------------------------------------------------------------\n    // this public method receives start/end dates in any format, with any timezone\n    // NOTE: args were changed from v3\n    CalendarApi.prototype.select = function (dateOrObj, endDate) {\n        var selectionInput;\n        if (endDate == null) {\n            if (dateOrObj.start != null) {\n                selectionInput = dateOrObj;\n            }\n            else {\n                selectionInput = {\n                    start: dateOrObj,\n                    end: null,\n                };\n            }\n        }\n        else {\n            selectionInput = {\n                start: dateOrObj,\n                end: endDate,\n            };\n        }\n        var state = this.getCurrentData();\n        var selection = parseDateSpan(selectionInput, state.dateEnv, createDuration({ days: 1 }));\n        if (selection) { // throw parse error otherwise?\n            this.dispatch({ type: 'SELECT_DATES', selection: selection });\n            triggerDateSelect(selection, null, state);\n        }\n    };\n    // public method\n    CalendarApi.prototype.unselect = function (pev) {\n        var state = this.getCurrentData();\n        if (state.dateSelection) {\n            this.dispatch({ type: 'UNSELECT_DATES' });\n            triggerDateUnselect(pev, state);\n        }\n    };\n    // Public Events API\n    // -----------------------------------------------------------------------------------------------------------------\n    CalendarApi.prototype.addEvent = function (eventInput, sourceInput) {\n        if (eventInput instanceof EventApi) {\n            var def = eventInput._def;\n            var instance = eventInput._instance;\n            var currentData = this.getCurrentData();\n            // not already present? don't want to add an old snapshot\n            if (!currentData.eventStore.defs[def.defId]) {\n                this.dispatch({\n                    type: 'ADD_EVENTS',\n                    eventStore: eventTupleToStore({ def: def, instance: instance }), // TODO: better util for two args?\n                });\n                this.triggerEventAdd(eventInput);\n            }\n            return eventInput;\n        }\n        var state = this.getCurrentData();\n        var eventSource;\n        if (sourceInput instanceof EventSourceApi) {\n            eventSource = sourceInput.internalEventSource;\n        }\n        else if (typeof sourceInput === 'boolean') {\n            if (sourceInput) { // true. part of the first event source\n                eventSource = hashValuesToArray(state.eventSources)[0];\n            }\n        }\n        else if (sourceInput != null) { // an ID. accepts a number too\n            var sourceApi = this.getEventSourceById(sourceInput); // TODO: use an internal function\n            if (!sourceApi) {\n                console.warn(\"Could not find an event source with ID \\\"\" + sourceInput + \"\\\"\"); // TODO: test\n                return null;\n            }\n            eventSource = sourceApi.internalEventSource;\n        }\n        var tuple = parseEvent(eventInput, eventSource, state, false);\n        if (tuple) {\n            var newEventApi = new EventApi(state, tuple.def, tuple.def.recurringDef ? null : tuple.instance);\n            this.dispatch({\n                type: 'ADD_EVENTS',\n                eventStore: eventTupleToStore(tuple),\n            });\n            this.triggerEventAdd(newEventApi);\n            return newEventApi;\n        }\n        return null;\n    };\n    CalendarApi.prototype.triggerEventAdd = function (eventApi) {\n        var _this = this;\n        var emitter = this.getCurrentData().emitter;\n        emitter.trigger('eventAdd', {\n            event: eventApi,\n            relatedEvents: [],\n            revert: function () {\n                _this.dispatch({\n                    type: 'REMOVE_EVENTS',\n                    eventStore: eventApiToStore(eventApi),\n                });\n            },\n        });\n    };\n    // TODO: optimize\n    CalendarApi.prototype.getEventById = function (id) {\n        var state = this.getCurrentData();\n        var _a = state.eventStore, defs = _a.defs, instances = _a.instances;\n        id = String(id);\n        for (var defId in defs) {\n            var def = defs[defId];\n            if (def.publicId === id) {\n                if (def.recurringDef) {\n                    return new EventApi(state, def, null);\n                }\n                for (var instanceId in instances) {\n                    var instance = instances[instanceId];\n                    if (instance.defId === def.defId) {\n                        return new EventApi(state, def, instance);\n                    }\n                }\n            }\n        }\n        return null;\n    };\n    CalendarApi.prototype.getEvents = function () {\n        var currentData = this.getCurrentData();\n        return buildEventApis(currentData.eventStore, currentData);\n    };\n    CalendarApi.prototype.removeAllEvents = function () {\n        this.dispatch({ type: 'REMOVE_ALL_EVENTS' });\n    };\n    // Public Event Sources API\n    // -----------------------------------------------------------------------------------------------------------------\n    CalendarApi.prototype.getEventSources = function () {\n        var state = this.getCurrentData();\n        var sourceHash = state.eventSources;\n        var sourceApis = [];\n        for (var internalId in sourceHash) {\n            sourceApis.push(new EventSourceApi(state, sourceHash[internalId]));\n        }\n        return sourceApis;\n    };\n    CalendarApi.prototype.getEventSourceById = function (id) {\n        var state = this.getCurrentData();\n        var sourceHash = state.eventSources;\n        id = String(id);\n        for (var sourceId in sourceHash) {\n            if (sourceHash[sourceId].publicId === id) {\n                return new EventSourceApi(state, sourceHash[sourceId]);\n            }\n        }\n        return null;\n    };\n    CalendarApi.prototype.addEventSource = function (sourceInput) {\n        var state = this.getCurrentData();\n        if (sourceInput instanceof EventSourceApi) {\n            // not already present? don't want to add an old snapshot\n            if (!state.eventSources[sourceInput.internalEventSource.sourceId]) {\n                this.dispatch({\n                    type: 'ADD_EVENT_SOURCES',\n                    sources: [sourceInput.internalEventSource],\n                });\n            }\n            return sourceInput;\n        }\n        var eventSource = parseEventSource(sourceInput, state);\n        if (eventSource) { // TODO: error otherwise?\n            this.dispatch({ type: 'ADD_EVENT_SOURCES', sources: [eventSource] });\n            return new EventSourceApi(state, eventSource);\n        }\n        return null;\n    };\n    CalendarApi.prototype.removeAllEventSources = function () {\n        this.dispatch({ type: 'REMOVE_ALL_EVENT_SOURCES' });\n    };\n    CalendarApi.prototype.refetchEvents = function () {\n        this.dispatch({ type: 'FETCH_EVENT_SOURCES', isRefetch: true });\n    };\n    // Scroll\n    // -----------------------------------------------------------------------------------------------------------------\n    CalendarApi.prototype.scrollToTime = function (timeInput) {\n        var time = createDuration(timeInput);\n        if (time) {\n            this.trigger('_scrollRequest', { time: time });\n        }\n    };\n    return CalendarApi;\n}());\n\nvar EventApi = /** @class */ (function () {\n    // instance will be null if expressing a recurring event that has no current instances,\n    // OR if trying to validate an incoming external event that has no dates assigned\n    function EventApi(context, def, instance) {\n        this._context = context;\n        this._def = def;\n        this._instance = instance || null;\n    }\n    /*\n    TODO: make event struct more responsible for this\n    */\n    EventApi.prototype.setProp = function (name, val) {\n        var _a, _b;\n        if (name in EVENT_DATE_REFINERS) {\n            console.warn('Could not set date-related prop \\'name\\'. Use one of the date-related methods instead.');\n            // TODO: make proper aliasing system?\n        }\n        else if (name === 'id') {\n            val = EVENT_NON_DATE_REFINERS[name](val);\n            this.mutate({\n                standardProps: { publicId: val }, // hardcoded internal name\n            });\n        }\n        else if (name in EVENT_NON_DATE_REFINERS) {\n            val = EVENT_NON_DATE_REFINERS[name](val);\n            this.mutate({\n                standardProps: (_a = {}, _a[name] = val, _a),\n            });\n        }\n        else if (name in EVENT_UI_REFINERS) {\n            var ui = EVENT_UI_REFINERS[name](val);\n            if (name === 'color') {\n                ui = { backgroundColor: val, borderColor: val };\n            }\n            else if (name === 'editable') {\n                ui = { startEditable: val, durationEditable: val };\n            }\n            else {\n                ui = (_b = {}, _b[name] = val, _b);\n            }\n            this.mutate({\n                standardProps: { ui: ui },\n            });\n        }\n        else {\n            console.warn(\"Could not set prop '\" + name + \"'. Use setExtendedProp instead.\");\n        }\n    };\n    EventApi.prototype.setExtendedProp = function (name, val) {\n        var _a;\n        this.mutate({\n            extendedProps: (_a = {}, _a[name] = val, _a),\n        });\n    };\n    EventApi.prototype.setStart = function (startInput, options) {\n        if (options === void 0) { options = {}; }\n        var dateEnv = this._context.dateEnv;\n        var start = dateEnv.createMarker(startInput);\n        if (start && this._instance) { // TODO: warning if parsed bad\n            var instanceRange = this._instance.range;\n            var startDelta = diffDates(instanceRange.start, start, dateEnv, options.granularity); // what if parsed bad!?\n            if (options.maintainDuration) {\n                this.mutate({ datesDelta: startDelta });\n            }\n            else {\n                this.mutate({ startDelta: startDelta });\n            }\n        }\n    };\n    EventApi.prototype.setEnd = function (endInput, options) {\n        if (options === void 0) { options = {}; }\n        var dateEnv = this._context.dateEnv;\n        var end;\n        if (endInput != null) {\n            end = dateEnv.createMarker(endInput);\n            if (!end) {\n                return; // TODO: warning if parsed bad\n            }\n        }\n        if (this._instance) {\n            if (end) {\n                var endDelta = diffDates(this._instance.range.end, end, dateEnv, options.granularity);\n                this.mutate({ endDelta: endDelta });\n            }\n            else {\n                this.mutate({ standardProps: { hasEnd: false } });\n            }\n        }\n    };\n    EventApi.prototype.setDates = function (startInput, endInput, options) {\n        if (options === void 0) { options = {}; }\n        var dateEnv = this._context.dateEnv;\n        var standardProps = { allDay: options.allDay };\n        var start = dateEnv.createMarker(startInput);\n        var end;\n        if (!start) {\n            return; // TODO: warning if parsed bad\n        }\n        if (endInput != null) {\n            end = dateEnv.createMarker(endInput);\n            if (!end) { // TODO: warning if parsed bad\n                return;\n            }\n        }\n        if (this._instance) {\n            var instanceRange = this._instance.range;\n            // when computing the diff for an event being converted to all-day,\n            // compute diff off of the all-day values the way event-mutation does.\n            if (options.allDay === true) {\n                instanceRange = computeAlignedDayRange(instanceRange);\n            }\n            var startDelta = diffDates(instanceRange.start, start, dateEnv, options.granularity);\n            if (end) {\n                var endDelta = diffDates(instanceRange.end, end, dateEnv, options.granularity);\n                if (durationsEqual(startDelta, endDelta)) {\n                    this.mutate({ datesDelta: startDelta, standardProps: standardProps });\n                }\n                else {\n                    this.mutate({ startDelta: startDelta, endDelta: endDelta, standardProps: standardProps });\n                }\n            }\n            else { // means \"clear the end\"\n                standardProps.hasEnd = false;\n                this.mutate({ datesDelta: startDelta, standardProps: standardProps });\n            }\n        }\n    };\n    EventApi.prototype.moveStart = function (deltaInput) {\n        var delta = createDuration(deltaInput);\n        if (delta) { // TODO: warning if parsed bad\n            this.mutate({ startDelta: delta });\n        }\n    };\n    EventApi.prototype.moveEnd = function (deltaInput) {\n        var delta = createDuration(deltaInput);\n        if (delta) { // TODO: warning if parsed bad\n            this.mutate({ endDelta: delta });\n        }\n    };\n    EventApi.prototype.moveDates = function (deltaInput) {\n        var delta = createDuration(deltaInput);\n        if (delta) { // TODO: warning if parsed bad\n            this.mutate({ datesDelta: delta });\n        }\n    };\n    EventApi.prototype.setAllDay = function (allDay, options) {\n        if (options === void 0) { options = {}; }\n        var standardProps = { allDay: allDay };\n        var maintainDuration = options.maintainDuration;\n        if (maintainDuration == null) {\n            maintainDuration = this._context.options.allDayMaintainDuration;\n        }\n        if (this._def.allDay !== allDay) {\n            standardProps.hasEnd = maintainDuration;\n        }\n        this.mutate({ standardProps: standardProps });\n    };\n    EventApi.prototype.formatRange = function (formatInput) {\n        var dateEnv = this._context.dateEnv;\n        var instance = this._instance;\n        var formatter = createFormatter(formatInput);\n        if (this._def.hasEnd) {\n            return dateEnv.formatRange(instance.range.start, instance.range.end, formatter, {\n                forcedStartTzo: instance.forcedStartTzo,\n                forcedEndTzo: instance.forcedEndTzo,\n            });\n        }\n        return dateEnv.format(instance.range.start, formatter, {\n            forcedTzo: instance.forcedStartTzo,\n        });\n    };\n    EventApi.prototype.mutate = function (mutation) {\n        var instance = this._instance;\n        if (instance) {\n            var def = this._def;\n            var context_1 = this._context;\n            var eventStore_1 = context_1.getCurrentData().eventStore;\n            var relevantEvents = getRelevantEvents(eventStore_1, instance.instanceId);\n            var eventConfigBase = {\n                '': {\n                    display: '',\n                    startEditable: true,\n                    durationEditable: true,\n                    constraints: [],\n                    overlap: null,\n                    allows: [],\n                    backgroundColor: '',\n                    borderColor: '',\n                    textColor: '',\n                    classNames: [],\n                },\n            };\n            relevantEvents = applyMutationToEventStore(relevantEvents, eventConfigBase, mutation, context_1);\n            var oldEvent = new EventApi(context_1, def, instance); // snapshot\n            this._def = relevantEvents.defs[def.defId];\n            this._instance = relevantEvents.instances[instance.instanceId];\n            context_1.dispatch({\n                type: 'MERGE_EVENTS',\n                eventStore: relevantEvents,\n            });\n            context_1.emitter.trigger('eventChange', {\n                oldEvent: oldEvent,\n                event: this,\n                relatedEvents: buildEventApis(relevantEvents, context_1, instance),\n                revert: function () {\n                    context_1.dispatch({\n                        type: 'RESET_EVENTS',\n                        eventStore: eventStore_1,\n                    });\n                },\n            });\n        }\n    };\n    EventApi.prototype.remove = function () {\n        var context = this._context;\n        var asStore = eventApiToStore(this);\n        context.dispatch({\n            type: 'REMOVE_EVENTS',\n            eventStore: asStore,\n        });\n        context.emitter.trigger('eventRemove', {\n            event: this,\n            relatedEvents: [],\n            revert: function () {\n                context.dispatch({\n                    type: 'MERGE_EVENTS',\n                    eventStore: asStore,\n                });\n            },\n        });\n    };\n    Object.defineProperty(EventApi.prototype, \"source\", {\n        get: function () {\n            var sourceId = this._def.sourceId;\n            if (sourceId) {\n                return new EventSourceApi(this._context, this._context.getCurrentData().eventSources[sourceId]);\n            }\n            return null;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"start\", {\n        get: function () {\n            return this._instance ?\n                this._context.dateEnv.toDate(this._instance.range.start) :\n                null;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"end\", {\n        get: function () {\n            return (this._instance && this._def.hasEnd) ?\n                this._context.dateEnv.toDate(this._instance.range.end) :\n                null;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"startStr\", {\n        get: function () {\n            var instance = this._instance;\n            if (instance) {\n                return this._context.dateEnv.formatIso(instance.range.start, {\n                    omitTime: this._def.allDay,\n                    forcedTzo: instance.forcedStartTzo,\n                });\n            }\n            return '';\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"endStr\", {\n        get: function () {\n            var instance = this._instance;\n            if (instance && this._def.hasEnd) {\n                return this._context.dateEnv.formatIso(instance.range.end, {\n                    omitTime: this._def.allDay,\n                    forcedTzo: instance.forcedEndTzo,\n                });\n            }\n            return '';\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"id\", {\n        // computable props that all access the def\n        // TODO: find a TypeScript-compatible way to do this at scale\n        get: function () { return this._def.publicId; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"groupId\", {\n        get: function () { return this._def.groupId; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"allDay\", {\n        get: function () { return this._def.allDay; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"title\", {\n        get: function () { return this._def.title; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"url\", {\n        get: function () { return this._def.url; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"display\", {\n        get: function () { return this._def.ui.display || 'auto'; } // bad. just normalize the type earlier\n        ,\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"startEditable\", {\n        get: function () { return this._def.ui.startEditable; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"durationEditable\", {\n        get: function () { return this._def.ui.durationEditable; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"constraint\", {\n        get: function () { return this._def.ui.constraints[0] || null; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"overlap\", {\n        get: function () { return this._def.ui.overlap; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"allow\", {\n        get: function () { return this._def.ui.allows[0] || null; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"backgroundColor\", {\n        get: function () { return this._def.ui.backgroundColor; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"borderColor\", {\n        get: function () { return this._def.ui.borderColor; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"textColor\", {\n        get: function () { return this._def.ui.textColor; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"classNames\", {\n        // NOTE: user can't modify these because Object.freeze was called in event-def parsing\n        get: function () { return this._def.ui.classNames; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"extendedProps\", {\n        get: function () { return this._def.extendedProps; },\n        enumerable: false,\n        configurable: true\n    });\n    EventApi.prototype.toPlainObject = function (settings) {\n        if (settings === void 0) { settings = {}; }\n        var def = this._def;\n        var ui = def.ui;\n        var _a = this, startStr = _a.startStr, endStr = _a.endStr;\n        var res = {};\n        if (def.title) {\n            res.title = def.title;\n        }\n        if (startStr) {\n            res.start = startStr;\n        }\n        if (endStr) {\n            res.end = endStr;\n        }\n        if (def.publicId) {\n            res.id = def.publicId;\n        }\n        if (def.groupId) {\n            res.groupId = def.groupId;\n        }\n        if (def.url) {\n            res.url = def.url;\n        }\n        if (ui.display && ui.display !== 'auto') {\n            res.display = ui.display;\n        }\n        // TODO: what about recurring-event properties???\n        // TODO: include startEditable/durationEditable/constraint/overlap/allow\n        if (settings.collapseColor && ui.backgroundColor && ui.backgroundColor === ui.borderColor) {\n            res.color = ui.backgroundColor;\n        }\n        else {\n            if (ui.backgroundColor) {\n                res.backgroundColor = ui.backgroundColor;\n            }\n            if (ui.borderColor) {\n                res.borderColor = ui.borderColor;\n            }\n        }\n        if (ui.textColor) {\n            res.textColor = ui.textColor;\n        }\n        if (ui.classNames.length) {\n            res.classNames = ui.classNames;\n        }\n        if (Object.keys(def.extendedProps).length) {\n            if (settings.collapseExtendedProps) {\n                __assign(res, def.extendedProps);\n            }\n            else {\n                res.extendedProps = def.extendedProps;\n            }\n        }\n        return res;\n    };\n    EventApi.prototype.toJSON = function () {\n        return this.toPlainObject();\n    };\n    return EventApi;\n}());\nfunction eventApiToStore(eventApi) {\n    var _a, _b;\n    var def = eventApi._def;\n    var instance = eventApi._instance;\n    return {\n        defs: (_a = {}, _a[def.defId] = def, _a),\n        instances: instance\n            ? (_b = {}, _b[instance.instanceId] = instance, _b) : {},\n    };\n}\nfunction buildEventApis(eventStore, context, excludeInstance) {\n    var defs = eventStore.defs, instances = eventStore.instances;\n    var eventApis = [];\n    var excludeInstanceId = excludeInstance ? excludeInstance.instanceId : '';\n    for (var id in instances) {\n        var instance = instances[id];\n        var def = defs[instance.defId];\n        if (instance.instanceId !== excludeInstanceId) {\n            eventApis.push(new EventApi(context, def, instance));\n        }\n    }\n    return eventApis;\n}\n\nvar calendarSystemClassMap = {};\nfunction registerCalendarSystem(name, theClass) {\n    calendarSystemClassMap[name] = theClass;\n}\nfunction createCalendarSystem(name) {\n    return new calendarSystemClassMap[name]();\n}\nvar GregorianCalendarSystem = /** @class */ (function () {\n    function GregorianCalendarSystem() {\n    }\n    GregorianCalendarSystem.prototype.getMarkerYear = function (d) {\n        return d.getUTCFullYear();\n    };\n    GregorianCalendarSystem.prototype.getMarkerMonth = function (d) {\n        return d.getUTCMonth();\n    };\n    GregorianCalendarSystem.prototype.getMarkerDay = function (d) {\n        return d.getUTCDate();\n    };\n    GregorianCalendarSystem.prototype.arrayToMarker = function (arr) {\n        return arrayToUtcDate(arr);\n    };\n    GregorianCalendarSystem.prototype.markerToArray = function (marker) {\n        return dateToUtcArray(marker);\n    };\n    return GregorianCalendarSystem;\n}());\nregisterCalendarSystem('gregory', GregorianCalendarSystem);\n\nvar ISO_RE = /^\\s*(\\d{4})(-?(\\d{2})(-?(\\d{2})([T ](\\d{2}):?(\\d{2})(:?(\\d{2})(\\.(\\d+))?)?(Z|(([-+])(\\d{2})(:?(\\d{2}))?))?)?)?)?$/;\nfunction parse(str) {\n    var m = ISO_RE.exec(str);\n    if (m) {\n        var marker = new Date(Date.UTC(Number(m[1]), m[3] ? Number(m[3]) - 1 : 0, Number(m[5] || 1), Number(m[7] || 0), Number(m[8] || 0), Number(m[10] || 0), m[12] ? Number(\"0.\" + m[12]) * 1000 : 0));\n        if (isValidDate(marker)) {\n            var timeZoneOffset = null;\n            if (m[13]) {\n                timeZoneOffset = (m[15] === '-' ? -1 : 1) * (Number(m[16] || 0) * 60 +\n                    Number(m[18] || 0));\n            }\n            return {\n                marker: marker,\n                isTimeUnspecified: !m[6],\n                timeZoneOffset: timeZoneOffset,\n            };\n        }\n    }\n    return null;\n}\n\nvar DateEnv = /** @class */ (function () {\n    function DateEnv(settings) {\n        var timeZone = this.timeZone = settings.timeZone;\n        var isNamedTimeZone = timeZone !== 'local' && timeZone !== 'UTC';\n        if (settings.namedTimeZoneImpl && isNamedTimeZone) {\n            this.namedTimeZoneImpl = new settings.namedTimeZoneImpl(timeZone);\n        }\n        this.canComputeOffset = Boolean(!isNamedTimeZone || this.namedTimeZoneImpl);\n        this.calendarSystem = createCalendarSystem(settings.calendarSystem);\n        this.locale = settings.locale;\n        this.weekDow = settings.locale.week.dow;\n        this.weekDoy = settings.locale.week.doy;\n        if (settings.weekNumberCalculation === 'ISO') {\n            this.weekDow = 1;\n            this.weekDoy = 4;\n        }\n        if (typeof settings.firstDay === 'number') {\n            this.weekDow = settings.firstDay;\n        }\n        if (typeof settings.weekNumberCalculation === 'function') {\n            this.weekNumberFunc = settings.weekNumberCalculation;\n        }\n        this.weekText = settings.weekText != null ? settings.weekText : settings.locale.options.weekText;\n        this.cmdFormatter = settings.cmdFormatter;\n        this.defaultSeparator = settings.defaultSeparator;\n    }\n    // Creating / Parsing\n    DateEnv.prototype.createMarker = function (input) {\n        var meta = this.createMarkerMeta(input);\n        if (meta === null) {\n            return null;\n        }\n        return meta.marker;\n    };\n    DateEnv.prototype.createNowMarker = function () {\n        if (this.canComputeOffset) {\n            return this.timestampToMarker(new Date().valueOf());\n        }\n        // if we can't compute the current date val for a timezone,\n        // better to give the current local date vals than UTC\n        return arrayToUtcDate(dateToLocalArray(new Date()));\n    };\n    DateEnv.prototype.createMarkerMeta = function (input) {\n        if (typeof input === 'string') {\n            return this.parse(input);\n        }\n        var marker = null;\n        if (typeof input === 'number') {\n            marker = this.timestampToMarker(input);\n        }\n        else if (input instanceof Date) {\n            input = input.valueOf();\n            if (!isNaN(input)) {\n                marker = this.timestampToMarker(input);\n            }\n        }\n        else if (Array.isArray(input)) {\n            marker = arrayToUtcDate(input);\n        }\n        if (marker === null || !isValidDate(marker)) {\n            return null;\n        }\n        return { marker: marker, isTimeUnspecified: false, forcedTzo: null };\n    };\n    DateEnv.prototype.parse = function (s) {\n        var parts = parse(s);\n        if (parts === null) {\n            return null;\n        }\n        var marker = parts.marker;\n        var forcedTzo = null;\n        if (parts.timeZoneOffset !== null) {\n            if (this.canComputeOffset) {\n                marker = this.timestampToMarker(marker.valueOf() - parts.timeZoneOffset * 60 * 1000);\n            }\n            else {\n                forcedTzo = parts.timeZoneOffset;\n            }\n        }\n        return { marker: marker, isTimeUnspecified: parts.isTimeUnspecified, forcedTzo: forcedTzo };\n    };\n    // Accessors\n    DateEnv.prototype.getYear = function (marker) {\n        return this.calendarSystem.getMarkerYear(marker);\n    };\n    DateEnv.prototype.getMonth = function (marker) {\n        return this.calendarSystem.getMarkerMonth(marker);\n    };\n    // Adding / Subtracting\n    DateEnv.prototype.add = function (marker, dur) {\n        var a = this.calendarSystem.markerToArray(marker);\n        a[0] += dur.years;\n        a[1] += dur.months;\n        a[2] += dur.days;\n        a[6] += dur.milliseconds;\n        return this.calendarSystem.arrayToMarker(a);\n    };\n    DateEnv.prototype.subtract = function (marker, dur) {\n        var a = this.calendarSystem.markerToArray(marker);\n        a[0] -= dur.years;\n        a[1] -= dur.months;\n        a[2] -= dur.days;\n        a[6] -= dur.milliseconds;\n        return this.calendarSystem.arrayToMarker(a);\n    };\n    DateEnv.prototype.addYears = function (marker, n) {\n        var a = this.calendarSystem.markerToArray(marker);\n        a[0] += n;\n        return this.calendarSystem.arrayToMarker(a);\n    };\n    DateEnv.prototype.addMonths = function (marker, n) {\n        var a = this.calendarSystem.markerToArray(marker);\n        a[1] += n;\n        return this.calendarSystem.arrayToMarker(a);\n    };\n    // Diffing Whole Units\n    DateEnv.prototype.diffWholeYears = function (m0, m1) {\n        var calendarSystem = this.calendarSystem;\n        if (timeAsMs(m0) === timeAsMs(m1) &&\n            calendarSystem.getMarkerDay(m0) === calendarSystem.getMarkerDay(m1) &&\n            calendarSystem.getMarkerMonth(m0) === calendarSystem.getMarkerMonth(m1)) {\n            return calendarSystem.getMarkerYear(m1) - calendarSystem.getMarkerYear(m0);\n        }\n        return null;\n    };\n    DateEnv.prototype.diffWholeMonths = function (m0, m1) {\n        var calendarSystem = this.calendarSystem;\n        if (timeAsMs(m0) === timeAsMs(m1) &&\n            calendarSystem.getMarkerDay(m0) === calendarSystem.getMarkerDay(m1)) {\n            return (calendarSystem.getMarkerMonth(m1) - calendarSystem.getMarkerMonth(m0)) +\n                (calendarSystem.getMarkerYear(m1) - calendarSystem.getMarkerYear(m0)) * 12;\n        }\n        return null;\n    };\n    // Range / Duration\n    DateEnv.prototype.greatestWholeUnit = function (m0, m1) {\n        var n = this.diffWholeYears(m0, m1);\n        if (n !== null) {\n            return { unit: 'year', value: n };\n        }\n        n = this.diffWholeMonths(m0, m1);\n        if (n !== null) {\n            return { unit: 'month', value: n };\n        }\n        n = diffWholeWeeks(m0, m1);\n        if (n !== null) {\n            return { unit: 'week', value: n };\n        }\n        n = diffWholeDays(m0, m1);\n        if (n !== null) {\n            return { unit: 'day', value: n };\n        }\n        n = diffHours(m0, m1);\n        if (isInt(n)) {\n            return { unit: 'hour', value: n };\n        }\n        n = diffMinutes(m0, m1);\n        if (isInt(n)) {\n            return { unit: 'minute', value: n };\n        }\n        n = diffSeconds(m0, m1);\n        if (isInt(n)) {\n            return { unit: 'second', value: n };\n        }\n        return { unit: 'millisecond', value: m1.valueOf() - m0.valueOf() };\n    };\n    DateEnv.prototype.countDurationsBetween = function (m0, m1, d) {\n        // TODO: can use greatestWholeUnit\n        var diff;\n        if (d.years) {\n            diff = this.diffWholeYears(m0, m1);\n            if (diff !== null) {\n                return diff / asRoughYears(d);\n            }\n        }\n        if (d.months) {\n            diff = this.diffWholeMonths(m0, m1);\n            if (diff !== null) {\n                return diff / asRoughMonths(d);\n            }\n        }\n        if (d.days) {\n            diff = diffWholeDays(m0, m1);\n            if (diff !== null) {\n                return diff / asRoughDays(d);\n            }\n        }\n        return (m1.valueOf() - m0.valueOf()) / asRoughMs(d);\n    };\n    // Start-Of\n    // these DON'T return zoned-dates. only UTC start-of dates\n    DateEnv.prototype.startOf = function (m, unit) {\n        if (unit === 'year') {\n            return this.startOfYear(m);\n        }\n        if (unit === 'month') {\n            return this.startOfMonth(m);\n        }\n        if (unit === 'week') {\n            return this.startOfWeek(m);\n        }\n        if (unit === 'day') {\n            return startOfDay(m);\n        }\n        if (unit === 'hour') {\n            return startOfHour(m);\n        }\n        if (unit === 'minute') {\n            return startOfMinute(m);\n        }\n        if (unit === 'second') {\n            return startOfSecond(m);\n        }\n        return null;\n    };\n    DateEnv.prototype.startOfYear = function (m) {\n        return this.calendarSystem.arrayToMarker([\n            this.calendarSystem.getMarkerYear(m),\n        ]);\n    };\n    DateEnv.prototype.startOfMonth = function (m) {\n        return this.calendarSystem.arrayToMarker([\n            this.calendarSystem.getMarkerYear(m),\n            this.calendarSystem.getMarkerMonth(m),\n        ]);\n    };\n    DateEnv.prototype.startOfWeek = function (m) {\n        return this.calendarSystem.arrayToMarker([\n            this.calendarSystem.getMarkerYear(m),\n            this.calendarSystem.getMarkerMonth(m),\n            m.getUTCDate() - ((m.getUTCDay() - this.weekDow + 7) % 7),\n        ]);\n    };\n    // Week Number\n    DateEnv.prototype.computeWeekNumber = function (marker) {\n        if (this.weekNumberFunc) {\n            return this.weekNumberFunc(this.toDate(marker));\n        }\n        return weekOfYear(marker, this.weekDow, this.weekDoy);\n    };\n    // TODO: choke on timeZoneName: long\n    DateEnv.prototype.format = function (marker, formatter, dateOptions) {\n        if (dateOptions === void 0) { dateOptions = {}; }\n        return formatter.format({\n            marker: marker,\n            timeZoneOffset: dateOptions.forcedTzo != null ?\n                dateOptions.forcedTzo :\n                this.offsetForMarker(marker),\n        }, this);\n    };\n    DateEnv.prototype.formatRange = function (start, end, formatter, dateOptions) {\n        if (dateOptions === void 0) { dateOptions = {}; }\n        if (dateOptions.isEndExclusive) {\n            end = addMs(end, -1);\n        }\n        return formatter.formatRange({\n            marker: start,\n            timeZoneOffset: dateOptions.forcedStartTzo != null ?\n                dateOptions.forcedStartTzo :\n                this.offsetForMarker(start),\n        }, {\n            marker: end,\n            timeZoneOffset: dateOptions.forcedEndTzo != null ?\n                dateOptions.forcedEndTzo :\n                this.offsetForMarker(end),\n        }, this, dateOptions.defaultSeparator);\n    };\n    /*\n    DUMB: the omitTime arg is dumb. if we omit the time, we want to omit the timezone offset. and if we do that,\n    might as well use buildIsoString or some other util directly\n    */\n    DateEnv.prototype.formatIso = function (marker, extraOptions) {\n        if (extraOptions === void 0) { extraOptions = {}; }\n        var timeZoneOffset = null;\n        if (!extraOptions.omitTimeZoneOffset) {\n            if (extraOptions.forcedTzo != null) {\n                timeZoneOffset = extraOptions.forcedTzo;\n            }\n            else {\n                timeZoneOffset = this.offsetForMarker(marker);\n            }\n        }\n        return buildIsoString(marker, timeZoneOffset, extraOptions.omitTime);\n    };\n    // TimeZone\n    DateEnv.prototype.timestampToMarker = function (ms) {\n        if (this.timeZone === 'local') {\n            return arrayToUtcDate(dateToLocalArray(new Date(ms)));\n        }\n        if (this.timeZone === 'UTC' || !this.namedTimeZoneImpl) {\n            return new Date(ms);\n        }\n        return arrayToUtcDate(this.namedTimeZoneImpl.timestampToArray(ms));\n    };\n    DateEnv.prototype.offsetForMarker = function (m) {\n        if (this.timeZone === 'local') {\n            return -arrayToLocalDate(dateToUtcArray(m)).getTimezoneOffset(); // convert \"inverse\" offset to \"normal\" offset\n        }\n        if (this.timeZone === 'UTC') {\n            return 0;\n        }\n        if (this.namedTimeZoneImpl) {\n            return this.namedTimeZoneImpl.offsetForArray(dateToUtcArray(m));\n        }\n        return null;\n    };\n    // Conversion\n    DateEnv.prototype.toDate = function (m, forcedTzo) {\n        if (this.timeZone === 'local') {\n            return arrayToLocalDate(dateToUtcArray(m));\n        }\n        if (this.timeZone === 'UTC') {\n            return new Date(m.valueOf()); // make sure it's a copy\n        }\n        if (!this.namedTimeZoneImpl) {\n            return new Date(m.valueOf() - (forcedTzo || 0));\n        }\n        return new Date(m.valueOf() -\n            this.namedTimeZoneImpl.offsetForArray(dateToUtcArray(m)) * 1000 * 60);\n    };\n    return DateEnv;\n}());\n\nvar globalLocales = [];\n\nvar RAW_EN_LOCALE = {\n    code: 'en',\n    week: {\n        dow: 0,\n        doy: 4, // 4 days need to be within the year to be considered the first week\n    },\n    direction: 'ltr',\n    buttonText: {\n        prev: 'prev',\n        next: 'next',\n        prevYear: 'prev year',\n        nextYear: 'next year',\n        year: 'year',\n        today: 'today',\n        month: 'month',\n        week: 'week',\n        day: 'day',\n        list: 'list',\n    },\n    weekText: 'W',\n    allDayText: 'all-day',\n    moreLinkText: 'more',\n    noEventsText: 'No events to display',\n};\nfunction organizeRawLocales(explicitRawLocales) {\n    var defaultCode = explicitRawLocales.length > 0 ? explicitRawLocales[0].code : 'en';\n    var allRawLocales = globalLocales.concat(explicitRawLocales);\n    var rawLocaleMap = {\n        en: RAW_EN_LOCALE, // necessary?\n    };\n    for (var _i = 0, allRawLocales_1 = allRawLocales; _i < allRawLocales_1.length; _i++) {\n        var rawLocale = allRawLocales_1[_i];\n        rawLocaleMap[rawLocale.code] = rawLocale;\n    }\n    return {\n        map: rawLocaleMap,\n        defaultCode: defaultCode,\n    };\n}\nfunction buildLocale(inputSingular, available) {\n    if (typeof inputSingular === 'object' && !Array.isArray(inputSingular)) {\n        return parseLocale(inputSingular.code, [inputSingular.code], inputSingular);\n    }\n    return queryLocale(inputSingular, available);\n}\nfunction queryLocale(codeArg, available) {\n    var codes = [].concat(codeArg || []); // will convert to array\n    var raw = queryRawLocale(codes, available) || RAW_EN_LOCALE;\n    return parseLocale(codeArg, codes, raw);\n}\nfunction queryRawLocale(codes, available) {\n    for (var i = 0; i < codes.length; i += 1) {\n        var parts = codes[i].toLocaleLowerCase().split('-');\n        for (var j = parts.length; j > 0; j -= 1) {\n            var simpleId = parts.slice(0, j).join('-');\n            if (available[simpleId]) {\n                return available[simpleId];\n            }\n        }\n    }\n    return null;\n}\nfunction parseLocale(codeArg, codes, raw) {\n    var merged = mergeProps([RAW_EN_LOCALE, raw], ['buttonText']);\n    delete merged.code; // don't want this part of the options\n    var week = merged.week;\n    delete merged.week;\n    return {\n        codeArg: codeArg,\n        codes: codes,\n        week: week,\n        simpleNumberFormat: new Intl.NumberFormat(codeArg),\n        options: merged,\n    };\n}\n\nfunction formatDate(dateInput, options) {\n    if (options === void 0) { options = {}; }\n    var dateEnv = buildDateEnv$1(options);\n    var formatter = createFormatter(options);\n    var dateMeta = dateEnv.createMarkerMeta(dateInput);\n    if (!dateMeta) { // TODO: warning?\n        return '';\n    }\n    return dateEnv.format(dateMeta.marker, formatter, {\n        forcedTzo: dateMeta.forcedTzo,\n    });\n}\nfunction formatRange(startInput, endInput, options) {\n    var dateEnv = buildDateEnv$1(typeof options === 'object' && options ? options : {}); // pass in if non-null object\n    var formatter = createFormatter(options);\n    var startMeta = dateEnv.createMarkerMeta(startInput);\n    var endMeta = dateEnv.createMarkerMeta(endInput);\n    if (!startMeta || !endMeta) { // TODO: warning?\n        return '';\n    }\n    return dateEnv.formatRange(startMeta.marker, endMeta.marker, formatter, {\n        forcedStartTzo: startMeta.forcedTzo,\n        forcedEndTzo: endMeta.forcedTzo,\n        isEndExclusive: options.isEndExclusive,\n        defaultSeparator: BASE_OPTION_DEFAULTS.defaultRangeSeparator,\n    });\n}\n// TODO: more DRY and optimized\nfunction buildDateEnv$1(settings) {\n    var locale = buildLocale(settings.locale || 'en', organizeRawLocales([]).map); // TODO: don't hardcode 'en' everywhere\n    return new DateEnv(__assign(__assign({ timeZone: BASE_OPTION_DEFAULTS.timeZone, calendarSystem: 'gregory' }, settings), { locale: locale }));\n}\n\nvar DEF_DEFAULTS = {\n    startTime: '09:00',\n    endTime: '17:00',\n    daysOfWeek: [1, 2, 3, 4, 5],\n    display: 'inverse-background',\n    classNames: 'fc-non-business',\n    groupId: '_businessHours', // so multiple defs get grouped\n};\n/*\nTODO: pass around as EventDefHash!!!\n*/\nfunction parseBusinessHours(input, context) {\n    return parseEvents(refineInputs(input), null, context);\n}\nfunction refineInputs(input) {\n    var rawDefs;\n    if (input === true) {\n        rawDefs = [{}]; // will get DEF_DEFAULTS verbatim\n    }\n    else if (Array.isArray(input)) {\n        // if specifying an array, every sub-definition NEEDS a day-of-week\n        rawDefs = input.filter(function (rawDef) { return rawDef.daysOfWeek; });\n    }\n    else if (typeof input === 'object' && input) { // non-null object\n        rawDefs = [input];\n    }\n    else { // is probably false\n        rawDefs = [];\n    }\n    rawDefs = rawDefs.map(function (rawDef) { return (__assign(__assign({}, DEF_DEFAULTS), rawDef)); });\n    return rawDefs;\n}\n\nfunction pointInsideRect(point, rect) {\n    return point.left >= rect.left &&\n        point.left < rect.right &&\n        point.top >= rect.top &&\n        point.top < rect.bottom;\n}\n// Returns a new rectangle that is the intersection of the two rectangles. If they don't intersect, returns false\nfunction intersectRects(rect1, rect2) {\n    var res = {\n        left: Math.max(rect1.left, rect2.left),\n        right: Math.min(rect1.right, rect2.right),\n        top: Math.max(rect1.top, rect2.top),\n        bottom: Math.min(rect1.bottom, rect2.bottom),\n    };\n    if (res.left < res.right && res.top < res.bottom) {\n        return res;\n    }\n    return false;\n}\nfunction translateRect(rect, deltaX, deltaY) {\n    return {\n        left: rect.left + deltaX,\n        right: rect.right + deltaX,\n        top: rect.top + deltaY,\n        bottom: rect.bottom + deltaY,\n    };\n}\n// Returns a new point that will have been moved to reside within the given rectangle\nfunction constrainPoint(point, rect) {\n    return {\n        left: Math.min(Math.max(point.left, rect.left), rect.right),\n        top: Math.min(Math.max(point.top, rect.top), rect.bottom),\n    };\n}\n// Returns a point that is the center of the given rectangle\nfunction getRectCenter(rect) {\n    return {\n        left: (rect.left + rect.right) / 2,\n        top: (rect.top + rect.bottom) / 2,\n    };\n}\n// Subtracts point2's coordinates from point1's coordinates, returning a delta\nfunction diffPoints(point1, point2) {\n    return {\n        left: point1.left - point2.left,\n        top: point1.top - point2.top,\n    };\n}\n\nvar canVGrowWithinCell;\nfunction getCanVGrowWithinCell() {\n    if (canVGrowWithinCell == null) {\n        canVGrowWithinCell = computeCanVGrowWithinCell();\n    }\n    return canVGrowWithinCell;\n}\nfunction computeCanVGrowWithinCell() {\n    // for SSR, because this function is call immediately at top-level\n    // TODO: just make this logic execute top-level, immediately, instead of doing lazily\n    if (typeof document === 'undefined') {\n        return true;\n    }\n    var el = document.createElement('div');\n    el.style.position = 'absolute';\n    el.style.top = '0px';\n    el.style.left = '0px';\n    el.innerHTML = '<table><tr><td><div></div></td></tr></table>';\n    el.querySelector('table').style.height = '100px';\n    el.querySelector('div').style.height = '100%';\n    document.body.appendChild(el);\n    var div = el.querySelector('div');\n    var possible = div.offsetHeight > 0;\n    document.body.removeChild(el);\n    return possible;\n}\n\nvar EMPTY_EVENT_STORE = createEmptyEventStore(); // for purecomponents. TODO: keep elsewhere\nvar Splitter = /** @class */ (function () {\n    function Splitter() {\n        this.getKeysForEventDefs = memoize(this._getKeysForEventDefs);\n        this.splitDateSelection = memoize(this._splitDateSpan);\n        this.splitEventStore = memoize(this._splitEventStore);\n        this.splitIndividualUi = memoize(this._splitIndividualUi);\n        this.splitEventDrag = memoize(this._splitInteraction);\n        this.splitEventResize = memoize(this._splitInteraction);\n        this.eventUiBuilders = {}; // TODO: typescript protection\n    }\n    Splitter.prototype.splitProps = function (props) {\n        var _this = this;\n        var keyInfos = this.getKeyInfo(props);\n        var defKeys = this.getKeysForEventDefs(props.eventStore);\n        var dateSelections = this.splitDateSelection(props.dateSelection);\n        var individualUi = this.splitIndividualUi(props.eventUiBases, defKeys); // the individual *bases*\n        var eventStores = this.splitEventStore(props.eventStore, defKeys);\n        var eventDrags = this.splitEventDrag(props.eventDrag);\n        var eventResizes = this.splitEventResize(props.eventResize);\n        var splitProps = {};\n        this.eventUiBuilders = mapHash(keyInfos, function (info, key) { return _this.eventUiBuilders[key] || memoize(buildEventUiForKey); });\n        for (var key in keyInfos) {\n            var keyInfo = keyInfos[key];\n            var eventStore = eventStores[key] || EMPTY_EVENT_STORE;\n            var buildEventUi = this.eventUiBuilders[key];\n            splitProps[key] = {\n                businessHours: keyInfo.businessHours || props.businessHours,\n                dateSelection: dateSelections[key] || null,\n                eventStore: eventStore,\n                eventUiBases: buildEventUi(props.eventUiBases[''], keyInfo.ui, individualUi[key]),\n                eventSelection: eventStore.instances[props.eventSelection] ? props.eventSelection : '',\n                eventDrag: eventDrags[key] || null,\n                eventResize: eventResizes[key] || null,\n            };\n        }\n        return splitProps;\n    };\n    Splitter.prototype._splitDateSpan = function (dateSpan) {\n        var dateSpans = {};\n        if (dateSpan) {\n            var keys = this.getKeysForDateSpan(dateSpan);\n            for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n                var key = keys_1[_i];\n                dateSpans[key] = dateSpan;\n            }\n        }\n        return dateSpans;\n    };\n    Splitter.prototype._getKeysForEventDefs = function (eventStore) {\n        var _this = this;\n        return mapHash(eventStore.defs, function (eventDef) { return _this.getKeysForEventDef(eventDef); });\n    };\n    Splitter.prototype._splitEventStore = function (eventStore, defKeys) {\n        var defs = eventStore.defs, instances = eventStore.instances;\n        var splitStores = {};\n        for (var defId in defs) {\n            for (var _i = 0, _a = defKeys[defId]; _i < _a.length; _i++) {\n                var key = _a[_i];\n                if (!splitStores[key]) {\n                    splitStores[key] = createEmptyEventStore();\n                }\n                splitStores[key].defs[defId] = defs[defId];\n            }\n        }\n        for (var instanceId in instances) {\n            var instance = instances[instanceId];\n            for (var _b = 0, _c = defKeys[instance.defId]; _b < _c.length; _b++) {\n                var key = _c[_b];\n                if (splitStores[key]) { // must have already been created\n                    splitStores[key].instances[instanceId] = instance;\n                }\n            }\n        }\n        return splitStores;\n    };\n    Splitter.prototype._splitIndividualUi = function (eventUiBases, defKeys) {\n        var splitHashes = {};\n        for (var defId in eventUiBases) {\n            if (defId) { // not the '' key\n                for (var _i = 0, _a = defKeys[defId]; _i < _a.length; _i++) {\n                    var key = _a[_i];\n                    if (!splitHashes[key]) {\n                        splitHashes[key] = {};\n                    }\n                    splitHashes[key][defId] = eventUiBases[defId];\n                }\n            }\n        }\n        return splitHashes;\n    };\n    Splitter.prototype._splitInteraction = function (interaction) {\n        var splitStates = {};\n        if (interaction) {\n            var affectedStores_1 = this._splitEventStore(interaction.affectedEvents, this._getKeysForEventDefs(interaction.affectedEvents));\n            // can't rely on defKeys because event data is mutated\n            var mutatedKeysByDefId = this._getKeysForEventDefs(interaction.mutatedEvents);\n            var mutatedStores_1 = this._splitEventStore(interaction.mutatedEvents, mutatedKeysByDefId);\n            var populate = function (key) {\n                if (!splitStates[key]) {\n                    splitStates[key] = {\n                        affectedEvents: affectedStores_1[key] || EMPTY_EVENT_STORE,\n                        mutatedEvents: mutatedStores_1[key] || EMPTY_EVENT_STORE,\n                        isEvent: interaction.isEvent,\n                    };\n                }\n            };\n            for (var key in affectedStores_1) {\n                populate(key);\n            }\n            for (var key in mutatedStores_1) {\n                populate(key);\n            }\n        }\n        return splitStates;\n    };\n    return Splitter;\n}());\nfunction buildEventUiForKey(allUi, eventUiForKey, individualUi) {\n    var baseParts = [];\n    if (allUi) {\n        baseParts.push(allUi);\n    }\n    if (eventUiForKey) {\n        baseParts.push(eventUiForKey);\n    }\n    var stuff = {\n        '': combineEventUis(baseParts),\n    };\n    if (individualUi) {\n        __assign(stuff, individualUi);\n    }\n    return stuff;\n}\n\nfunction getDateMeta(date, todayRange, nowDate, dateProfile) {\n    return {\n        dow: date.getUTCDay(),\n        isDisabled: Boolean(dateProfile && !rangeContainsMarker(dateProfile.activeRange, date)),\n        isOther: Boolean(dateProfile && !rangeContainsMarker(dateProfile.currentRange, date)),\n        isToday: Boolean(todayRange && rangeContainsMarker(todayRange, date)),\n        isPast: Boolean(nowDate ? (date < nowDate) : todayRange ? (date < todayRange.start) : false),\n        isFuture: Boolean(nowDate ? (date > nowDate) : todayRange ? (date >= todayRange.end) : false),\n    };\n}\nfunction getDayClassNames(meta, theme) {\n    var classNames = [\n        'fc-day',\n        \"fc-day-\" + DAY_IDS[meta.dow],\n    ];\n    if (meta.isDisabled) {\n        classNames.push('fc-day-disabled');\n    }\n    else {\n        if (meta.isToday) {\n            classNames.push('fc-day-today');\n            classNames.push(theme.getClass('today'));\n        }\n        if (meta.isPast) {\n            classNames.push('fc-day-past');\n        }\n        if (meta.isFuture) {\n            classNames.push('fc-day-future');\n        }\n        if (meta.isOther) {\n            classNames.push('fc-day-other');\n        }\n    }\n    return classNames;\n}\nfunction getSlotClassNames(meta, theme) {\n    var classNames = [\n        'fc-slot',\n        \"fc-slot-\" + DAY_IDS[meta.dow],\n    ];\n    if (meta.isDisabled) {\n        classNames.push('fc-slot-disabled');\n    }\n    else {\n        if (meta.isToday) {\n            classNames.push('fc-slot-today');\n            classNames.push(theme.getClass('today'));\n        }\n        if (meta.isPast) {\n            classNames.push('fc-slot-past');\n        }\n        if (meta.isFuture) {\n            classNames.push('fc-slot-future');\n        }\n    }\n    return classNames;\n}\n\nfunction buildNavLinkData(date, type) {\n    if (type === void 0) { type = 'day'; }\n    return JSON.stringify({\n        date: formatDayString(date),\n        type: type,\n    });\n}\n\nvar _isRtlScrollbarOnLeft = null;\nfunction getIsRtlScrollbarOnLeft() {\n    if (_isRtlScrollbarOnLeft === null) {\n        _isRtlScrollbarOnLeft = computeIsRtlScrollbarOnLeft();\n    }\n    return _isRtlScrollbarOnLeft;\n}\nfunction computeIsRtlScrollbarOnLeft() {\n    var outerEl = document.createElement('div');\n    applyStyle(outerEl, {\n        position: 'absolute',\n        top: -1000,\n        left: 0,\n        border: 0,\n        padding: 0,\n        overflow: 'scroll',\n        direction: 'rtl',\n    });\n    outerEl.innerHTML = '<div></div>';\n    document.body.appendChild(outerEl);\n    var innerEl = outerEl.firstChild;\n    var res = innerEl.getBoundingClientRect().left > outerEl.getBoundingClientRect().left;\n    removeElement(outerEl);\n    return res;\n}\n\nvar _scrollbarWidths;\nfunction getScrollbarWidths() {\n    if (!_scrollbarWidths) {\n        _scrollbarWidths = computeScrollbarWidths();\n    }\n    return _scrollbarWidths;\n}\nfunction computeScrollbarWidths() {\n    var el = document.createElement('div');\n    el.style.overflow = 'scroll';\n    el.style.position = 'absolute';\n    el.style.top = '-9999px';\n    el.style.left = '-9999px';\n    document.body.appendChild(el);\n    var res = computeScrollbarWidthsForEl(el);\n    document.body.removeChild(el);\n    return res;\n}\n// WARNING: will include border\nfunction computeScrollbarWidthsForEl(el) {\n    return {\n        x: el.offsetHeight - el.clientHeight,\n        y: el.offsetWidth - el.clientWidth,\n    };\n}\n\nfunction computeEdges(el, getPadding) {\n    if (getPadding === void 0) { getPadding = false; }\n    var computedStyle = window.getComputedStyle(el);\n    var borderLeft = parseInt(computedStyle.borderLeftWidth, 10) || 0;\n    var borderRight = parseInt(computedStyle.borderRightWidth, 10) || 0;\n    var borderTop = parseInt(computedStyle.borderTopWidth, 10) || 0;\n    var borderBottom = parseInt(computedStyle.borderBottomWidth, 10) || 0;\n    var badScrollbarWidths = computeScrollbarWidthsForEl(el); // includes border!\n    var scrollbarLeftRight = badScrollbarWidths.y - borderLeft - borderRight;\n    var scrollbarBottom = badScrollbarWidths.x - borderTop - borderBottom;\n    var res = {\n        borderLeft: borderLeft,\n        borderRight: borderRight,\n        borderTop: borderTop,\n        borderBottom: borderBottom,\n        scrollbarBottom: scrollbarBottom,\n        scrollbarLeft: 0,\n        scrollbarRight: 0,\n    };\n    if (getIsRtlScrollbarOnLeft() && computedStyle.direction === 'rtl') { // is the scrollbar on the left side?\n        res.scrollbarLeft = scrollbarLeftRight;\n    }\n    else {\n        res.scrollbarRight = scrollbarLeftRight;\n    }\n    if (getPadding) {\n        res.paddingLeft = parseInt(computedStyle.paddingLeft, 10) || 0;\n        res.paddingRight = parseInt(computedStyle.paddingRight, 10) || 0;\n        res.paddingTop = parseInt(computedStyle.paddingTop, 10) || 0;\n        res.paddingBottom = parseInt(computedStyle.paddingBottom, 10) || 0;\n    }\n    return res;\n}\nfunction computeInnerRect(el, goWithinPadding, doFromWindowViewport) {\n    if (goWithinPadding === void 0) { goWithinPadding = false; }\n    var outerRect = doFromWindowViewport ? el.getBoundingClientRect() : computeRect(el);\n    var edges = computeEdges(el, goWithinPadding);\n    var res = {\n        left: outerRect.left + edges.borderLeft + edges.scrollbarLeft,\n        right: outerRect.right - edges.borderRight - edges.scrollbarRight,\n        top: outerRect.top + edges.borderTop,\n        bottom: outerRect.bottom - edges.borderBottom - edges.scrollbarBottom,\n    };\n    if (goWithinPadding) {\n        res.left += edges.paddingLeft;\n        res.right -= edges.paddingRight;\n        res.top += edges.paddingTop;\n        res.bottom -= edges.paddingBottom;\n    }\n    return res;\n}\nfunction computeRect(el) {\n    var rect = el.getBoundingClientRect();\n    return {\n        left: rect.left + window.pageXOffset,\n        top: rect.top + window.pageYOffset,\n        right: rect.right + window.pageXOffset,\n        bottom: rect.bottom + window.pageYOffset,\n    };\n}\nfunction computeClippedClientRect(el) {\n    var clippingParents = getClippingParents(el);\n    var rect = el.getBoundingClientRect();\n    for (var _i = 0, clippingParents_1 = clippingParents; _i < clippingParents_1.length; _i++) {\n        var clippingParent = clippingParents_1[_i];\n        var intersection = intersectRects(rect, clippingParent.getBoundingClientRect());\n        if (intersection) {\n            rect = intersection;\n        }\n        else {\n            return null;\n        }\n    }\n    return rect;\n}\nfunction computeHeightAndMargins(el) {\n    return el.getBoundingClientRect().height + computeVMargins(el);\n}\nfunction computeVMargins(el) {\n    var computed = window.getComputedStyle(el);\n    return parseInt(computed.marginTop, 10) +\n        parseInt(computed.marginBottom, 10);\n}\n// does not return window\nfunction getClippingParents(el) {\n    var parents = [];\n    while (el instanceof HTMLElement) { // will stop when gets to document or null\n        var computedStyle = window.getComputedStyle(el);\n        if (computedStyle.position === 'fixed') {\n            break;\n        }\n        if ((/(auto|scroll)/).test(computedStyle.overflow + computedStyle.overflowY + computedStyle.overflowX)) {\n            parents.push(el);\n        }\n        el = el.parentNode;\n    }\n    return parents;\n}\n\n// given a function that resolves a result asynchronously.\n// the function can either call passed-in success and failure callbacks,\n// or it can return a promise.\n// if you need to pass additional params to func, bind them first.\nfunction unpromisify(func, success, failure) {\n    // guard against success/failure callbacks being called more than once\n    // and guard against a promise AND callback being used together.\n    var isResolved = false;\n    var wrappedSuccess = function () {\n        if (!isResolved) {\n            isResolved = true;\n            success.apply(this, arguments); // eslint-disable-line prefer-rest-params\n        }\n    };\n    var wrappedFailure = function () {\n        if (!isResolved) {\n            isResolved = true;\n            if (failure) {\n                failure.apply(this, arguments); // eslint-disable-line prefer-rest-params\n            }\n        }\n    };\n    var res = func(wrappedSuccess, wrappedFailure);\n    if (res && typeof res.then === 'function') {\n        res.then(wrappedSuccess, wrappedFailure);\n    }\n}\n\nvar Emitter = /** @class */ (function () {\n    function Emitter() {\n        this.handlers = {};\n        this.thisContext = null;\n    }\n    Emitter.prototype.setThisContext = function (thisContext) {\n        this.thisContext = thisContext;\n    };\n    Emitter.prototype.setOptions = function (options) {\n        this.options = options;\n    };\n    Emitter.prototype.on = function (type, handler) {\n        addToHash(this.handlers, type, handler);\n    };\n    Emitter.prototype.off = function (type, handler) {\n        removeFromHash(this.handlers, type, handler);\n    };\n    Emitter.prototype.trigger = function (type) {\n        var args = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n        }\n        var attachedHandlers = this.handlers[type] || [];\n        var optionHandler = this.options && this.options[type];\n        var handlers = [].concat(optionHandler || [], attachedHandlers);\n        for (var _a = 0, handlers_1 = handlers; _a < handlers_1.length; _a++) {\n            var handler = handlers_1[_a];\n            handler.apply(this.thisContext, args);\n        }\n    };\n    Emitter.prototype.hasHandlers = function (type) {\n        return (this.handlers[type] && this.handlers[type].length) ||\n            (this.options && this.options[type]);\n    };\n    return Emitter;\n}());\nfunction addToHash(hash, type, handler) {\n    (hash[type] || (hash[type] = []))\n        .push(handler);\n}\nfunction removeFromHash(hash, type, handler) {\n    if (handler) {\n        if (hash[type]) {\n            hash[type] = hash[type].filter(function (func) { return func !== handler; });\n        }\n    }\n    else {\n        delete hash[type]; // remove all handler funcs for this type\n    }\n}\n\n/*\nRecords offset information for a set of elements, relative to an origin element.\nCan record the left/right OR the top/bottom OR both.\nProvides methods for querying the cache by position.\n*/\nvar PositionCache = /** @class */ (function () {\n    function PositionCache(originEl, els, isHorizontal, isVertical) {\n        this.els = els;\n        var originClientRect = this.originClientRect = originEl.getBoundingClientRect(); // relative to viewport top-left\n        if (isHorizontal) {\n            this.buildElHorizontals(originClientRect.left);\n        }\n        if (isVertical) {\n            this.buildElVerticals(originClientRect.top);\n        }\n    }\n    // Populates the left/right internal coordinate arrays\n    PositionCache.prototype.buildElHorizontals = function (originClientLeft) {\n        var lefts = [];\n        var rights = [];\n        for (var _i = 0, _a = this.els; _i < _a.length; _i++) {\n            var el = _a[_i];\n            var rect = el.getBoundingClientRect();\n            lefts.push(rect.left - originClientLeft);\n            rights.push(rect.right - originClientLeft);\n        }\n        this.lefts = lefts;\n        this.rights = rights;\n    };\n    // Populates the top/bottom internal coordinate arrays\n    PositionCache.prototype.buildElVerticals = function (originClientTop) {\n        var tops = [];\n        var bottoms = [];\n        for (var _i = 0, _a = this.els; _i < _a.length; _i++) {\n            var el = _a[_i];\n            var rect = el.getBoundingClientRect();\n            tops.push(rect.top - originClientTop);\n            bottoms.push(rect.bottom - originClientTop);\n        }\n        this.tops = tops;\n        this.bottoms = bottoms;\n    };\n    // Given a left offset (from document left), returns the index of the el that it horizontally intersects.\n    // If no intersection is made, returns undefined.\n    PositionCache.prototype.leftToIndex = function (leftPosition) {\n        var _a = this, lefts = _a.lefts, rights = _a.rights;\n        var len = lefts.length;\n        var i;\n        for (i = 0; i < len; i += 1) {\n            if (leftPosition >= lefts[i] && leftPosition < rights[i]) {\n                return i;\n            }\n        }\n        return undefined; // TODO: better\n    };\n    // Given a top offset (from document top), returns the index of the el that it vertically intersects.\n    // If no intersection is made, returns undefined.\n    PositionCache.prototype.topToIndex = function (topPosition) {\n        var _a = this, tops = _a.tops, bottoms = _a.bottoms;\n        var len = tops.length;\n        var i;\n        for (i = 0; i < len; i += 1) {\n            if (topPosition >= tops[i] && topPosition < bottoms[i]) {\n                return i;\n            }\n        }\n        return undefined; // TODO: better\n    };\n    // Gets the width of the element at the given index\n    PositionCache.prototype.getWidth = function (leftIndex) {\n        return this.rights[leftIndex] - this.lefts[leftIndex];\n    };\n    // Gets the height of the element at the given index\n    PositionCache.prototype.getHeight = function (topIndex) {\n        return this.bottoms[topIndex] - this.tops[topIndex];\n    };\n    return PositionCache;\n}());\n\n/* eslint max-classes-per-file: \"off\" */\n/*\nAn object for getting/setting scroll-related information for an element.\nInternally, this is done very differently for window versus DOM element,\nso this object serves as a common interface.\n*/\nvar ScrollController = /** @class */ (function () {\n    function ScrollController() {\n    }\n    ScrollController.prototype.getMaxScrollTop = function () {\n        return this.getScrollHeight() - this.getClientHeight();\n    };\n    ScrollController.prototype.getMaxScrollLeft = function () {\n        return this.getScrollWidth() - this.getClientWidth();\n    };\n    ScrollController.prototype.canScrollVertically = function () {\n        return this.getMaxScrollTop() > 0;\n    };\n    ScrollController.prototype.canScrollHorizontally = function () {\n        return this.getMaxScrollLeft() > 0;\n    };\n    ScrollController.prototype.canScrollUp = function () {\n        return this.getScrollTop() > 0;\n    };\n    ScrollController.prototype.canScrollDown = function () {\n        return this.getScrollTop() < this.getMaxScrollTop();\n    };\n    ScrollController.prototype.canScrollLeft = function () {\n        return this.getScrollLeft() > 0;\n    };\n    ScrollController.prototype.canScrollRight = function () {\n        return this.getScrollLeft() < this.getMaxScrollLeft();\n    };\n    return ScrollController;\n}());\nvar ElementScrollController = /** @class */ (function (_super) {\n    __extends(ElementScrollController, _super);\n    function ElementScrollController(el) {\n        var _this = _super.call(this) || this;\n        _this.el = el;\n        return _this;\n    }\n    ElementScrollController.prototype.getScrollTop = function () {\n        return this.el.scrollTop;\n    };\n    ElementScrollController.prototype.getScrollLeft = function () {\n        return this.el.scrollLeft;\n    };\n    ElementScrollController.prototype.setScrollTop = function (top) {\n        this.el.scrollTop = top;\n    };\n    ElementScrollController.prototype.setScrollLeft = function (left) {\n        this.el.scrollLeft = left;\n    };\n    ElementScrollController.prototype.getScrollWidth = function () {\n        return this.el.scrollWidth;\n    };\n    ElementScrollController.prototype.getScrollHeight = function () {\n        return this.el.scrollHeight;\n    };\n    ElementScrollController.prototype.getClientHeight = function () {\n        return this.el.clientHeight;\n    };\n    ElementScrollController.prototype.getClientWidth = function () {\n        return this.el.clientWidth;\n    };\n    return ElementScrollController;\n}(ScrollController));\nvar WindowScrollController = /** @class */ (function (_super) {\n    __extends(WindowScrollController, _super);\n    function WindowScrollController() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    WindowScrollController.prototype.getScrollTop = function () {\n        return window.pageYOffset;\n    };\n    WindowScrollController.prototype.getScrollLeft = function () {\n        return window.pageXOffset;\n    };\n    WindowScrollController.prototype.setScrollTop = function (n) {\n        window.scroll(window.pageXOffset, n);\n    };\n    WindowScrollController.prototype.setScrollLeft = function (n) {\n        window.scroll(n, window.pageYOffset);\n    };\n    WindowScrollController.prototype.getScrollWidth = function () {\n        return document.documentElement.scrollWidth;\n    };\n    WindowScrollController.prototype.getScrollHeight = function () {\n        return document.documentElement.scrollHeight;\n    };\n    WindowScrollController.prototype.getClientHeight = function () {\n        return document.documentElement.clientHeight;\n    };\n    WindowScrollController.prototype.getClientWidth = function () {\n        return document.documentElement.clientWidth;\n    };\n    return WindowScrollController;\n}(ScrollController));\n\nvar Theme = /** @class */ (function () {\n    function Theme(calendarOptions) {\n        if (this.iconOverrideOption) {\n            this.setIconOverride(calendarOptions[this.iconOverrideOption]);\n        }\n    }\n    Theme.prototype.setIconOverride = function (iconOverrideHash) {\n        var iconClassesCopy;\n        var buttonName;\n        if (typeof iconOverrideHash === 'object' && iconOverrideHash) { // non-null object\n            iconClassesCopy = __assign({}, this.iconClasses);\n            for (buttonName in iconOverrideHash) {\n                iconClassesCopy[buttonName] = this.applyIconOverridePrefix(iconOverrideHash[buttonName]);\n            }\n            this.iconClasses = iconClassesCopy;\n        }\n        else if (iconOverrideHash === false) {\n            this.iconClasses = {};\n        }\n    };\n    Theme.prototype.applyIconOverridePrefix = function (className) {\n        var prefix = this.iconOverridePrefix;\n        if (prefix && className.indexOf(prefix) !== 0) { // if not already present\n            className = prefix + className;\n        }\n        return className;\n    };\n    Theme.prototype.getClass = function (key) {\n        return this.classes[key] || '';\n    };\n    Theme.prototype.getIconClass = function (buttonName, isRtl) {\n        var className;\n        if (isRtl && this.rtlIconClasses) {\n            className = this.rtlIconClasses[buttonName] || this.iconClasses[buttonName];\n        }\n        else {\n            className = this.iconClasses[buttonName];\n        }\n        if (className) {\n            return this.baseIconClass + \" \" + className;\n        }\n        return '';\n    };\n    Theme.prototype.getCustomButtonIconClass = function (customButtonProps) {\n        var className;\n        if (this.iconOverrideCustomButtonOption) {\n            className = customButtonProps[this.iconOverrideCustomButtonOption];\n            if (className) {\n                return this.baseIconClass + \" \" + this.applyIconOverridePrefix(className);\n            }\n        }\n        return '';\n    };\n    return Theme;\n}());\nTheme.prototype.classes = {};\nTheme.prototype.iconClasses = {};\nTheme.prototype.baseIconClass = '';\nTheme.prototype.iconOverridePrefix = '';\n\nvar ScrollResponder = /** @class */ (function () {\n    function ScrollResponder(execFunc, emitter, scrollTime, scrollTimeReset) {\n        var _this = this;\n        this.execFunc = execFunc;\n        this.emitter = emitter;\n        this.scrollTime = scrollTime;\n        this.scrollTimeReset = scrollTimeReset;\n        this.handleScrollRequest = function (request) {\n            _this.queuedRequest = __assign({}, _this.queuedRequest || {}, request);\n            _this.drain();\n        };\n        emitter.on('_scrollRequest', this.handleScrollRequest);\n        this.fireInitialScroll();\n    }\n    ScrollResponder.prototype.detach = function () {\n        this.emitter.off('_scrollRequest', this.handleScrollRequest);\n    };\n    ScrollResponder.prototype.update = function (isDatesNew) {\n        if (isDatesNew && this.scrollTimeReset) {\n            this.fireInitialScroll(); // will drain\n        }\n        else {\n            this.drain();\n        }\n    };\n    ScrollResponder.prototype.fireInitialScroll = function () {\n        this.handleScrollRequest({\n            time: this.scrollTime,\n        });\n    };\n    ScrollResponder.prototype.drain = function () {\n        if (this.queuedRequest && this.execFunc(this.queuedRequest)) {\n            this.queuedRequest = null;\n        }\n    };\n    return ScrollResponder;\n}());\n\nvar ViewContextType = createContext({}); // for Components\nfunction buildViewContext(viewSpec, viewApi, viewOptions, dateProfileGenerator, dateEnv, theme, pluginHooks, dispatch, getCurrentData, emitter, calendarApi, registerInteractiveComponent, unregisterInteractiveComponent) {\n    return {\n        dateEnv: dateEnv,\n        options: viewOptions,\n        pluginHooks: pluginHooks,\n        emitter: emitter,\n        dispatch: dispatch,\n        getCurrentData: getCurrentData,\n        calendarApi: calendarApi,\n        viewSpec: viewSpec,\n        viewApi: viewApi,\n        dateProfileGenerator: dateProfileGenerator,\n        theme: theme,\n        isRtl: viewOptions.direction === 'rtl',\n        addResizeHandler: function (handler) {\n            emitter.on('_resize', handler);\n        },\n        removeResizeHandler: function (handler) {\n            emitter.off('_resize', handler);\n        },\n        createScrollResponder: function (execFunc) {\n            return new ScrollResponder(execFunc, emitter, createDuration(viewOptions.scrollTime), viewOptions.scrollTimeReset);\n        },\n        registerInteractiveComponent: registerInteractiveComponent,\n        unregisterInteractiveComponent: unregisterInteractiveComponent,\n    };\n}\n\n/* eslint max-classes-per-file: off */\nvar PureComponent = /** @class */ (function (_super) {\n    __extends(PureComponent, _super);\n    function PureComponent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    PureComponent.prototype.shouldComponentUpdate = function (nextProps, nextState) {\n        if (this.debug) {\n            // eslint-disable-next-line no-console\n            console.log(getUnequalProps(nextProps, this.props), getUnequalProps(nextState, this.state));\n        }\n        return !compareObjs(this.props, nextProps, this.propEquality) ||\n            !compareObjs(this.state, nextState, this.stateEquality);\n    };\n    PureComponent.addPropsEquality = addPropsEquality;\n    PureComponent.addStateEquality = addStateEquality;\n    PureComponent.contextType = ViewContextType;\n    return PureComponent;\n}(Component));\nPureComponent.prototype.propEquality = {};\nPureComponent.prototype.stateEquality = {};\nvar BaseComponent = /** @class */ (function (_super) {\n    __extends(BaseComponent, _super);\n    function BaseComponent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    BaseComponent.contextType = ViewContextType;\n    return BaseComponent;\n}(PureComponent));\nfunction addPropsEquality(propEquality) {\n    var hash = Object.create(this.prototype.propEquality);\n    __assign(hash, propEquality);\n    this.prototype.propEquality = hash;\n}\nfunction addStateEquality(stateEquality) {\n    var hash = Object.create(this.prototype.stateEquality);\n    __assign(hash, stateEquality);\n    this.prototype.stateEquality = hash;\n}\n// use other one\nfunction setRef(ref, current) {\n    if (typeof ref === 'function') {\n        ref(current);\n    }\n    else if (ref) {\n        // see https://github.com/facebook/react/issues/13029\n        ref.current = current;\n    }\n}\n\n/*\nan INTERACTABLE date component\n\nPURPOSES:\n- hook up to fg, fill, and mirror renderers\n- interface for dragging and hits\n*/\nvar DateComponent = /** @class */ (function (_super) {\n    __extends(DateComponent, _super);\n    function DateComponent() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.uid = guid();\n        return _this;\n    }\n    // Hit System\n    // -----------------------------------------------------------------------------------------------------------------\n    DateComponent.prototype.prepareHits = function () {\n    };\n    DateComponent.prototype.queryHit = function (positionLeft, positionTop, elWidth, elHeight) {\n        return null; // this should be abstract\n    };\n    // Pointer Interaction Utils\n    // -----------------------------------------------------------------------------------------------------------------\n    DateComponent.prototype.isValidSegDownEl = function (el) {\n        return !this.props.eventDrag && // HACK\n            !this.props.eventResize && // HACK\n            !elementClosest(el, '.fc-event-mirror');\n    };\n    DateComponent.prototype.isValidDateDownEl = function (el) {\n        return !elementClosest(el, '.fc-event:not(.fc-bg-event)') &&\n            !elementClosest(el, '.fc-more-link') && // a \"more..\" link\n            !elementClosest(el, 'a[data-navlink]') && // a clickable nav link\n            !elementClosest(el, '.fc-popover'); // hack\n    };\n    return DateComponent;\n}(BaseComponent));\n\n// TODO: easier way to add new hooks? need to update a million things\nfunction createPlugin(input) {\n    return {\n        id: guid(),\n        deps: input.deps || [],\n        reducers: input.reducers || [],\n        isLoadingFuncs: input.isLoadingFuncs || [],\n        contextInit: [].concat(input.contextInit || []),\n        eventRefiners: input.eventRefiners || {},\n        eventDefMemberAdders: input.eventDefMemberAdders || [],\n        eventSourceRefiners: input.eventSourceRefiners || {},\n        isDraggableTransformers: input.isDraggableTransformers || [],\n        eventDragMutationMassagers: input.eventDragMutationMassagers || [],\n        eventDefMutationAppliers: input.eventDefMutationAppliers || [],\n        dateSelectionTransformers: input.dateSelectionTransformers || [],\n        datePointTransforms: input.datePointTransforms || [],\n        dateSpanTransforms: input.dateSpanTransforms || [],\n        views: input.views || {},\n        viewPropsTransformers: input.viewPropsTransformers || [],\n        isPropsValid: input.isPropsValid || null,\n        externalDefTransforms: input.externalDefTransforms || [],\n        viewContainerAppends: input.viewContainerAppends || [],\n        eventDropTransformers: input.eventDropTransformers || [],\n        componentInteractions: input.componentInteractions || [],\n        calendarInteractions: input.calendarInteractions || [],\n        themeClasses: input.themeClasses || {},\n        eventSourceDefs: input.eventSourceDefs || [],\n        cmdFormatter: input.cmdFormatter,\n        recurringTypes: input.recurringTypes || [],\n        namedTimeZonedImpl: input.namedTimeZonedImpl,\n        initialView: input.initialView || '',\n        elementDraggingImpl: input.elementDraggingImpl,\n        optionChangeHandlers: input.optionChangeHandlers || {},\n        scrollGridImpl: input.scrollGridImpl || null,\n        contentTypeHandlers: input.contentTypeHandlers || {},\n        listenerRefiners: input.listenerRefiners || {},\n        optionRefiners: input.optionRefiners || {},\n        propSetHandlers: input.propSetHandlers || {},\n    };\n}\nfunction buildPluginHooks(pluginDefs, globalDefs) {\n    var isAdded = {};\n    var hooks = {\n        reducers: [],\n        isLoadingFuncs: [],\n        contextInit: [],\n        eventRefiners: {},\n        eventDefMemberAdders: [],\n        eventSourceRefiners: {},\n        isDraggableTransformers: [],\n        eventDragMutationMassagers: [],\n        eventDefMutationAppliers: [],\n        dateSelectionTransformers: [],\n        datePointTransforms: [],\n        dateSpanTransforms: [],\n        views: {},\n        viewPropsTransformers: [],\n        isPropsValid: null,\n        externalDefTransforms: [],\n        viewContainerAppends: [],\n        eventDropTransformers: [],\n        componentInteractions: [],\n        calendarInteractions: [],\n        themeClasses: {},\n        eventSourceDefs: [],\n        cmdFormatter: null,\n        recurringTypes: [],\n        namedTimeZonedImpl: null,\n        initialView: '',\n        elementDraggingImpl: null,\n        optionChangeHandlers: {},\n        scrollGridImpl: null,\n        contentTypeHandlers: {},\n        listenerRefiners: {},\n        optionRefiners: {},\n        propSetHandlers: {},\n    };\n    function addDefs(defs) {\n        for (var _i = 0, defs_1 = defs; _i < defs_1.length; _i++) {\n            var def = defs_1[_i];\n            if (!isAdded[def.id]) {\n                isAdded[def.id] = true;\n                addDefs(def.deps);\n                hooks = combineHooks(hooks, def);\n            }\n        }\n    }\n    if (pluginDefs) {\n        addDefs(pluginDefs);\n    }\n    addDefs(globalDefs);\n    return hooks;\n}\nfunction buildBuildPluginHooks() {\n    var currentOverrideDefs = [];\n    var currentGlobalDefs = [];\n    var currentHooks;\n    return function (overrideDefs, globalDefs) {\n        if (!currentHooks || !isArraysEqual(overrideDefs, currentOverrideDefs) || !isArraysEqual(globalDefs, currentGlobalDefs)) {\n            currentHooks = buildPluginHooks(overrideDefs, globalDefs);\n        }\n        currentOverrideDefs = overrideDefs;\n        currentGlobalDefs = globalDefs;\n        return currentHooks;\n    };\n}\nfunction combineHooks(hooks0, hooks1) {\n    return {\n        reducers: hooks0.reducers.concat(hooks1.reducers),\n        isLoadingFuncs: hooks0.isLoadingFuncs.concat(hooks1.isLoadingFuncs),\n        contextInit: hooks0.contextInit.concat(hooks1.contextInit),\n        eventRefiners: __assign(__assign({}, hooks0.eventRefiners), hooks1.eventRefiners),\n        eventDefMemberAdders: hooks0.eventDefMemberAdders.concat(hooks1.eventDefMemberAdders),\n        eventSourceRefiners: __assign(__assign({}, hooks0.eventSourceRefiners), hooks1.eventSourceRefiners),\n        isDraggableTransformers: hooks0.isDraggableTransformers.concat(hooks1.isDraggableTransformers),\n        eventDragMutationMassagers: hooks0.eventDragMutationMassagers.concat(hooks1.eventDragMutationMassagers),\n        eventDefMutationAppliers: hooks0.eventDefMutationAppliers.concat(hooks1.eventDefMutationAppliers),\n        dateSelectionTransformers: hooks0.dateSelectionTransformers.concat(hooks1.dateSelectionTransformers),\n        datePointTransforms: hooks0.datePointTransforms.concat(hooks1.datePointTransforms),\n        dateSpanTransforms: hooks0.dateSpanTransforms.concat(hooks1.dateSpanTransforms),\n        views: __assign(__assign({}, hooks0.views), hooks1.views),\n        viewPropsTransformers: hooks0.viewPropsTransformers.concat(hooks1.viewPropsTransformers),\n        isPropsValid: hooks1.isPropsValid || hooks0.isPropsValid,\n        externalDefTransforms: hooks0.externalDefTransforms.concat(hooks1.externalDefTransforms),\n        viewContainerAppends: hooks0.viewContainerAppends.concat(hooks1.viewContainerAppends),\n        eventDropTransformers: hooks0.eventDropTransformers.concat(hooks1.eventDropTransformers),\n        calendarInteractions: hooks0.calendarInteractions.concat(hooks1.calendarInteractions),\n        componentInteractions: hooks0.componentInteractions.concat(hooks1.componentInteractions),\n        themeClasses: __assign(__assign({}, hooks0.themeClasses), hooks1.themeClasses),\n        eventSourceDefs: hooks0.eventSourceDefs.concat(hooks1.eventSourceDefs),\n        cmdFormatter: hooks1.cmdFormatter || hooks0.cmdFormatter,\n        recurringTypes: hooks0.recurringTypes.concat(hooks1.recurringTypes),\n        namedTimeZonedImpl: hooks1.namedTimeZonedImpl || hooks0.namedTimeZonedImpl,\n        initialView: hooks0.initialView || hooks1.initialView,\n        elementDraggingImpl: hooks0.elementDraggingImpl || hooks1.elementDraggingImpl,\n        optionChangeHandlers: __assign(__assign({}, hooks0.optionChangeHandlers), hooks1.optionChangeHandlers),\n        scrollGridImpl: hooks1.scrollGridImpl || hooks0.scrollGridImpl,\n        contentTypeHandlers: __assign(__assign({}, hooks0.contentTypeHandlers), hooks1.contentTypeHandlers),\n        listenerRefiners: __assign(__assign({}, hooks0.listenerRefiners), hooks1.listenerRefiners),\n        optionRefiners: __assign(__assign({}, hooks0.optionRefiners), hooks1.optionRefiners),\n        propSetHandlers: __assign(__assign({}, hooks0.propSetHandlers), hooks1.propSetHandlers),\n    };\n}\n\nvar StandardTheme = /** @class */ (function (_super) {\n    __extends(StandardTheme, _super);\n    function StandardTheme() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    return StandardTheme;\n}(Theme));\nStandardTheme.prototype.classes = {\n    root: 'fc-theme-standard',\n    tableCellShaded: 'fc-cell-shaded',\n    buttonGroup: 'fc-button-group',\n    button: 'fc-button fc-button-primary',\n    buttonActive: 'fc-button-active',\n};\nStandardTheme.prototype.baseIconClass = 'fc-icon';\nStandardTheme.prototype.iconClasses = {\n    close: 'fc-icon-x',\n    prev: 'fc-icon-chevron-left',\n    next: 'fc-icon-chevron-right',\n    prevYear: 'fc-icon-chevrons-left',\n    nextYear: 'fc-icon-chevrons-right',\n};\nStandardTheme.prototype.rtlIconClasses = {\n    prev: 'fc-icon-chevron-right',\n    next: 'fc-icon-chevron-left',\n    prevYear: 'fc-icon-chevrons-right',\n    nextYear: 'fc-icon-chevrons-left',\n};\nStandardTheme.prototype.iconOverrideOption = 'buttonIcons'; // TODO: make TS-friendly\nStandardTheme.prototype.iconOverrideCustomButtonOption = 'icon';\nStandardTheme.prototype.iconOverridePrefix = 'fc-icon-';\n\nfunction compileViewDefs(defaultConfigs, overrideConfigs) {\n    var hash = {};\n    var viewType;\n    for (viewType in defaultConfigs) {\n        ensureViewDef(viewType, hash, defaultConfigs, overrideConfigs);\n    }\n    for (viewType in overrideConfigs) {\n        ensureViewDef(viewType, hash, defaultConfigs, overrideConfigs);\n    }\n    return hash;\n}\nfunction ensureViewDef(viewType, hash, defaultConfigs, overrideConfigs) {\n    if (hash[viewType]) {\n        return hash[viewType];\n    }\n    var viewDef = buildViewDef(viewType, hash, defaultConfigs, overrideConfigs);\n    if (viewDef) {\n        hash[viewType] = viewDef;\n    }\n    return viewDef;\n}\nfunction buildViewDef(viewType, hash, defaultConfigs, overrideConfigs) {\n    var defaultConfig = defaultConfigs[viewType];\n    var overrideConfig = overrideConfigs[viewType];\n    var queryProp = function (name) { return ((defaultConfig && defaultConfig[name] !== null) ? defaultConfig[name] :\n        ((overrideConfig && overrideConfig[name] !== null) ? overrideConfig[name] : null)); };\n    var theComponent = queryProp('component');\n    var superType = queryProp('superType');\n    var superDef = null;\n    if (superType) {\n        if (superType === viewType) {\n            throw new Error('Can\\'t have a custom view type that references itself');\n        }\n        superDef = ensureViewDef(superType, hash, defaultConfigs, overrideConfigs);\n    }\n    if (!theComponent && superDef) {\n        theComponent = superDef.component;\n    }\n    if (!theComponent) {\n        return null; // don't throw a warning, might be settings for a single-unit view\n    }\n    return {\n        type: viewType,\n        component: theComponent,\n        defaults: __assign(__assign({}, (superDef ? superDef.defaults : {})), (defaultConfig ? defaultConfig.rawOptions : {})),\n        overrides: __assign(__assign({}, (superDef ? superDef.overrides : {})), (overrideConfig ? overrideConfig.rawOptions : {})),\n    };\n}\n\n/* eslint max-classes-per-file: off */\n// NOTE: in JSX, you should always use this class with <HookProps> arg. otherwise, will default to any???\nvar RenderHook = /** @class */ (function (_super) {\n    __extends(RenderHook, _super);\n    function RenderHook() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.rootElRef = createRef();\n        _this.handleRootEl = function (el) {\n            setRef(_this.rootElRef, el);\n            if (_this.props.elRef) {\n                setRef(_this.props.elRef, el);\n            }\n        };\n        return _this;\n    }\n    RenderHook.prototype.render = function () {\n        var _this = this;\n        var props = this.props;\n        var hookProps = props.hookProps;\n        return (createElement(MountHook, { hookProps: hookProps, didMount: props.didMount, willUnmount: props.willUnmount, elRef: this.handleRootEl }, function (rootElRef) { return (createElement(ContentHook, { hookProps: hookProps, content: props.content, defaultContent: props.defaultContent, backupElRef: _this.rootElRef }, function (innerElRef, innerContent) { return props.children(rootElRef, normalizeClassNames(props.classNames, hookProps), innerElRef, innerContent); })); }));\n    };\n    return RenderHook;\n}(BaseComponent));\n// TODO: rename to be about function, not default. use in above type\n// for forcing rerender of components that use the ContentHook\nvar CustomContentRenderContext = createContext(0);\nfunction ContentHook(props) {\n    return (createElement(CustomContentRenderContext.Consumer, null, function (renderId) { return (createElement(ContentHookInner, __assign({ renderId: renderId }, props))); }));\n}\nvar ContentHookInner = /** @class */ (function (_super) {\n    __extends(ContentHookInner, _super);\n    function ContentHookInner() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.innerElRef = createRef();\n        return _this;\n    }\n    ContentHookInner.prototype.render = function () {\n        return this.props.children(this.innerElRef, this.renderInnerContent());\n    };\n    ContentHookInner.prototype.componentDidMount = function () {\n        this.updateCustomContent();\n    };\n    ContentHookInner.prototype.componentDidUpdate = function () {\n        this.updateCustomContent();\n    };\n    ContentHookInner.prototype.componentWillUnmount = function () {\n        if (this.customContentInfo && this.customContentInfo.destroy) {\n            this.customContentInfo.destroy();\n        }\n    };\n    ContentHookInner.prototype.renderInnerContent = function () {\n        var contentTypeHandlers = this.context.pluginHooks.contentTypeHandlers;\n        var _a = this, props = _a.props, customContentInfo = _a.customContentInfo;\n        var rawVal = props.content;\n        var innerContent = normalizeContent(rawVal, props.hookProps);\n        var innerContentVDom = null;\n        if (innerContent === undefined) { // use the default\n            innerContent = normalizeContent(props.defaultContent, props.hookProps);\n        }\n        if (innerContent !== undefined) { // we allow custom content handlers to return nothing\n            if (customContentInfo) {\n                customContentInfo.contentVal = innerContent[customContentInfo.contentKey];\n            }\n            else if (typeof innerContent === 'object') {\n                // look for a prop that would indicate a custom content handler is needed\n                for (var contentKey in contentTypeHandlers) {\n                    if (innerContent[contentKey] !== undefined) {\n                        var stuff = contentTypeHandlers[contentKey]();\n                        customContentInfo = this.customContentInfo = __assign({ contentKey: contentKey, contentVal: innerContent[contentKey] }, stuff);\n                        break;\n                    }\n                }\n            }\n            if (customContentInfo) {\n                innerContentVDom = []; // signal that something was specified\n            }\n            else {\n                innerContentVDom = innerContent; // assume a [p]react vdom node. use it\n            }\n        }\n        return innerContentVDom;\n    };\n    ContentHookInner.prototype.updateCustomContent = function () {\n        if (this.customContentInfo) {\n            this.customContentInfo.render(this.innerElRef.current || this.props.backupElRef.current, // the element to render into\n            this.customContentInfo.contentVal);\n        }\n    };\n    return ContentHookInner;\n}(BaseComponent));\nvar MountHook = /** @class */ (function (_super) {\n    __extends(MountHook, _super);\n    function MountHook() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.handleRootEl = function (rootEl) {\n            _this.rootEl = rootEl;\n            if (_this.props.elRef) {\n                setRef(_this.props.elRef, rootEl);\n            }\n        };\n        return _this;\n    }\n    MountHook.prototype.render = function () {\n        return this.props.children(this.handleRootEl);\n    };\n    MountHook.prototype.componentDidMount = function () {\n        var callback = this.props.didMount;\n        if (callback) {\n            callback(__assign(__assign({}, this.props.hookProps), { el: this.rootEl }));\n        }\n    };\n    MountHook.prototype.componentWillUnmount = function () {\n        var callback = this.props.willUnmount;\n        if (callback) {\n            callback(__assign(__assign({}, this.props.hookProps), { el: this.rootEl }));\n        }\n    };\n    return MountHook;\n}(BaseComponent));\nfunction buildClassNameNormalizer() {\n    var currentGenerator;\n    var currentHookProps;\n    var currentClassNames = [];\n    return function (generator, hookProps) {\n        if (!currentHookProps || !isPropsEqual(currentHookProps, hookProps) || generator !== currentGenerator) {\n            currentGenerator = generator;\n            currentHookProps = hookProps;\n            currentClassNames = normalizeClassNames(generator, hookProps);\n        }\n        return currentClassNames;\n    };\n}\nfunction normalizeClassNames(classNames, hookProps) {\n    if (typeof classNames === 'function') {\n        classNames = classNames(hookProps);\n    }\n    return parseClassNames(classNames);\n}\nfunction normalizeContent(input, hookProps) {\n    if (typeof input === 'function') {\n        return input(hookProps, createElement); // give the function the vdom-creation func\n    }\n    return input;\n}\n\nvar ViewRoot = /** @class */ (function (_super) {\n    __extends(ViewRoot, _super);\n    function ViewRoot() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.normalizeClassNames = buildClassNameNormalizer();\n        return _this;\n    }\n    ViewRoot.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        var options = context.options;\n        var hookProps = { view: context.viewApi };\n        var customClassNames = this.normalizeClassNames(options.viewClassNames, hookProps);\n        return (createElement(MountHook, { hookProps: hookProps, didMount: options.viewDidMount, willUnmount: options.viewWillUnmount, elRef: props.elRef }, function (rootElRef) { return props.children(rootElRef, [\"fc-\" + props.viewSpec.type + \"-view\", 'fc-view'].concat(customClassNames)); }));\n    };\n    return ViewRoot;\n}(BaseComponent));\n\nfunction parseViewConfigs(inputs) {\n    return mapHash(inputs, parseViewConfig);\n}\nfunction parseViewConfig(input) {\n    var rawOptions = typeof input === 'function' ?\n        { component: input } :\n        input;\n    var component = rawOptions.component;\n    if (rawOptions.content) {\n        component = createViewHookComponent(rawOptions);\n        // TODO: remove content/classNames/didMount/etc from options?\n    }\n    return {\n        superType: rawOptions.type,\n        component: component,\n        rawOptions: rawOptions,\n    };\n}\nfunction createViewHookComponent(options) {\n    return function (viewProps) { return (createElement(ViewContextType.Consumer, null, function (context) { return (createElement(ViewRoot, { viewSpec: context.viewSpec }, function (viewElRef, viewClassNames) {\n        var hookProps = __assign(__assign({}, viewProps), { nextDayThreshold: context.options.nextDayThreshold });\n        return (createElement(RenderHook, { hookProps: hookProps, classNames: options.classNames, content: options.content, didMount: options.didMount, willUnmount: options.willUnmount, elRef: viewElRef }, function (rootElRef, customClassNames, innerElRef, innerContent) { return (createElement(\"div\", { className: viewClassNames.concat(customClassNames).join(' '), ref: rootElRef }, innerContent)); }));\n    })); })); };\n}\n\nfunction buildViewSpecs(defaultInputs, optionOverrides, dynamicOptionOverrides, localeDefaults) {\n    var defaultConfigs = parseViewConfigs(defaultInputs);\n    var overrideConfigs = parseViewConfigs(optionOverrides.views);\n    var viewDefs = compileViewDefs(defaultConfigs, overrideConfigs);\n    return mapHash(viewDefs, function (viewDef) { return buildViewSpec(viewDef, overrideConfigs, optionOverrides, dynamicOptionOverrides, localeDefaults); });\n}\nfunction buildViewSpec(viewDef, overrideConfigs, optionOverrides, dynamicOptionOverrides, localeDefaults) {\n    var durationInput = viewDef.overrides.duration ||\n        viewDef.defaults.duration ||\n        dynamicOptionOverrides.duration ||\n        optionOverrides.duration;\n    var duration = null;\n    var durationUnit = '';\n    var singleUnit = '';\n    var singleUnitOverrides = {};\n    if (durationInput) {\n        duration = createDurationCached(durationInput);\n        if (duration) { // valid?\n            var denom = greatestDurationDenominator(duration);\n            durationUnit = denom.unit;\n            if (denom.value === 1) {\n                singleUnit = durationUnit;\n                singleUnitOverrides = overrideConfigs[durationUnit] ? overrideConfigs[durationUnit].rawOptions : {};\n            }\n        }\n    }\n    var queryButtonText = function (optionsSubset) {\n        var buttonTextMap = optionsSubset.buttonText || {};\n        var buttonTextKey = viewDef.defaults.buttonTextKey;\n        if (buttonTextKey != null && buttonTextMap[buttonTextKey] != null) {\n            return buttonTextMap[buttonTextKey];\n        }\n        if (buttonTextMap[viewDef.type] != null) {\n            return buttonTextMap[viewDef.type];\n        }\n        if (buttonTextMap[singleUnit] != null) {\n            return buttonTextMap[singleUnit];\n        }\n        return null;\n    };\n    return {\n        type: viewDef.type,\n        component: viewDef.component,\n        duration: duration,\n        durationUnit: durationUnit,\n        singleUnit: singleUnit,\n        optionDefaults: viewDef.defaults,\n        optionOverrides: __assign(__assign({}, singleUnitOverrides), viewDef.overrides),\n        buttonTextOverride: queryButtonText(dynamicOptionOverrides) ||\n            queryButtonText(optionOverrides) || // constructor-specified buttonText lookup hash takes precedence\n            viewDef.overrides.buttonText,\n        buttonTextDefault: queryButtonText(localeDefaults) ||\n            viewDef.defaults.buttonText ||\n            queryButtonText(BASE_OPTION_DEFAULTS) ||\n            viewDef.type, // fall back to given view name\n    };\n}\n// hack to get memoization working\nvar durationInputMap = {};\nfunction createDurationCached(durationInput) {\n    var json = JSON.stringify(durationInput);\n    var res = durationInputMap[json];\n    if (res === undefined) {\n        res = createDuration(durationInput);\n        durationInputMap[json] = res;\n    }\n    return res;\n}\n\nvar DateProfileGenerator = /** @class */ (function () {\n    function DateProfileGenerator(props) {\n        this.props = props;\n        this.nowDate = getNow(props.nowInput, props.dateEnv);\n        this.initHiddenDays();\n    }\n    /* Date Range Computation\n    ------------------------------------------------------------------------------------------------------------------*/\n    // Builds a structure with info about what the dates/ranges will be for the \"prev\" view.\n    DateProfileGenerator.prototype.buildPrev = function (currentDateProfile, currentDate, forceToValid) {\n        var dateEnv = this.props.dateEnv;\n        var prevDate = dateEnv.subtract(dateEnv.startOf(currentDate, currentDateProfile.currentRangeUnit), // important for start-of-month\n        currentDateProfile.dateIncrement);\n        return this.build(prevDate, -1, forceToValid);\n    };\n    // Builds a structure with info about what the dates/ranges will be for the \"next\" view.\n    DateProfileGenerator.prototype.buildNext = function (currentDateProfile, currentDate, forceToValid) {\n        var dateEnv = this.props.dateEnv;\n        var nextDate = dateEnv.add(dateEnv.startOf(currentDate, currentDateProfile.currentRangeUnit), // important for start-of-month\n        currentDateProfile.dateIncrement);\n        return this.build(nextDate, 1, forceToValid);\n    };\n    // Builds a structure holding dates/ranges for rendering around the given date.\n    // Optional direction param indicates whether the date is being incremented/decremented\n    // from its previous value. decremented = -1, incremented = 1 (default).\n    DateProfileGenerator.prototype.build = function (currentDate, direction, forceToValid) {\n        if (forceToValid === void 0) { forceToValid = true; }\n        var props = this.props;\n        var validRange;\n        var currentInfo;\n        var isRangeAllDay;\n        var renderRange;\n        var activeRange;\n        var isValid;\n        validRange = this.buildValidRange();\n        validRange = this.trimHiddenDays(validRange);\n        if (forceToValid) {\n            currentDate = constrainMarkerToRange(currentDate, validRange);\n        }\n        currentInfo = this.buildCurrentRangeInfo(currentDate, direction);\n        isRangeAllDay = /^(year|month|week|day)$/.test(currentInfo.unit);\n        renderRange = this.buildRenderRange(this.trimHiddenDays(currentInfo.range), currentInfo.unit, isRangeAllDay);\n        renderRange = this.trimHiddenDays(renderRange);\n        activeRange = renderRange;\n        if (!props.showNonCurrentDates) {\n            activeRange = intersectRanges(activeRange, currentInfo.range);\n        }\n        activeRange = this.adjustActiveRange(activeRange);\n        activeRange = intersectRanges(activeRange, validRange); // might return null\n        // it's invalid if the originally requested date is not contained,\n        // or if the range is completely outside of the valid range.\n        isValid = rangesIntersect(currentInfo.range, validRange);\n        return {\n            // constraint for where prev/next operations can go and where events can be dragged/resized to.\n            // an object with optional start and end properties.\n            validRange: validRange,\n            // range the view is formally responsible for.\n            // for example, a month view might have 1st-31st, excluding padded dates\n            currentRange: currentInfo.range,\n            // name of largest unit being displayed, like \"month\" or \"week\"\n            currentRangeUnit: currentInfo.unit,\n            isRangeAllDay: isRangeAllDay,\n            // dates that display events and accept drag-n-drop\n            // will be `null` if no dates accept events\n            activeRange: activeRange,\n            // date range with a rendered skeleton\n            // includes not-active days that need some sort of DOM\n            renderRange: renderRange,\n            // Duration object that denotes the first visible time of any given day\n            slotMinTime: props.slotMinTime,\n            // Duration object that denotes the exclusive visible end time of any given day\n            slotMaxTime: props.slotMaxTime,\n            isValid: isValid,\n            // how far the current date will move for a prev/next operation\n            dateIncrement: this.buildDateIncrement(currentInfo.duration),\n            // pass a fallback (might be null) ^\n        };\n    };\n    // Builds an object with optional start/end properties.\n    // Indicates the minimum/maximum dates to display.\n    // not responsible for trimming hidden days.\n    DateProfileGenerator.prototype.buildValidRange = function () {\n        var input = this.props.validRangeInput;\n        var simpleInput = typeof input === 'function'\n            ? input.call(this.props.calendarApi, this.nowDate)\n            : input;\n        return this.refineRange(simpleInput) ||\n            { start: null, end: null }; // completely open-ended\n    };\n    // Builds a structure with info about the \"current\" range, the range that is\n    // highlighted as being the current month for example.\n    // See build() for a description of `direction`.\n    // Guaranteed to have `range` and `unit` properties. `duration` is optional.\n    DateProfileGenerator.prototype.buildCurrentRangeInfo = function (date, direction) {\n        var props = this.props;\n        var duration = null;\n        var unit = null;\n        var range = null;\n        var dayCount;\n        if (props.duration) {\n            duration = props.duration;\n            unit = props.durationUnit;\n            range = this.buildRangeFromDuration(date, direction, duration, unit);\n        }\n        else if ((dayCount = this.props.dayCount)) {\n            unit = 'day';\n            range = this.buildRangeFromDayCount(date, direction, dayCount);\n        }\n        else if ((range = this.buildCustomVisibleRange(date))) {\n            unit = props.dateEnv.greatestWholeUnit(range.start, range.end).unit;\n        }\n        else {\n            duration = this.getFallbackDuration();\n            unit = greatestDurationDenominator(duration).unit;\n            range = this.buildRangeFromDuration(date, direction, duration, unit);\n        }\n        return { duration: duration, unit: unit, range: range };\n    };\n    DateProfileGenerator.prototype.getFallbackDuration = function () {\n        return createDuration({ day: 1 });\n    };\n    // Returns a new activeRange to have time values (un-ambiguate)\n    // slotMinTime or slotMaxTime causes the range to expand.\n    DateProfileGenerator.prototype.adjustActiveRange = function (range) {\n        var _a = this.props, dateEnv = _a.dateEnv, usesMinMaxTime = _a.usesMinMaxTime, slotMinTime = _a.slotMinTime, slotMaxTime = _a.slotMaxTime;\n        var start = range.start, end = range.end;\n        if (usesMinMaxTime) {\n            // expand active range if slotMinTime is negative (why not when positive?)\n            if (asRoughDays(slotMinTime) < 0) {\n                start = startOfDay(start); // necessary?\n                start = dateEnv.add(start, slotMinTime);\n            }\n            // expand active range if slotMaxTime is beyond one day (why not when negative?)\n            if (asRoughDays(slotMaxTime) > 1) {\n                end = startOfDay(end); // necessary?\n                end = addDays(end, -1);\n                end = dateEnv.add(end, slotMaxTime);\n            }\n        }\n        return { start: start, end: end };\n    };\n    // Builds the \"current\" range when it is specified as an explicit duration.\n    // `unit` is the already-computed greatestDurationDenominator unit of duration.\n    DateProfileGenerator.prototype.buildRangeFromDuration = function (date, direction, duration, unit) {\n        var _a = this.props, dateEnv = _a.dateEnv, dateAlignment = _a.dateAlignment;\n        var start;\n        var end;\n        var res;\n        // compute what the alignment should be\n        if (!dateAlignment) {\n            var dateIncrement = this.props.dateIncrement;\n            if (dateIncrement) {\n                // use the smaller of the two units\n                if (asRoughMs(dateIncrement) < asRoughMs(duration)) {\n                    dateAlignment = greatestDurationDenominator(dateIncrement).unit;\n                }\n                else {\n                    dateAlignment = unit;\n                }\n            }\n            else {\n                dateAlignment = unit;\n            }\n        }\n        // if the view displays a single day or smaller\n        if (asRoughDays(duration) <= 1) {\n            if (this.isHiddenDay(start)) {\n                start = this.skipHiddenDays(start, direction);\n                start = startOfDay(start);\n            }\n        }\n        function computeRes() {\n            start = dateEnv.startOf(date, dateAlignment);\n            end = dateEnv.add(start, duration);\n            res = { start: start, end: end };\n        }\n        computeRes();\n        // if range is completely enveloped by hidden days, go past the hidden days\n        if (!this.trimHiddenDays(res)) {\n            date = this.skipHiddenDays(date, direction);\n            computeRes();\n        }\n        return res;\n    };\n    // Builds the \"current\" range when a dayCount is specified.\n    DateProfileGenerator.prototype.buildRangeFromDayCount = function (date, direction, dayCount) {\n        var _a = this.props, dateEnv = _a.dateEnv, dateAlignment = _a.dateAlignment;\n        var runningCount = 0;\n        var start = date;\n        var end;\n        if (dateAlignment) {\n            start = dateEnv.startOf(start, dateAlignment);\n        }\n        start = startOfDay(start);\n        start = this.skipHiddenDays(start, direction);\n        end = start;\n        do {\n            end = addDays(end, 1);\n            if (!this.isHiddenDay(end)) {\n                runningCount += 1;\n            }\n        } while (runningCount < dayCount);\n        return { start: start, end: end };\n    };\n    // Builds a normalized range object for the \"visible\" range,\n    // which is a way to define the currentRange and activeRange at the same time.\n    DateProfileGenerator.prototype.buildCustomVisibleRange = function (date) {\n        var props = this.props;\n        var input = props.visibleRangeInput;\n        var simpleInput = typeof input === 'function'\n            ? input.call(props.calendarApi, props.dateEnv.toDate(date))\n            : input;\n        var range = this.refineRange(simpleInput);\n        if (range && (range.start == null || range.end == null)) {\n            return null;\n        }\n        return range;\n    };\n    // Computes the range that will represent the element/cells for *rendering*,\n    // but which may have voided days/times.\n    // not responsible for trimming hidden days.\n    DateProfileGenerator.prototype.buildRenderRange = function (currentRange, currentRangeUnit, isRangeAllDay) {\n        return currentRange;\n    };\n    // Compute the duration value that should be added/substracted to the current date\n    // when a prev/next operation happens.\n    DateProfileGenerator.prototype.buildDateIncrement = function (fallback) {\n        var dateIncrement = this.props.dateIncrement;\n        var customAlignment;\n        if (dateIncrement) {\n            return dateIncrement;\n        }\n        if ((customAlignment = this.props.dateAlignment)) {\n            return createDuration(1, customAlignment);\n        }\n        if (fallback) {\n            return fallback;\n        }\n        return createDuration({ days: 1 });\n    };\n    DateProfileGenerator.prototype.refineRange = function (rangeInput) {\n        if (rangeInput) {\n            var range = parseRange(rangeInput, this.props.dateEnv);\n            if (range) {\n                range = computeVisibleDayRange(range);\n            }\n            return range;\n        }\n        return null;\n    };\n    /* Hidden Days\n    ------------------------------------------------------------------------------------------------------------------*/\n    // Initializes internal variables related to calculating hidden days-of-week\n    DateProfileGenerator.prototype.initHiddenDays = function () {\n        var hiddenDays = this.props.hiddenDays || []; // array of day-of-week indices that are hidden\n        var isHiddenDayHash = []; // is the day-of-week hidden? (hash with day-of-week-index -> bool)\n        var dayCnt = 0;\n        var i;\n        if (this.props.weekends === false) {\n            hiddenDays.push(0, 6); // 0=sunday, 6=saturday\n        }\n        for (i = 0; i < 7; i += 1) {\n            if (!(isHiddenDayHash[i] = hiddenDays.indexOf(i) !== -1)) {\n                dayCnt += 1;\n            }\n        }\n        if (!dayCnt) {\n            throw new Error('invalid hiddenDays'); // all days were hidden? bad.\n        }\n        this.isHiddenDayHash = isHiddenDayHash;\n    };\n    // Remove days from the beginning and end of the range that are computed as hidden.\n    // If the whole range is trimmed off, returns null\n    DateProfileGenerator.prototype.trimHiddenDays = function (range) {\n        var start = range.start, end = range.end;\n        if (start) {\n            start = this.skipHiddenDays(start);\n        }\n        if (end) {\n            end = this.skipHiddenDays(end, -1, true);\n        }\n        if (start == null || end == null || start < end) {\n            return { start: start, end: end };\n        }\n        return null;\n    };\n    // Is the current day hidden?\n    // `day` is a day-of-week index (0-6), or a Date (used for UTC)\n    DateProfileGenerator.prototype.isHiddenDay = function (day) {\n        if (day instanceof Date) {\n            day = day.getUTCDay();\n        }\n        return this.isHiddenDayHash[day];\n    };\n    // Incrementing the current day until it is no longer a hidden day, returning a copy.\n    // DOES NOT CONSIDER validRange!\n    // If the initial value of `date` is not a hidden day, don't do anything.\n    // Pass `isExclusive` as `true` if you are dealing with an end date.\n    // `inc` defaults to `1` (increment one day forward each time)\n    DateProfileGenerator.prototype.skipHiddenDays = function (date, inc, isExclusive) {\n        if (inc === void 0) { inc = 1; }\n        if (isExclusive === void 0) { isExclusive = false; }\n        while (this.isHiddenDayHash[(date.getUTCDay() + (isExclusive ? inc : 0) + 7) % 7]) {\n            date = addDays(date, inc);\n        }\n        return date;\n    };\n    return DateProfileGenerator;\n}());\n\nfunction reduceViewType(viewType, action) {\n    switch (action.type) {\n        case 'CHANGE_VIEW_TYPE':\n            viewType = action.viewType;\n    }\n    return viewType;\n}\n\nfunction reduceDynamicOptionOverrides(dynamicOptionOverrides, action) {\n    var _a;\n    switch (action.type) {\n        case 'SET_OPTION':\n            return __assign(__assign({}, dynamicOptionOverrides), (_a = {}, _a[action.optionName] = action.rawOptionValue, _a));\n        default:\n            return dynamicOptionOverrides;\n    }\n}\n\nfunction reduceDateProfile(currentDateProfile, action, currentDate, dateProfileGenerator) {\n    var dp;\n    switch (action.type) {\n        case 'CHANGE_VIEW_TYPE':\n            return dateProfileGenerator.build(action.dateMarker || currentDate);\n        case 'CHANGE_DATE':\n            if (!currentDateProfile.activeRange ||\n                !rangeContainsMarker(currentDateProfile.currentRange, action.dateMarker) // don't move if date already in view\n            ) {\n                return dateProfileGenerator.build(action.dateMarker);\n            }\n            break;\n        case 'PREV':\n            dp = dateProfileGenerator.buildPrev(currentDateProfile, currentDate);\n            if (dp.isValid) {\n                return dp;\n            }\n            break;\n        case 'NEXT':\n            dp = dateProfileGenerator.buildNext(currentDateProfile, currentDate);\n            if (dp.isValid) {\n                return dp;\n            }\n            break;\n    }\n    return currentDateProfile;\n}\n\nfunction initEventSources(calendarOptions, dateProfile, context) {\n    var activeRange = dateProfile ? dateProfile.activeRange : null;\n    return addSources({}, parseInitialSources(calendarOptions, context), activeRange, context);\n}\nfunction reduceEventSources(eventSources, action, dateProfile, context) {\n    var activeRange = dateProfile ? dateProfile.activeRange : null; // need this check?\n    switch (action.type) {\n        case 'ADD_EVENT_SOURCES': // already parsed\n            return addSources(eventSources, action.sources, activeRange, context);\n        case 'REMOVE_EVENT_SOURCE':\n            return removeSource(eventSources, action.sourceId);\n        case 'PREV': // TODO: how do we track all actions that affect dateProfile :(\n        case 'NEXT':\n        case 'CHANGE_DATE':\n        case 'CHANGE_VIEW_TYPE':\n            if (dateProfile) {\n                return fetchDirtySources(eventSources, activeRange, context);\n            }\n            return eventSources;\n        case 'FETCH_EVENT_SOURCES':\n            return fetchSourcesByIds(eventSources, action.sourceIds ? // why no type?\n                arrayToHash(action.sourceIds) :\n                excludeStaticSources(eventSources, context), activeRange, action.isRefetch || false, context);\n        case 'RECEIVE_EVENTS':\n        case 'RECEIVE_EVENT_ERROR':\n            return receiveResponse(eventSources, action.sourceId, action.fetchId, action.fetchRange);\n        case 'REMOVE_ALL_EVENT_SOURCES':\n            return {};\n        default:\n            return eventSources;\n    }\n}\nfunction reduceEventSourcesNewTimeZone(eventSources, dateProfile, context) {\n    var activeRange = dateProfile ? dateProfile.activeRange : null; // need this check?\n    return fetchSourcesByIds(eventSources, excludeStaticSources(eventSources, context), activeRange, true, context);\n}\nfunction computeEventSourcesLoading(eventSources) {\n    for (var sourceId in eventSources) {\n        if (eventSources[sourceId].isFetching) {\n            return true;\n        }\n    }\n    return false;\n}\nfunction addSources(eventSourceHash, sources, fetchRange, context) {\n    var hash = {};\n    for (var _i = 0, sources_1 = sources; _i < sources_1.length; _i++) {\n        var source = sources_1[_i];\n        hash[source.sourceId] = source;\n    }\n    if (fetchRange) {\n        hash = fetchDirtySources(hash, fetchRange, context);\n    }\n    return __assign(__assign({}, eventSourceHash), hash);\n}\nfunction removeSource(eventSourceHash, sourceId) {\n    return filterHash(eventSourceHash, function (eventSource) { return eventSource.sourceId !== sourceId; });\n}\nfunction fetchDirtySources(sourceHash, fetchRange, context) {\n    return fetchSourcesByIds(sourceHash, filterHash(sourceHash, function (eventSource) { return isSourceDirty(eventSource, fetchRange, context); }), fetchRange, false, context);\n}\nfunction isSourceDirty(eventSource, fetchRange, context) {\n    if (!doesSourceNeedRange(eventSource, context)) {\n        return !eventSource.latestFetchId;\n    }\n    return !context.options.lazyFetching ||\n        !eventSource.fetchRange ||\n        eventSource.isFetching || // always cancel outdated in-progress fetches\n        fetchRange.start < eventSource.fetchRange.start ||\n        fetchRange.end > eventSource.fetchRange.end;\n}\nfunction fetchSourcesByIds(prevSources, sourceIdHash, fetchRange, isRefetch, context) {\n    var nextSources = {};\n    for (var sourceId in prevSources) {\n        var source = prevSources[sourceId];\n        if (sourceIdHash[sourceId]) {\n            nextSources[sourceId] = fetchSource(source, fetchRange, isRefetch, context);\n        }\n        else {\n            nextSources[sourceId] = source;\n        }\n    }\n    return nextSources;\n}\nfunction fetchSource(eventSource, fetchRange, isRefetch, context) {\n    var options = context.options, calendarApi = context.calendarApi;\n    var sourceDef = context.pluginHooks.eventSourceDefs[eventSource.sourceDefId];\n    var fetchId = guid();\n    sourceDef.fetch({\n        eventSource: eventSource,\n        range: fetchRange,\n        isRefetch: isRefetch,\n        context: context,\n    }, function (res) {\n        var rawEvents = res.rawEvents;\n        if (options.eventSourceSuccess) {\n            rawEvents = options.eventSourceSuccess.call(calendarApi, rawEvents, res.xhr) || rawEvents;\n        }\n        if (eventSource.success) {\n            rawEvents = eventSource.success.call(calendarApi, rawEvents, res.xhr) || rawEvents;\n        }\n        context.dispatch({\n            type: 'RECEIVE_EVENTS',\n            sourceId: eventSource.sourceId,\n            fetchId: fetchId,\n            fetchRange: fetchRange,\n            rawEvents: rawEvents,\n        });\n    }, function (error) {\n        console.warn(error.message, error);\n        if (options.eventSourceFailure) {\n            options.eventSourceFailure.call(calendarApi, error);\n        }\n        if (eventSource.failure) {\n            eventSource.failure(error);\n        }\n        context.dispatch({\n            type: 'RECEIVE_EVENT_ERROR',\n            sourceId: eventSource.sourceId,\n            fetchId: fetchId,\n            fetchRange: fetchRange,\n            error: error,\n        });\n    });\n    return __assign(__assign({}, eventSource), { isFetching: true, latestFetchId: fetchId });\n}\nfunction receiveResponse(sourceHash, sourceId, fetchId, fetchRange) {\n    var _a;\n    var eventSource = sourceHash[sourceId];\n    if (eventSource && // not already removed\n        fetchId === eventSource.latestFetchId) {\n        return __assign(__assign({}, sourceHash), (_a = {}, _a[sourceId] = __assign(__assign({}, eventSource), { isFetching: false, fetchRange: fetchRange }), _a));\n    }\n    return sourceHash;\n}\nfunction excludeStaticSources(eventSources, context) {\n    return filterHash(eventSources, function (eventSource) { return doesSourceNeedRange(eventSource, context); });\n}\nfunction parseInitialSources(rawOptions, context) {\n    var refiners = buildEventSourceRefiners(context);\n    var rawSources = [].concat(rawOptions.eventSources || []);\n    var sources = []; // parsed\n    if (rawOptions.initialEvents) {\n        rawSources.unshift(rawOptions.initialEvents);\n    }\n    if (rawOptions.events) {\n        rawSources.unshift(rawOptions.events);\n    }\n    for (var _i = 0, rawSources_1 = rawSources; _i < rawSources_1.length; _i++) {\n        var rawSource = rawSources_1[_i];\n        var source = parseEventSource(rawSource, context, refiners);\n        if (source) {\n            sources.push(source);\n        }\n    }\n    return sources;\n}\nfunction doesSourceNeedRange(eventSource, context) {\n    var defs = context.pluginHooks.eventSourceDefs;\n    return !defs[eventSource.sourceDefId].ignoreRange;\n}\n\nfunction reduceEventStore(eventStore, action, eventSources, dateProfile, context) {\n    switch (action.type) {\n        case 'RECEIVE_EVENTS': // raw\n            return receiveRawEvents(eventStore, eventSources[action.sourceId], action.fetchId, action.fetchRange, action.rawEvents, context);\n        case 'ADD_EVENTS': // already parsed, but not expanded\n            return addEvent(eventStore, action.eventStore, // new ones\n            dateProfile ? dateProfile.activeRange : null, context);\n        case 'RESET_EVENTS':\n            return action.eventStore;\n        case 'MERGE_EVENTS': // already parsed and expanded\n            return mergeEventStores(eventStore, action.eventStore);\n        case 'PREV': // TODO: how do we track all actions that affect dateProfile :(\n        case 'NEXT':\n        case 'CHANGE_DATE':\n        case 'CHANGE_VIEW_TYPE':\n            if (dateProfile) {\n                return expandRecurring(eventStore, dateProfile.activeRange, context);\n            }\n            return eventStore;\n        case 'REMOVE_EVENTS':\n            return excludeSubEventStore(eventStore, action.eventStore);\n        case 'REMOVE_EVENT_SOURCE':\n            return excludeEventsBySourceId(eventStore, action.sourceId);\n        case 'REMOVE_ALL_EVENT_SOURCES':\n            return filterEventStoreDefs(eventStore, function (eventDef) { return (!eventDef.sourceId // only keep events with no source id\n            ); });\n        case 'REMOVE_ALL_EVENTS':\n            return createEmptyEventStore();\n        default:\n            return eventStore;\n    }\n}\nfunction receiveRawEvents(eventStore, eventSource, fetchId, fetchRange, rawEvents, context) {\n    if (eventSource && // not already removed\n        fetchId === eventSource.latestFetchId // TODO: wish this logic was always in event-sources\n    ) {\n        var subset = parseEvents(transformRawEvents(rawEvents, eventSource, context), eventSource, context);\n        if (fetchRange) {\n            subset = expandRecurring(subset, fetchRange, context);\n        }\n        return mergeEventStores(excludeEventsBySourceId(eventStore, eventSource.sourceId), subset);\n    }\n    return eventStore;\n}\nfunction transformRawEvents(rawEvents, eventSource, context) {\n    var calEachTransform = context.options.eventDataTransform;\n    var sourceEachTransform = eventSource ? eventSource.eventDataTransform : null;\n    if (sourceEachTransform) {\n        rawEvents = transformEachRawEvent(rawEvents, sourceEachTransform);\n    }\n    if (calEachTransform) {\n        rawEvents = transformEachRawEvent(rawEvents, calEachTransform);\n    }\n    return rawEvents;\n}\nfunction transformEachRawEvent(rawEvents, func) {\n    var refinedEvents;\n    if (!func) {\n        refinedEvents = rawEvents;\n    }\n    else {\n        refinedEvents = [];\n        for (var _i = 0, rawEvents_1 = rawEvents; _i < rawEvents_1.length; _i++) {\n            var rawEvent = rawEvents_1[_i];\n            var refinedEvent = func(rawEvent);\n            if (refinedEvent) {\n                refinedEvents.push(refinedEvent);\n            }\n            else if (refinedEvent == null) {\n                refinedEvents.push(rawEvent);\n            } // if a different falsy value, do nothing\n        }\n    }\n    return refinedEvents;\n}\nfunction addEvent(eventStore, subset, expandRange, context) {\n    if (expandRange) {\n        subset = expandRecurring(subset, expandRange, context);\n    }\n    return mergeEventStores(eventStore, subset);\n}\nfunction rezoneEventStoreDates(eventStore, oldDateEnv, newDateEnv) {\n    var defs = eventStore.defs;\n    var instances = mapHash(eventStore.instances, function (instance) {\n        var def = defs[instance.defId];\n        if (def.allDay || def.recurringDef) {\n            return instance; // isn't dependent on timezone\n        }\n        return __assign(__assign({}, instance), { range: {\n                start: newDateEnv.createMarker(oldDateEnv.toDate(instance.range.start, instance.forcedStartTzo)),\n                end: newDateEnv.createMarker(oldDateEnv.toDate(instance.range.end, instance.forcedEndTzo)),\n            }, forcedStartTzo: newDateEnv.canComputeOffset ? null : instance.forcedStartTzo, forcedEndTzo: newDateEnv.canComputeOffset ? null : instance.forcedEndTzo });\n    });\n    return { defs: defs, instances: instances };\n}\nfunction excludeEventsBySourceId(eventStore, sourceId) {\n    return filterEventStoreDefs(eventStore, function (eventDef) { return eventDef.sourceId !== sourceId; });\n}\n// QUESTION: why not just return instances? do a general object-property-exclusion util\nfunction excludeInstances(eventStore, removals) {\n    return {\n        defs: eventStore.defs,\n        instances: filterHash(eventStore.instances, function (instance) { return !removals[instance.instanceId]; }),\n    };\n}\n\nfunction reduceDateSelection(currentSelection, action) {\n    switch (action.type) {\n        case 'UNSELECT_DATES':\n            return null;\n        case 'SELECT_DATES':\n            return action.selection;\n        default:\n            return currentSelection;\n    }\n}\n\nfunction reduceSelectedEvent(currentInstanceId, action) {\n    switch (action.type) {\n        case 'UNSELECT_EVENT':\n            return '';\n        case 'SELECT_EVENT':\n            return action.eventInstanceId;\n        default:\n            return currentInstanceId;\n    }\n}\n\nfunction reduceEventDrag(currentDrag, action) {\n    var newDrag;\n    switch (action.type) {\n        case 'UNSET_EVENT_DRAG':\n            return null;\n        case 'SET_EVENT_DRAG':\n            newDrag = action.state;\n            return {\n                affectedEvents: newDrag.affectedEvents,\n                mutatedEvents: newDrag.mutatedEvents,\n                isEvent: newDrag.isEvent,\n            };\n        default:\n            return currentDrag;\n    }\n}\n\nfunction reduceEventResize(currentResize, action) {\n    var newResize;\n    switch (action.type) {\n        case 'UNSET_EVENT_RESIZE':\n            return null;\n        case 'SET_EVENT_RESIZE':\n            newResize = action.state;\n            return {\n                affectedEvents: newResize.affectedEvents,\n                mutatedEvents: newResize.mutatedEvents,\n                isEvent: newResize.isEvent,\n            };\n        default:\n            return currentResize;\n    }\n}\n\nfunction parseToolbars(calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi) {\n    var viewsWithButtons = [];\n    var headerToolbar = calendarOptions.headerToolbar ? parseToolbar(calendarOptions.headerToolbar, calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi, viewsWithButtons) : null;\n    var footerToolbar = calendarOptions.footerToolbar ? parseToolbar(calendarOptions.footerToolbar, calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi, viewsWithButtons) : null;\n    return { headerToolbar: headerToolbar, footerToolbar: footerToolbar, viewsWithButtons: viewsWithButtons };\n}\nfunction parseToolbar(sectionStrHash, calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi, viewsWithButtons) {\n    return mapHash(sectionStrHash, function (sectionStr) { return parseSection(sectionStr, calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi, viewsWithButtons); });\n}\n/*\nBAD: querying icons and text here. should be done at render time\n*/\nfunction parseSection(sectionStr, calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi, viewsWithButtons) {\n    var isRtl = calendarOptions.direction === 'rtl';\n    var calendarCustomButtons = calendarOptions.customButtons || {};\n    var calendarButtonTextOverrides = calendarOptionOverrides.buttonText || {};\n    var calendarButtonText = calendarOptions.buttonText || {};\n    var sectionSubstrs = sectionStr ? sectionStr.split(' ') : [];\n    return sectionSubstrs.map(function (buttonGroupStr) { return (buttonGroupStr.split(',').map(function (buttonName) {\n        if (buttonName === 'title') {\n            return { buttonName: buttonName };\n        }\n        var customButtonProps;\n        var viewSpec;\n        var buttonClick;\n        var buttonIcon; // only one of these will be set\n        var buttonText; // \"\n        if ((customButtonProps = calendarCustomButtons[buttonName])) {\n            buttonClick = function (ev) {\n                if (customButtonProps.click) {\n                    customButtonProps.click.call(ev.target, ev, ev.target); // TODO: use Calendar this context?\n                }\n            };\n            (buttonIcon = theme.getCustomButtonIconClass(customButtonProps)) ||\n                (buttonIcon = theme.getIconClass(buttonName, isRtl)) ||\n                (buttonText = customButtonProps.text);\n        }\n        else if ((viewSpec = viewSpecs[buttonName])) {\n            viewsWithButtons.push(buttonName);\n            buttonClick = function () {\n                calendarApi.changeView(buttonName);\n            };\n            (buttonText = viewSpec.buttonTextOverride) ||\n                (buttonIcon = theme.getIconClass(buttonName, isRtl)) ||\n                (buttonText = viewSpec.buttonTextDefault);\n        }\n        else if (calendarApi[buttonName]) { // a calendarApi method\n            buttonClick = function () {\n                calendarApi[buttonName]();\n            };\n            (buttonText = calendarButtonTextOverrides[buttonName]) ||\n                (buttonIcon = theme.getIconClass(buttonName, isRtl)) ||\n                (buttonText = calendarButtonText[buttonName]);\n            //            ^ everything else is considered default\n        }\n        return { buttonName: buttonName, buttonClick: buttonClick, buttonIcon: buttonIcon, buttonText: buttonText };\n    })); });\n}\n\nvar eventSourceDef$2 = {\n    ignoreRange: true,\n    parseMeta: function (refined) {\n        if (Array.isArray(refined.events)) {\n            return refined.events;\n        }\n        return null;\n    },\n    fetch: function (arg, success) {\n        success({\n            rawEvents: arg.eventSource.meta,\n        });\n    },\n};\nvar arrayEventSourcePlugin = createPlugin({\n    eventSourceDefs: [eventSourceDef$2],\n});\n\nvar eventSourceDef$1 = {\n    parseMeta: function (refined) {\n        if (typeof refined.events === 'function') {\n            return refined.events;\n        }\n        return null;\n    },\n    fetch: function (arg, success, failure) {\n        var dateEnv = arg.context.dateEnv;\n        var func = arg.eventSource.meta;\n        unpromisify(func.bind(null, buildRangeApiWithTimeZone(arg.range, dateEnv)), function (rawEvents) {\n            success({ rawEvents: rawEvents }); // needs an object response\n        }, failure);\n    },\n};\nvar funcEventSourcePlugin = createPlugin({\n    eventSourceDefs: [eventSourceDef$1],\n});\n\nfunction requestJson(method, url, params, successCallback, failureCallback) {\n    method = method.toUpperCase();\n    var body = null;\n    if (method === 'GET') {\n        url = injectQueryStringParams(url, params);\n    }\n    else {\n        body = encodeParams(params);\n    }\n    var xhr = new XMLHttpRequest();\n    xhr.open(method, url, true);\n    if (method !== 'GET') {\n        xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');\n    }\n    xhr.onload = function () {\n        if (xhr.status >= 200 && xhr.status < 400) {\n            var parsed = false;\n            var res = void 0;\n            try {\n                res = JSON.parse(xhr.responseText);\n                parsed = true;\n            }\n            catch (err) {\n                // will handle parsed=false\n            }\n            if (parsed) {\n                successCallback(res, xhr);\n            }\n            else {\n                failureCallback('Failure parsing JSON', xhr);\n            }\n        }\n        else {\n            failureCallback('Request failed', xhr);\n        }\n    };\n    xhr.onerror = function () {\n        failureCallback('Request failed', xhr);\n    };\n    xhr.send(body);\n}\nfunction injectQueryStringParams(url, params) {\n    return url +\n        (url.indexOf('?') === -1 ? '?' : '&') +\n        encodeParams(params);\n}\nfunction encodeParams(params) {\n    var parts = [];\n    for (var key in params) {\n        parts.push(encodeURIComponent(key) + \"=\" + encodeURIComponent(params[key]));\n    }\n    return parts.join('&');\n}\n\nvar JSON_FEED_EVENT_SOURCE_REFINERS = {\n    method: String,\n    extraParams: identity,\n    startParam: String,\n    endParam: String,\n    timeZoneParam: String,\n};\n\nvar eventSourceDef = {\n    parseMeta: function (refined) {\n        if (refined.url && (refined.format === 'json' || !refined.format)) {\n            return {\n                url: refined.url,\n                format: 'json',\n                method: (refined.method || 'GET').toUpperCase(),\n                extraParams: refined.extraParams,\n                startParam: refined.startParam,\n                endParam: refined.endParam,\n                timeZoneParam: refined.timeZoneParam,\n            };\n        }\n        return null;\n    },\n    fetch: function (arg, success, failure) {\n        var meta = arg.eventSource.meta;\n        var requestParams = buildRequestParams(meta, arg.range, arg.context);\n        requestJson(meta.method, meta.url, requestParams, function (rawEvents, xhr) {\n            success({ rawEvents: rawEvents, xhr: xhr });\n        }, function (errorMessage, xhr) {\n            failure({ message: errorMessage, xhr: xhr });\n        });\n    },\n};\nvar jsonFeedEventSourcePlugin = createPlugin({\n    eventSourceRefiners: JSON_FEED_EVENT_SOURCE_REFINERS,\n    eventSourceDefs: [eventSourceDef],\n});\nfunction buildRequestParams(meta, range, context) {\n    var dateEnv = context.dateEnv, options = context.options;\n    var startParam;\n    var endParam;\n    var timeZoneParam;\n    var customRequestParams;\n    var params = {};\n    startParam = meta.startParam;\n    if (startParam == null) {\n        startParam = options.startParam;\n    }\n    endParam = meta.endParam;\n    if (endParam == null) {\n        endParam = options.endParam;\n    }\n    timeZoneParam = meta.timeZoneParam;\n    if (timeZoneParam == null) {\n        timeZoneParam = options.timeZoneParam;\n    }\n    // retrieve any outbound GET/POST data from the options\n    if (typeof meta.extraParams === 'function') {\n        // supplied as a function that returns a key/value object\n        customRequestParams = meta.extraParams();\n    }\n    else {\n        // probably supplied as a straight key/value object\n        customRequestParams = meta.extraParams || {};\n    }\n    __assign(params, customRequestParams);\n    params[startParam] = dateEnv.formatIso(range.start);\n    params[endParam] = dateEnv.formatIso(range.end);\n    if (dateEnv.timeZone !== 'local') {\n        params[timeZoneParam] = dateEnv.timeZone;\n    }\n    return params;\n}\n\nvar SIMPLE_RECURRING_REFINERS = {\n    daysOfWeek: identity,\n    startTime: createDuration,\n    endTime: createDuration,\n    duration: createDuration,\n    startRecur: identity,\n    endRecur: identity,\n};\n\nvar recurring = {\n    parse: function (refined, dateEnv) {\n        if (refined.daysOfWeek || refined.startTime || refined.endTime || refined.startRecur || refined.endRecur) {\n            var recurringData = {\n                daysOfWeek: refined.daysOfWeek || null,\n                startTime: refined.startTime || null,\n                endTime: refined.endTime || null,\n                startRecur: refined.startRecur ? dateEnv.createMarker(refined.startRecur) : null,\n                endRecur: refined.endRecur ? dateEnv.createMarker(refined.endRecur) : null,\n            };\n            var duration = void 0;\n            if (refined.duration) {\n                duration = refined.duration;\n            }\n            if (!duration && refined.startTime && refined.endTime) {\n                duration = subtractDurations(refined.endTime, refined.startTime);\n            }\n            return {\n                allDayGuess: Boolean(!refined.startTime && !refined.endTime),\n                duration: duration,\n                typeData: recurringData, // doesn't need endTime anymore but oh well\n            };\n        }\n        return null;\n    },\n    expand: function (typeData, framingRange, dateEnv) {\n        var clippedFramingRange = intersectRanges(framingRange, { start: typeData.startRecur, end: typeData.endRecur });\n        if (clippedFramingRange) {\n            return expandRanges(typeData.daysOfWeek, typeData.startTime, clippedFramingRange, dateEnv);\n        }\n        return [];\n    },\n};\nvar simpleRecurringEventsPlugin = createPlugin({\n    recurringTypes: [recurring],\n    eventRefiners: SIMPLE_RECURRING_REFINERS,\n});\nfunction expandRanges(daysOfWeek, startTime, framingRange, dateEnv) {\n    var dowHash = daysOfWeek ? arrayToHash(daysOfWeek) : null;\n    var dayMarker = startOfDay(framingRange.start);\n    var endMarker = framingRange.end;\n    var instanceStarts = [];\n    while (dayMarker < endMarker) {\n        var instanceStart \n        // if everyday, or this particular day-of-week\n        = void 0;\n        // if everyday, or this particular day-of-week\n        if (!dowHash || dowHash[dayMarker.getUTCDay()]) {\n            if (startTime) {\n                instanceStart = dateEnv.add(dayMarker, startTime);\n            }\n            else {\n                instanceStart = dayMarker;\n            }\n            instanceStarts.push(instanceStart);\n        }\n        dayMarker = addDays(dayMarker, 1);\n    }\n    return instanceStarts;\n}\n\nvar changeHandlerPlugin = createPlugin({\n    optionChangeHandlers: {\n        events: function (events, context) {\n            handleEventSources([events], context);\n        },\n        eventSources: handleEventSources,\n    },\n});\n/*\nBUG: if `event` was supplied, all previously-given `eventSources` will be wiped out\n*/\nfunction handleEventSources(inputs, context) {\n    var unfoundSources = hashValuesToArray(context.getCurrentData().eventSources);\n    var newInputs = [];\n    for (var _i = 0, inputs_1 = inputs; _i < inputs_1.length; _i++) {\n        var input = inputs_1[_i];\n        var inputFound = false;\n        for (var i = 0; i < unfoundSources.length; i += 1) {\n            if (unfoundSources[i]._raw === input) {\n                unfoundSources.splice(i, 1); // delete\n                inputFound = true;\n                break;\n            }\n        }\n        if (!inputFound) {\n            newInputs.push(input);\n        }\n    }\n    for (var _a = 0, unfoundSources_1 = unfoundSources; _a < unfoundSources_1.length; _a++) {\n        var unfoundSource = unfoundSources_1[_a];\n        context.dispatch({\n            type: 'REMOVE_EVENT_SOURCE',\n            sourceId: unfoundSource.sourceId,\n        });\n    }\n    for (var _b = 0, newInputs_1 = newInputs; _b < newInputs_1.length; _b++) {\n        var newInput = newInputs_1[_b];\n        context.calendarApi.addEventSource(newInput);\n    }\n}\n\nfunction handleDateProfile(dateProfile, context) {\n    context.emitter.trigger('datesSet', __assign(__assign({}, buildRangeApiWithTimeZone(dateProfile.activeRange, context.dateEnv)), { view: context.viewApi }));\n}\n\nfunction handleEventStore(eventStore, context) {\n    var emitter = context.emitter;\n    if (emitter.hasHandlers('eventsSet')) {\n        emitter.trigger('eventsSet', buildEventApis(eventStore, context));\n    }\n}\n\n/*\nthis array is exposed on the root namespace so that UMD plugins can add to it.\nsee the rollup-bundles script.\n*/\nvar globalPlugins = [\n    arrayEventSourcePlugin,\n    funcEventSourcePlugin,\n    jsonFeedEventSourcePlugin,\n    simpleRecurringEventsPlugin,\n    changeHandlerPlugin,\n    createPlugin({\n        isLoadingFuncs: [\n            function (state) { return computeEventSourcesLoading(state.eventSources); },\n        ],\n        contentTypeHandlers: {\n            html: function () { return ({ render: injectHtml }); },\n            domNodes: function () { return ({ render: injectDomNodes }); },\n        },\n        propSetHandlers: {\n            dateProfile: handleDateProfile,\n            eventStore: handleEventStore,\n        },\n    }),\n];\nfunction injectHtml(el, html) {\n    el.innerHTML = html;\n}\nfunction injectDomNodes(el, domNodes) {\n    var oldNodes = Array.prototype.slice.call(el.childNodes); // TODO: use array util\n    var newNodes = Array.prototype.slice.call(domNodes); // TODO: use array util\n    if (!isArraysEqual(oldNodes, newNodes)) {\n        for (var _i = 0, newNodes_1 = newNodes; _i < newNodes_1.length; _i++) {\n            var newNode = newNodes_1[_i];\n            el.appendChild(newNode);\n        }\n        oldNodes.forEach(removeElement);\n    }\n}\n\nvar DelayedRunner = /** @class */ (function () {\n    function DelayedRunner(drainedOption) {\n        this.drainedOption = drainedOption;\n        this.isRunning = false;\n        this.isDirty = false;\n        this.pauseDepths = {};\n        this.timeoutId = 0;\n    }\n    DelayedRunner.prototype.request = function (delay) {\n        this.isDirty = true;\n        if (!this.isPaused()) {\n            this.clearTimeout();\n            if (delay == null) {\n                this.tryDrain();\n            }\n            else {\n                this.timeoutId = setTimeout(// NOT OPTIMAL! TODO: look at debounce\n                this.tryDrain.bind(this), delay);\n            }\n        }\n    };\n    DelayedRunner.prototype.pause = function (scope) {\n        if (scope === void 0) { scope = ''; }\n        var pauseDepths = this.pauseDepths;\n        pauseDepths[scope] = (pauseDepths[scope] || 0) + 1;\n        this.clearTimeout();\n    };\n    DelayedRunner.prototype.resume = function (scope, force) {\n        if (scope === void 0) { scope = ''; }\n        var pauseDepths = this.pauseDepths;\n        if (scope in pauseDepths) {\n            if (force) {\n                delete pauseDepths[scope];\n            }\n            else {\n                pauseDepths[scope] -= 1;\n                var depth = pauseDepths[scope];\n                if (depth <= 0) {\n                    delete pauseDepths[scope];\n                }\n            }\n            this.tryDrain();\n        }\n    };\n    DelayedRunner.prototype.isPaused = function () {\n        return Object.keys(this.pauseDepths).length;\n    };\n    DelayedRunner.prototype.tryDrain = function () {\n        if (!this.isRunning && !this.isPaused()) {\n            this.isRunning = true;\n            while (this.isDirty) {\n                this.isDirty = false;\n                this.drained(); // might set isDirty to true again\n            }\n            this.isRunning = false;\n        }\n    };\n    DelayedRunner.prototype.clear = function () {\n        this.clearTimeout();\n        this.isDirty = false;\n        this.pauseDepths = {};\n    };\n    DelayedRunner.prototype.clearTimeout = function () {\n        if (this.timeoutId) {\n            clearTimeout(this.timeoutId);\n            this.timeoutId = 0;\n        }\n    };\n    DelayedRunner.prototype.drained = function () {\n        if (this.drainedOption) {\n            this.drainedOption();\n        }\n    };\n    return DelayedRunner;\n}());\n\nvar TaskRunner = /** @class */ (function () {\n    function TaskRunner(runTaskOption, drainedOption) {\n        this.runTaskOption = runTaskOption;\n        this.drainedOption = drainedOption;\n        this.queue = [];\n        this.delayedRunner = new DelayedRunner(this.drain.bind(this));\n    }\n    TaskRunner.prototype.request = function (task, delay) {\n        this.queue.push(task);\n        this.delayedRunner.request(delay);\n    };\n    TaskRunner.prototype.pause = function (scope) {\n        this.delayedRunner.pause(scope);\n    };\n    TaskRunner.prototype.resume = function (scope, force) {\n        this.delayedRunner.resume(scope, force);\n    };\n    TaskRunner.prototype.drain = function () {\n        var queue = this.queue;\n        while (queue.length) {\n            var completedTasks = [];\n            var task = void 0;\n            while ((task = queue.shift())) {\n                this.runTask(task);\n                completedTasks.push(task);\n            }\n            this.drained(completedTasks);\n        } // keep going, in case new tasks were added in the drained handler\n    };\n    TaskRunner.prototype.runTask = function (task) {\n        if (this.runTaskOption) {\n            this.runTaskOption(task);\n        }\n    };\n    TaskRunner.prototype.drained = function (completedTasks) {\n        if (this.drainedOption) {\n            this.drainedOption(completedTasks);\n        }\n    };\n    return TaskRunner;\n}());\n\n// Computes what the title at the top of the calendarApi should be for this view\nfunction buildTitle(dateProfile, viewOptions, dateEnv) {\n    var range;\n    // for views that span a large unit of time, show the proper interval, ignoring stray days before and after\n    if (/^(year|month)$/.test(dateProfile.currentRangeUnit)) {\n        range = dateProfile.currentRange;\n    }\n    else { // for day units or smaller, use the actual day range\n        range = dateProfile.activeRange;\n    }\n    return dateEnv.formatRange(range.start, range.end, createFormatter(viewOptions.titleFormat || buildTitleFormat(dateProfile)), {\n        isEndExclusive: dateProfile.isRangeAllDay,\n        defaultSeparator: viewOptions.titleRangeSeparator,\n    });\n}\n// Generates the format string that should be used to generate the title for the current date range.\n// Attempts to compute the most appropriate format if not explicitly specified with `titleFormat`.\nfunction buildTitleFormat(dateProfile) {\n    var currentRangeUnit = dateProfile.currentRangeUnit;\n    if (currentRangeUnit === 'year') {\n        return { year: 'numeric' };\n    }\n    if (currentRangeUnit === 'month') {\n        return { year: 'numeric', month: 'long' }; // like \"September 2014\"\n    }\n    var days = diffWholeDays(dateProfile.currentRange.start, dateProfile.currentRange.end);\n    if (days !== null && days > 1) {\n        // multi-day range. shorter, like \"Sep 9 - 10 2014\"\n        return { year: 'numeric', month: 'short', day: 'numeric' };\n    }\n    // one day. longer, like \"September 9 2014\"\n    return { year: 'numeric', month: 'long', day: 'numeric' };\n}\n\n// in future refactor, do the redux-style function(state=initial) for initial-state\n// also, whatever is happening in constructor, have it happen in action queue too\nvar CalendarDataManager = /** @class */ (function () {\n    function CalendarDataManager(props) {\n        var _this = this;\n        this.computeOptionsData = memoize(this._computeOptionsData);\n        this.computeCurrentViewData = memoize(this._computeCurrentViewData);\n        this.organizeRawLocales = memoize(organizeRawLocales);\n        this.buildLocale = memoize(buildLocale);\n        this.buildPluginHooks = buildBuildPluginHooks();\n        this.buildDateEnv = memoize(buildDateEnv);\n        this.buildTheme = memoize(buildTheme);\n        this.parseToolbars = memoize(parseToolbars);\n        this.buildViewSpecs = memoize(buildViewSpecs);\n        this.buildDateProfileGenerator = memoizeObjArg(buildDateProfileGenerator);\n        this.buildViewApi = memoize(buildViewApi);\n        this.buildViewUiProps = memoizeObjArg(buildViewUiProps);\n        this.buildEventUiBySource = memoize(buildEventUiBySource, isPropsEqual);\n        this.buildEventUiBases = memoize(buildEventUiBases);\n        this.parseContextBusinessHours = memoizeObjArg(parseContextBusinessHours);\n        this.buildTitle = memoize(buildTitle);\n        this.emitter = new Emitter();\n        this.actionRunner = new TaskRunner(this._handleAction.bind(this), this.updateData.bind(this));\n        this.currentCalendarOptionsInput = {};\n        this.currentCalendarOptionsRefined = {};\n        this.currentViewOptionsInput = {};\n        this.currentViewOptionsRefined = {};\n        this.currentCalendarOptionsRefiners = {};\n        this.getCurrentData = function () { return _this.data; };\n        this.dispatch = function (action) {\n            _this.actionRunner.request(action); // protects against recursive calls to _handleAction\n        };\n        this.props = props;\n        this.actionRunner.pause();\n        var dynamicOptionOverrides = {};\n        var optionsData = this.computeOptionsData(props.optionOverrides, dynamicOptionOverrides, props.calendarApi);\n        var currentViewType = optionsData.calendarOptions.initialView || optionsData.pluginHooks.initialView;\n        var currentViewData = this.computeCurrentViewData(currentViewType, optionsData, props.optionOverrides, dynamicOptionOverrides);\n        // wire things up\n        // TODO: not DRY\n        props.calendarApi.currentDataManager = this;\n        this.emitter.setThisContext(props.calendarApi);\n        this.emitter.setOptions(currentViewData.options);\n        var currentDate = getInitialDate(optionsData.calendarOptions, optionsData.dateEnv);\n        var dateProfile = currentViewData.dateProfileGenerator.build(currentDate);\n        if (!rangeContainsMarker(dateProfile.activeRange, currentDate)) {\n            currentDate = dateProfile.currentRange.start;\n        }\n        var calendarContext = {\n            dateEnv: optionsData.dateEnv,\n            options: optionsData.calendarOptions,\n            pluginHooks: optionsData.pluginHooks,\n            calendarApi: props.calendarApi,\n            dispatch: this.dispatch,\n            emitter: this.emitter,\n            getCurrentData: this.getCurrentData,\n        };\n        // needs to be after setThisContext\n        for (var _i = 0, _a = optionsData.pluginHooks.contextInit; _i < _a.length; _i++) {\n            var callback = _a[_i];\n            callback(calendarContext);\n        }\n        // NOT DRY\n        var eventSources = initEventSources(optionsData.calendarOptions, dateProfile, calendarContext);\n        var initialState = {\n            dynamicOptionOverrides: dynamicOptionOverrides,\n            currentViewType: currentViewType,\n            currentDate: currentDate,\n            dateProfile: dateProfile,\n            businessHours: this.parseContextBusinessHours(calendarContext),\n            eventSources: eventSources,\n            eventUiBases: {},\n            eventStore: createEmptyEventStore(),\n            renderableEventStore: createEmptyEventStore(),\n            dateSelection: null,\n            eventSelection: '',\n            eventDrag: null,\n            eventResize: null,\n            selectionConfig: this.buildViewUiProps(calendarContext).selectionConfig,\n        };\n        var contextAndState = __assign(__assign({}, calendarContext), initialState);\n        for (var _b = 0, _c = optionsData.pluginHooks.reducers; _b < _c.length; _b++) {\n            var reducer = _c[_b];\n            __assign(initialState, reducer(null, null, contextAndState));\n        }\n        if (computeIsLoading(initialState, calendarContext)) {\n            this.emitter.trigger('loading', true); // NOT DRY\n        }\n        this.state = initialState;\n        this.updateData();\n        this.actionRunner.resume();\n    }\n    CalendarDataManager.prototype.resetOptions = function (optionOverrides, append) {\n        var props = this.props;\n        props.optionOverrides = append\n            ? __assign(__assign({}, props.optionOverrides), optionOverrides) : optionOverrides;\n        this.actionRunner.request({\n            type: 'NOTHING',\n        });\n    };\n    CalendarDataManager.prototype._handleAction = function (action) {\n        var _a = this, props = _a.props, state = _a.state, emitter = _a.emitter;\n        var dynamicOptionOverrides = reduceDynamicOptionOverrides(state.dynamicOptionOverrides, action);\n        var optionsData = this.computeOptionsData(props.optionOverrides, dynamicOptionOverrides, props.calendarApi);\n        var currentViewType = reduceViewType(state.currentViewType, action);\n        var currentViewData = this.computeCurrentViewData(currentViewType, optionsData, props.optionOverrides, dynamicOptionOverrides);\n        // wire things up\n        // TODO: not DRY\n        props.calendarApi.currentDataManager = this;\n        emitter.setThisContext(props.calendarApi);\n        emitter.setOptions(currentViewData.options);\n        var calendarContext = {\n            dateEnv: optionsData.dateEnv,\n            options: optionsData.calendarOptions,\n            pluginHooks: optionsData.pluginHooks,\n            calendarApi: props.calendarApi,\n            dispatch: this.dispatch,\n            emitter: emitter,\n            getCurrentData: this.getCurrentData,\n        };\n        var currentDate = state.currentDate, dateProfile = state.dateProfile;\n        if (this.data && this.data.dateProfileGenerator !== currentViewData.dateProfileGenerator) { // hack\n            dateProfile = currentViewData.dateProfileGenerator.build(currentDate);\n        }\n        currentDate = reduceCurrentDate(currentDate, action);\n        dateProfile = reduceDateProfile(dateProfile, action, currentDate, currentViewData.dateProfileGenerator);\n        if (!rangeContainsMarker(dateProfile.currentRange, currentDate)) {\n            currentDate = dateProfile.currentRange.start;\n        }\n        var eventSources = reduceEventSources(state.eventSources, action, dateProfile, calendarContext);\n        var eventStore = reduceEventStore(state.eventStore, action, eventSources, dateProfile, calendarContext);\n        var isEventsLoading = computeEventSourcesLoading(eventSources); // BAD. also called in this func in computeIsLoading\n        var renderableEventStore = (isEventsLoading && !currentViewData.options.progressiveEventRendering) ?\n            (state.renderableEventStore || eventStore) : // try from previous state\n            eventStore;\n        var _b = this.buildViewUiProps(calendarContext), eventUiSingleBase = _b.eventUiSingleBase, selectionConfig = _b.selectionConfig; // will memoize obj\n        var eventUiBySource = this.buildEventUiBySource(eventSources);\n        var eventUiBases = this.buildEventUiBases(renderableEventStore.defs, eventUiSingleBase, eventUiBySource);\n        var newState = {\n            dynamicOptionOverrides: dynamicOptionOverrides,\n            currentViewType: currentViewType,\n            currentDate: currentDate,\n            dateProfile: dateProfile,\n            eventSources: eventSources,\n            eventStore: eventStore,\n            renderableEventStore: renderableEventStore,\n            selectionConfig: selectionConfig,\n            eventUiBases: eventUiBases,\n            businessHours: this.parseContextBusinessHours(calendarContext),\n            dateSelection: reduceDateSelection(state.dateSelection, action),\n            eventSelection: reduceSelectedEvent(state.eventSelection, action),\n            eventDrag: reduceEventDrag(state.eventDrag, action),\n            eventResize: reduceEventResize(state.eventResize, action),\n        };\n        var contextAndState = __assign(__assign({}, calendarContext), newState);\n        for (var _i = 0, _c = optionsData.pluginHooks.reducers; _i < _c.length; _i++) {\n            var reducer = _c[_i];\n            __assign(newState, reducer(state, action, contextAndState)); // give the OLD state, for old value\n        }\n        var wasLoading = computeIsLoading(state, calendarContext);\n        var isLoading = computeIsLoading(newState, calendarContext);\n        // TODO: use propSetHandlers in plugin system\n        if (!wasLoading && isLoading) {\n            emitter.trigger('loading', true);\n        }\n        else if (wasLoading && !isLoading) {\n            emitter.trigger('loading', false);\n        }\n        this.state = newState;\n        if (props.onAction) {\n            props.onAction(action);\n        }\n    };\n    CalendarDataManager.prototype.updateData = function () {\n        var _a = this, props = _a.props, state = _a.state;\n        var oldData = this.data;\n        var optionsData = this.computeOptionsData(props.optionOverrides, state.dynamicOptionOverrides, props.calendarApi);\n        var currentViewData = this.computeCurrentViewData(state.currentViewType, optionsData, props.optionOverrides, state.dynamicOptionOverrides);\n        var data = this.data = __assign(__assign(__assign({ viewTitle: this.buildTitle(state.dateProfile, currentViewData.options, optionsData.dateEnv), calendarApi: props.calendarApi, dispatch: this.dispatch, emitter: this.emitter, getCurrentData: this.getCurrentData }, optionsData), currentViewData), state);\n        var changeHandlers = optionsData.pluginHooks.optionChangeHandlers;\n        var oldCalendarOptions = oldData && oldData.calendarOptions;\n        var newCalendarOptions = optionsData.calendarOptions;\n        if (oldCalendarOptions && oldCalendarOptions !== newCalendarOptions) {\n            if (oldCalendarOptions.timeZone !== newCalendarOptions.timeZone) {\n                // hack\n                state.eventSources = data.eventSources = reduceEventSourcesNewTimeZone(data.eventSources, state.dateProfile, data);\n                state.eventStore = data.eventStore = rezoneEventStoreDates(data.eventStore, oldData.dateEnv, data.dateEnv);\n            }\n            for (var optionName in changeHandlers) {\n                if (oldCalendarOptions[optionName] !== newCalendarOptions[optionName]) {\n                    changeHandlers[optionName](newCalendarOptions[optionName], data);\n                }\n            }\n        }\n        if (props.onData) {\n            props.onData(data);\n        }\n    };\n    CalendarDataManager.prototype._computeOptionsData = function (optionOverrides, dynamicOptionOverrides, calendarApi) {\n        // TODO: blacklist options that are handled by optionChangeHandlers\n        var _a = this.processRawCalendarOptions(optionOverrides, dynamicOptionOverrides), refinedOptions = _a.refinedOptions, pluginHooks = _a.pluginHooks, localeDefaults = _a.localeDefaults, availableLocaleData = _a.availableLocaleData, extra = _a.extra;\n        warnUnknownOptions(extra);\n        var dateEnv = this.buildDateEnv(refinedOptions.timeZone, refinedOptions.locale, refinedOptions.weekNumberCalculation, refinedOptions.firstDay, refinedOptions.weekText, pluginHooks, availableLocaleData, refinedOptions.defaultRangeSeparator);\n        var viewSpecs = this.buildViewSpecs(pluginHooks.views, optionOverrides, dynamicOptionOverrides, localeDefaults);\n        var theme = this.buildTheme(refinedOptions, pluginHooks);\n        var toolbarConfig = this.parseToolbars(refinedOptions, optionOverrides, theme, viewSpecs, calendarApi);\n        return {\n            calendarOptions: refinedOptions,\n            pluginHooks: pluginHooks,\n            dateEnv: dateEnv,\n            viewSpecs: viewSpecs,\n            theme: theme,\n            toolbarConfig: toolbarConfig,\n            localeDefaults: localeDefaults,\n            availableRawLocales: availableLocaleData.map,\n        };\n    };\n    // always called from behind a memoizer\n    CalendarDataManager.prototype.processRawCalendarOptions = function (optionOverrides, dynamicOptionOverrides) {\n        var _a = mergeRawOptions([\n            BASE_OPTION_DEFAULTS,\n            optionOverrides,\n            dynamicOptionOverrides,\n        ]), locales = _a.locales, locale = _a.locale;\n        var availableLocaleData = this.organizeRawLocales(locales);\n        var availableRawLocales = availableLocaleData.map;\n        var localeDefaults = this.buildLocale(locale || availableLocaleData.defaultCode, availableRawLocales).options;\n        var pluginHooks = this.buildPluginHooks(optionOverrides.plugins || [], globalPlugins);\n        var refiners = this.currentCalendarOptionsRefiners = __assign(__assign(__assign(__assign(__assign({}, BASE_OPTION_REFINERS), CALENDAR_LISTENER_REFINERS), CALENDAR_OPTION_REFINERS), pluginHooks.listenerRefiners), pluginHooks.optionRefiners);\n        var extra = {};\n        var raw = mergeRawOptions([\n            BASE_OPTION_DEFAULTS,\n            localeDefaults,\n            optionOverrides,\n            dynamicOptionOverrides,\n        ]);\n        var refined = {};\n        var currentRaw = this.currentCalendarOptionsInput;\n        var currentRefined = this.currentCalendarOptionsRefined;\n        var anyChanges = false;\n        for (var optionName in raw) {\n            if (optionName !== 'plugins') { // because plugins is special-cased\n                if (raw[optionName] === currentRaw[optionName] ||\n                    (COMPLEX_OPTION_COMPARATORS[optionName] &&\n                        (optionName in currentRaw) &&\n                        COMPLEX_OPTION_COMPARATORS[optionName](currentRaw[optionName], raw[optionName]))) {\n                    refined[optionName] = currentRefined[optionName];\n                }\n                else if (refiners[optionName]) {\n                    refined[optionName] = refiners[optionName](raw[optionName]);\n                    anyChanges = true;\n                }\n                else {\n                    extra[optionName] = currentRaw[optionName];\n                }\n            }\n        }\n        if (anyChanges) {\n            this.currentCalendarOptionsInput = raw;\n            this.currentCalendarOptionsRefined = refined;\n        }\n        return {\n            rawOptions: this.currentCalendarOptionsInput,\n            refinedOptions: this.currentCalendarOptionsRefined,\n            pluginHooks: pluginHooks,\n            availableLocaleData: availableLocaleData,\n            localeDefaults: localeDefaults,\n            extra: extra,\n        };\n    };\n    CalendarDataManager.prototype._computeCurrentViewData = function (viewType, optionsData, optionOverrides, dynamicOptionOverrides) {\n        var viewSpec = optionsData.viewSpecs[viewType];\n        if (!viewSpec) {\n            throw new Error(\"viewType \\\"\" + viewType + \"\\\" is not available. Please make sure you've loaded all neccessary plugins\");\n        }\n        var _a = this.processRawViewOptions(viewSpec, optionsData.pluginHooks, optionsData.localeDefaults, optionOverrides, dynamicOptionOverrides), refinedOptions = _a.refinedOptions, extra = _a.extra;\n        warnUnknownOptions(extra);\n        var dateProfileGenerator = this.buildDateProfileGenerator({\n            dateProfileGeneratorClass: viewSpec.optionDefaults.dateProfileGeneratorClass,\n            duration: viewSpec.duration,\n            durationUnit: viewSpec.durationUnit,\n            usesMinMaxTime: viewSpec.optionDefaults.usesMinMaxTime,\n            dateEnv: optionsData.dateEnv,\n            calendarApi: this.props.calendarApi,\n            slotMinTime: refinedOptions.slotMinTime,\n            slotMaxTime: refinedOptions.slotMaxTime,\n            showNonCurrentDates: refinedOptions.showNonCurrentDates,\n            dayCount: refinedOptions.dayCount,\n            dateAlignment: refinedOptions.dateAlignment,\n            dateIncrement: refinedOptions.dateIncrement,\n            hiddenDays: refinedOptions.hiddenDays,\n            weekends: refinedOptions.weekends,\n            nowInput: refinedOptions.now,\n            validRangeInput: refinedOptions.validRange,\n            visibleRangeInput: refinedOptions.visibleRange,\n            monthMode: refinedOptions.monthMode,\n            fixedWeekCount: refinedOptions.fixedWeekCount,\n        });\n        var viewApi = this.buildViewApi(viewType, this.getCurrentData, optionsData.dateEnv);\n        return { viewSpec: viewSpec, options: refinedOptions, dateProfileGenerator: dateProfileGenerator, viewApi: viewApi };\n    };\n    CalendarDataManager.prototype.processRawViewOptions = function (viewSpec, pluginHooks, localeDefaults, optionOverrides, dynamicOptionOverrides) {\n        var raw = mergeRawOptions([\n            BASE_OPTION_DEFAULTS,\n            viewSpec.optionDefaults,\n            localeDefaults,\n            optionOverrides,\n            viewSpec.optionOverrides,\n            dynamicOptionOverrides,\n        ]);\n        var refiners = __assign(__assign(__assign(__assign(__assign(__assign({}, BASE_OPTION_REFINERS), CALENDAR_LISTENER_REFINERS), CALENDAR_OPTION_REFINERS), VIEW_OPTION_REFINERS), pluginHooks.listenerRefiners), pluginHooks.optionRefiners);\n        var refined = {};\n        var currentRaw = this.currentViewOptionsInput;\n        var currentRefined = this.currentViewOptionsRefined;\n        var anyChanges = false;\n        var extra = {};\n        for (var optionName in raw) {\n            if (raw[optionName] === currentRaw[optionName]) {\n                refined[optionName] = currentRefined[optionName];\n            }\n            else {\n                if (raw[optionName] === this.currentCalendarOptionsInput[optionName]) {\n                    if (optionName in this.currentCalendarOptionsRefined) { // might be an \"extra\" prop\n                        refined[optionName] = this.currentCalendarOptionsRefined[optionName];\n                    }\n                }\n                else if (refiners[optionName]) {\n                    refined[optionName] = refiners[optionName](raw[optionName]);\n                }\n                else {\n                    extra[optionName] = raw[optionName];\n                }\n                anyChanges = true;\n            }\n        }\n        if (anyChanges) {\n            this.currentViewOptionsInput = raw;\n            this.currentViewOptionsRefined = refined;\n        }\n        return {\n            rawOptions: this.currentViewOptionsInput,\n            refinedOptions: this.currentViewOptionsRefined,\n            extra: extra,\n        };\n    };\n    return CalendarDataManager;\n}());\nfunction buildDateEnv(timeZone, explicitLocale, weekNumberCalculation, firstDay, weekText, pluginHooks, availableLocaleData, defaultSeparator) {\n    var locale = buildLocale(explicitLocale || availableLocaleData.defaultCode, availableLocaleData.map);\n    return new DateEnv({\n        calendarSystem: 'gregory',\n        timeZone: timeZone,\n        namedTimeZoneImpl: pluginHooks.namedTimeZonedImpl,\n        locale: locale,\n        weekNumberCalculation: weekNumberCalculation,\n        firstDay: firstDay,\n        weekText: weekText,\n        cmdFormatter: pluginHooks.cmdFormatter,\n        defaultSeparator: defaultSeparator,\n    });\n}\nfunction buildTheme(options, pluginHooks) {\n    var ThemeClass = pluginHooks.themeClasses[options.themeSystem] || StandardTheme;\n    return new ThemeClass(options);\n}\nfunction buildDateProfileGenerator(props) {\n    var DateProfileGeneratorClass = props.dateProfileGeneratorClass || DateProfileGenerator;\n    return new DateProfileGeneratorClass(props);\n}\nfunction buildViewApi(type, getCurrentData, dateEnv) {\n    return new ViewApi(type, getCurrentData, dateEnv);\n}\nfunction buildEventUiBySource(eventSources) {\n    return mapHash(eventSources, function (eventSource) { return eventSource.ui; });\n}\nfunction buildEventUiBases(eventDefs, eventUiSingleBase, eventUiBySource) {\n    var eventUiBases = { '': eventUiSingleBase };\n    for (var defId in eventDefs) {\n        var def = eventDefs[defId];\n        if (def.sourceId && eventUiBySource[def.sourceId]) {\n            eventUiBases[defId] = eventUiBySource[def.sourceId];\n        }\n    }\n    return eventUiBases;\n}\nfunction buildViewUiProps(calendarContext) {\n    var options = calendarContext.options;\n    return {\n        eventUiSingleBase: createEventUi({\n            display: options.eventDisplay,\n            editable: options.editable,\n            startEditable: options.eventStartEditable,\n            durationEditable: options.eventDurationEditable,\n            constraint: options.eventConstraint,\n            overlap: typeof options.eventOverlap === 'boolean' ? options.eventOverlap : undefined,\n            allow: options.eventAllow,\n            backgroundColor: options.eventBackgroundColor,\n            borderColor: options.eventBorderColor,\n            textColor: options.eventTextColor,\n            color: options.eventColor,\n            // classNames: options.eventClassNames // render hook will handle this\n        }, calendarContext),\n        selectionConfig: createEventUi({\n            constraint: options.selectConstraint,\n            overlap: typeof options.selectOverlap === 'boolean' ? options.selectOverlap : undefined,\n            allow: options.selectAllow,\n        }, calendarContext),\n    };\n}\nfunction computeIsLoading(state, context) {\n    for (var _i = 0, _a = context.pluginHooks.isLoadingFuncs; _i < _a.length; _i++) {\n        var isLoadingFunc = _a[_i];\n        if (isLoadingFunc(state)) {\n            return true;\n        }\n    }\n    return false;\n}\nfunction parseContextBusinessHours(calendarContext) {\n    return parseBusinessHours(calendarContext.options.businessHours, calendarContext);\n}\nfunction warnUnknownOptions(options, viewName) {\n    for (var optionName in options) {\n        console.warn(\"Unknown option '\" + optionName + \"'\" +\n            (viewName ? \" for view '\" + viewName + \"'\" : ''));\n    }\n}\n\n// TODO: move this to react plugin?\nvar CalendarDataProvider = /** @class */ (function (_super) {\n    __extends(CalendarDataProvider, _super);\n    function CalendarDataProvider(props) {\n        var _this = _super.call(this, props) || this;\n        _this.handleData = function (data) {\n            if (!_this.dataManager) { // still within initial run, before assignment in constructor\n                // eslint-disable-next-line react/no-direct-mutation-state\n                _this.state = data; // can't use setState yet\n            }\n            else {\n                _this.setState(data);\n            }\n        };\n        _this.dataManager = new CalendarDataManager({\n            optionOverrides: props.optionOverrides,\n            calendarApi: props.calendarApi,\n            onData: _this.handleData,\n        });\n        return _this;\n    }\n    CalendarDataProvider.prototype.render = function () {\n        return this.props.children(this.state);\n    };\n    CalendarDataProvider.prototype.componentDidUpdate = function (prevProps) {\n        var newOptionOverrides = this.props.optionOverrides;\n        if (newOptionOverrides !== prevProps.optionOverrides) { // prevent recursive handleData\n            this.dataManager.resetOptions(newOptionOverrides);\n        }\n    };\n    return CalendarDataProvider;\n}(Component));\n\n// HELPERS\n/*\nif nextDayThreshold is specified, slicing is done in an all-day fashion.\nyou can get nextDayThreshold from context.nextDayThreshold\n*/\nfunction sliceEvents(props, allDay) {\n    return sliceEventStore(props.eventStore, props.eventUiBases, props.dateProfile.activeRange, allDay ? props.nextDayThreshold : null).fg;\n}\n\nvar NamedTimeZoneImpl = /** @class */ (function () {\n    function NamedTimeZoneImpl(timeZoneName) {\n        this.timeZoneName = timeZoneName;\n    }\n    return NamedTimeZoneImpl;\n}());\n\nvar SegHierarchy = /** @class */ (function () {\n    function SegHierarchy() {\n        // settings\n        this.strictOrder = false;\n        this.allowReslicing = false;\n        this.maxCoord = -1; // -1 means no max\n        this.maxStackCnt = -1; // -1 means no max\n        this.levelCoords = []; // ordered\n        this.entriesByLevel = []; // parallel with levelCoords\n        this.stackCnts = {}; // TODO: use better technique!?\n    }\n    SegHierarchy.prototype.addSegs = function (segInputs) {\n        var hiddenEntries = [];\n        for (var _i = 0, segInputs_1 = segInputs; _i < segInputs_1.length; _i++) {\n            var segInput = segInputs_1[_i];\n            this.insertEntry({\n                segInput: segInput,\n                spanStart: segInput.spanStart,\n                spanEnd: segInput.spanEnd,\n                thickness: segInput.thickness,\n            }, hiddenEntries);\n        }\n        return hiddenEntries;\n    };\n    SegHierarchy.prototype.insertEntry = function (entry, hiddenEntries) {\n        var insertion = this.findInsertion(entry);\n        if (this.isInsertionValid(insertion, entry)) {\n            this.insertEntryAt(entry, insertion);\n            return 1;\n        }\n        return this.handleInvalidInsertion(insertion, entry, hiddenEntries);\n    };\n    SegHierarchy.prototype.isInsertionValid = function (insertion, entry) {\n        return (this.maxCoord === -1 || insertion.levelCoord + entry.thickness <= this.maxCoord) &&\n            (this.maxStackCnt === -1 || insertion.stackCnt < this.maxStackCnt);\n    };\n    SegHierarchy.prototype.handleInvalidInsertion = function (insertion, entry, hiddenEntries) {\n        if (this.allowReslicing && insertion.touchingEntry) {\n            return this.splitEntry(entry, insertion.touchingEntry, hiddenEntries);\n        }\n        hiddenEntries.push(entry);\n        return 0;\n    };\n    SegHierarchy.prototype.splitEntry = function (entry, barrier, hiddenEntries) {\n        var partCnt = 0;\n        var splitHiddenEntries = [];\n        if (entry.spanStart < barrier.spanStart) {\n            partCnt += this.insertEntry(__assign(__assign({}, entry), { spanStart: entry.spanStart, spanEnd: barrier.spanStart }), splitHiddenEntries);\n        }\n        if (barrier.spanEnd < entry.spanEnd) {\n            partCnt += this.insertEntry(__assign(__assign({}, entry), { spanStart: barrier.spanEnd, spanEnd: entry.spanEnd }), splitHiddenEntries);\n        }\n        if (partCnt) {\n            hiddenEntries.push.apply(hiddenEntries, __spreadArray([__assign(__assign({}, entry), { spanStart: Math.max(barrier.spanStart, entry.spanStart), spanEnd: Math.min(barrier.spanEnd, entry.spanEnd) })], splitHiddenEntries));\n            return partCnt;\n        }\n        hiddenEntries.push(entry);\n        return 0;\n    };\n    SegHierarchy.prototype.insertEntryAt = function (entry, insertion) {\n        var nextLevel = insertion.nextLevel;\n        // create a new level\n        if (!nextLevel || this.levelCoords[nextLevel - 1] < insertion.levelCoord) {\n            insertAt(this.levelCoords, nextLevel, insertion.levelCoord);\n            insertAt(this.entriesByLevel, nextLevel, [entry]);\n            // insert into existing level\n        }\n        else {\n            insertAt(this.entriesByLevel[nextLevel - 1], insertion.lateralEnd, entry);\n        }\n        this.stackCnts[buildEntryKey(entry)] = insertion.stackCnt;\n    };\n    SegHierarchy.prototype.findInsertion = function (newEntry) {\n        var _a = this, levelCoords = _a.levelCoords, entriesByLevel = _a.entriesByLevel, stackCnts = _a.stackCnts, strictOrder = _a.strictOrder;\n        var levelCnt = levelCoords.length;\n        var level; // running value while iterating all segs\n        var levelCoord; // \"\n        var lateralStart = 0; // \"\n        var lateralEnd = 0; // \"\n        var resCoord = 0; // the levelCoord for newSeg\n        var touchingEntry = null;\n        for (level = 0; level < levelCnt; level += 1) {\n            levelCoord = levelCoords[level];\n            // if the current level is past the placed entry, we have found a good\n            // empty space and can stop. only if not strict-ordering mode.\n            if (!strictOrder && levelCoord >= resCoord + newEntry.thickness) {\n                break;\n            }\n            var entries = entriesByLevel[level];\n            var entry = void 0;\n            var searchRes = binarySearch(entries, newEntry.spanStart, getEntrySpanEnd);\n            lateralStart = searchRes[0] + searchRes[1]; // if exact match (which doesn't collide), go to next one\n            lateralEnd = lateralStart;\n            while ( // loop through entries that horizontally intersect\n            (entry = entries[lateralEnd]) && // but not past the whole entry list\n                entry.spanStart < newEntry.spanEnd) {\n                if (strictOrder ||\n                    ( // vertically intersects?\n                    resCoord < levelCoord + entry.thickness &&\n                        resCoord + newEntry.thickness > levelCoord)) {\n                    // push down the potential destination\n                    touchingEntry = entry;\n                    resCoord = levelCoord + entry.thickness; // move to bottom of colliding entry\n                }\n                lateralEnd += 1;\n            }\n        }\n        return {\n            levelCoord: resCoord,\n            nextLevel: level,\n            lateralStart: lateralStart,\n            lateralEnd: lateralEnd,\n            touchingEntry: touchingEntry,\n            stackCnt: touchingEntry ? stackCnts[buildEntryKey(touchingEntry)] + 1 : 0,\n        };\n    };\n    // sorted by levelCoord (lowest to highest)\n    SegHierarchy.prototype.toRects = function () {\n        var _a = this, entriesByLevel = _a.entriesByLevel, levelCoords = _a.levelCoords;\n        var levelCnt = entriesByLevel.length;\n        var rects = [];\n        for (var level = 0; level < levelCnt; level += 1) {\n            var entries = entriesByLevel[level];\n            var levelCoord = levelCoords[level];\n            for (var _i = 0, entries_1 = entries; _i < entries_1.length; _i++) {\n                var entry = entries_1[_i];\n                rects.push(__assign(__assign({}, entry), { levelCoord: levelCoord }));\n            }\n        }\n        return rects;\n    };\n    return SegHierarchy;\n}());\nfunction getEntrySpanEnd(entry) {\n    return entry.spanEnd;\n}\nfunction buildEntryKey(entry) {\n    return entry.segInput.index + ':' + entry.spanStart;\n}\n// returns groups with entries sorted by input order\nfunction groupIntersectingEntries(entries) {\n    var merges = [];\n    for (var _i = 0, entries_2 = entries; _i < entries_2.length; _i++) {\n        var entry = entries_2[_i];\n        var filteredMerges = [];\n        var hungryMerge = {\n            spanStart: entry.spanStart,\n            spanEnd: entry.spanEnd,\n            entries: [entry],\n        };\n        for (var _a = 0, merges_1 = merges; _a < merges_1.length; _a++) {\n            var merge = merges_1[_a];\n            if (merge.spanStart < hungryMerge.spanEnd && merge.spanEnd > hungryMerge.spanStart) { // collides?\n                hungryMerge = {\n                    spanStart: Math.min(merge.spanStart, hungryMerge.spanStart),\n                    spanEnd: Math.max(merge.spanEnd, hungryMerge.spanEnd),\n                    entries: merge.entries.concat(hungryMerge.entries), // keep preexisting merge's items first. maintains order\n                };\n            }\n            else {\n                filteredMerges.push(merge);\n            }\n        }\n        filteredMerges.push(hungryMerge);\n        merges = filteredMerges;\n    }\n    return merges;\n}\n// general util\n// ---------------------------------------------------------------------------------------------------------------------\nfunction insertAt(arr, index, item) {\n    arr.splice(index, 0, item);\n}\nfunction binarySearch(a, searchVal, getItemVal) {\n    var startIndex = 0;\n    var endIndex = a.length; // exclusive\n    if (!endIndex || searchVal < getItemVal(a[startIndex])) { // no items OR before first item\n        return [0, 0];\n    }\n    if (searchVal > getItemVal(a[endIndex - 1])) { // after last item\n        return [endIndex, 0];\n    }\n    while (startIndex < endIndex) {\n        var middleIndex = Math.floor(startIndex + (endIndex - startIndex) / 2);\n        var middleVal = getItemVal(a[middleIndex]);\n        if (searchVal < middleVal) {\n            endIndex = middleIndex;\n        }\n        else if (searchVal > middleVal) {\n            startIndex = middleIndex + 1;\n        }\n        else { // equal!\n            return [middleIndex, 1];\n        }\n    }\n    return [startIndex, 0];\n}\n\nvar Interaction = /** @class */ (function () {\n    function Interaction(settings) {\n        this.component = settings.component;\n        this.isHitComboAllowed = settings.isHitComboAllowed || null;\n    }\n    Interaction.prototype.destroy = function () {\n    };\n    return Interaction;\n}());\nfunction parseInteractionSettings(component, input) {\n    return {\n        component: component,\n        el: input.el,\n        useEventCenter: input.useEventCenter != null ? input.useEventCenter : true,\n        isHitComboAllowed: input.isHitComboAllowed || null,\n    };\n}\nfunction interactionSettingsToStore(settings) {\n    var _a;\n    return _a = {},\n        _a[settings.component.uid] = settings,\n        _a;\n}\n// global state\nvar interactionSettingsStore = {};\n\n/*\nAn abstraction for a dragging interaction originating on an event.\nDoes higher-level things than PointerDragger, such as possibly:\n- a \"mirror\" that moves with the pointer\n- a minimum number of pixels or other criteria for a true drag to begin\n\nsubclasses must emit:\n- pointerdown\n- dragstart\n- dragmove\n- pointerup\n- dragend\n*/\nvar ElementDragging = /** @class */ (function () {\n    function ElementDragging(el, selector) {\n        this.emitter = new Emitter();\n    }\n    ElementDragging.prototype.destroy = function () {\n    };\n    ElementDragging.prototype.setMirrorIsVisible = function (bool) {\n        // optional if subclass doesn't want to support a mirror\n    };\n    ElementDragging.prototype.setMirrorNeedsRevert = function (bool) {\n        // optional if subclass doesn't want to support a mirror\n    };\n    ElementDragging.prototype.setAutoScrollEnabled = function (bool) {\n        // optional\n    };\n    return ElementDragging;\n}());\n\n// TODO: get rid of this in favor of options system,\n// tho it's really easy to access this globally rather than pass thru options.\nvar config = {};\n\n/*\nInformation about what will happen when an external element is dragged-and-dropped\nonto a calendar. Contains information for creating an event.\n*/\nvar DRAG_META_REFINERS = {\n    startTime: createDuration,\n    duration: createDuration,\n    create: Boolean,\n    sourceId: String,\n};\nfunction parseDragMeta(raw) {\n    var _a = refineProps(raw, DRAG_META_REFINERS), refined = _a.refined, extra = _a.extra;\n    return {\n        startTime: refined.startTime || null,\n        duration: refined.duration || null,\n        create: refined.create != null ? refined.create : true,\n        sourceId: refined.sourceId,\n        leftoverProps: extra,\n    };\n}\n\nvar ToolbarSection = /** @class */ (function (_super) {\n    __extends(ToolbarSection, _super);\n    function ToolbarSection() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    ToolbarSection.prototype.render = function () {\n        var _this = this;\n        var children = this.props.widgetGroups.map(function (widgetGroup) { return _this.renderWidgetGroup(widgetGroup); });\n        return createElement.apply(void 0, __spreadArray(['div', { className: 'fc-toolbar-chunk' }], children));\n    };\n    ToolbarSection.prototype.renderWidgetGroup = function (widgetGroup) {\n        var props = this.props;\n        var theme = this.context.theme;\n        var children = [];\n        var isOnlyButtons = true;\n        for (var _i = 0, widgetGroup_1 = widgetGroup; _i < widgetGroup_1.length; _i++) {\n            var widget = widgetGroup_1[_i];\n            var buttonName = widget.buttonName, buttonClick = widget.buttonClick, buttonText = widget.buttonText, buttonIcon = widget.buttonIcon;\n            if (buttonName === 'title') {\n                isOnlyButtons = false;\n                children.push(createElement(\"h2\", { className: \"fc-toolbar-title\" }, props.title));\n            }\n            else {\n                var ariaAttrs = buttonIcon ? { 'aria-label': buttonName } : {};\n                var buttonClasses = [\"fc-\" + buttonName + \"-button\", theme.getClass('button')];\n                if (buttonName === props.activeButton) {\n                    buttonClasses.push(theme.getClass('buttonActive'));\n                }\n                var isDisabled = (!props.isTodayEnabled && buttonName === 'today') ||\n                    (!props.isPrevEnabled && buttonName === 'prev') ||\n                    (!props.isNextEnabled && buttonName === 'next');\n                children.push(createElement(\"button\", __assign({ disabled: isDisabled, className: buttonClasses.join(' '), onClick: buttonClick, type: \"button\" }, ariaAttrs), buttonText || (buttonIcon ? createElement(\"span\", { className: buttonIcon }) : '')));\n            }\n        }\n        if (children.length > 1) {\n            var groupClassName = (isOnlyButtons && theme.getClass('buttonGroup')) || '';\n            return createElement.apply(void 0, __spreadArray(['div', { className: groupClassName }], children));\n        }\n        return children[0];\n    };\n    return ToolbarSection;\n}(BaseComponent));\n\nvar Toolbar = /** @class */ (function (_super) {\n    __extends(Toolbar, _super);\n    function Toolbar() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Toolbar.prototype.render = function () {\n        var _a = this.props, model = _a.model, extraClassName = _a.extraClassName;\n        var forceLtr = false;\n        var startContent;\n        var endContent;\n        var centerContent = model.center;\n        if (model.left) {\n            forceLtr = true;\n            startContent = model.left;\n        }\n        else {\n            startContent = model.start;\n        }\n        if (model.right) {\n            forceLtr = true;\n            endContent = model.right;\n        }\n        else {\n            endContent = model.end;\n        }\n        var classNames = [\n            extraClassName || '',\n            'fc-toolbar',\n            forceLtr ? 'fc-toolbar-ltr' : '',\n        ];\n        return (createElement(\"div\", { className: classNames.join(' ') },\n            this.renderSection('start', startContent || []),\n            this.renderSection('center', centerContent || []),\n            this.renderSection('end', endContent || [])));\n    };\n    Toolbar.prototype.renderSection = function (key, widgetGroups) {\n        var props = this.props;\n        return (createElement(ToolbarSection, { key: key, widgetGroups: widgetGroups, title: props.title, activeButton: props.activeButton, isTodayEnabled: props.isTodayEnabled, isPrevEnabled: props.isPrevEnabled, isNextEnabled: props.isNextEnabled }));\n    };\n    return Toolbar;\n}(BaseComponent));\n\n// TODO: do function component?\nvar ViewContainer = /** @class */ (function (_super) {\n    __extends(ViewContainer, _super);\n    function ViewContainer() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.state = {\n            availableWidth: null,\n        };\n        _this.handleEl = function (el) {\n            _this.el = el;\n            setRef(_this.props.elRef, el);\n            _this.updateAvailableWidth();\n        };\n        _this.handleResize = function () {\n            _this.updateAvailableWidth();\n        };\n        return _this;\n    }\n    ViewContainer.prototype.render = function () {\n        var _a = this, props = _a.props, state = _a.state;\n        var aspectRatio = props.aspectRatio;\n        var classNames = [\n            'fc-view-harness',\n            (aspectRatio || props.liquid || props.height)\n                ? 'fc-view-harness-active' // harness controls the height\n                : 'fc-view-harness-passive', // let the view do the height\n        ];\n        var height = '';\n        var paddingBottom = '';\n        if (aspectRatio) {\n            if (state.availableWidth !== null) {\n                height = state.availableWidth / aspectRatio;\n            }\n            else {\n                // while waiting to know availableWidth, we can't set height to *zero*\n                // because will cause lots of unnecessary scrollbars within scrollgrid.\n                // BETTER: don't start rendering ANYTHING yet until we know container width\n                // NOTE: why not always use paddingBottom? Causes height oscillation (issue 5606)\n                paddingBottom = (1 / aspectRatio) * 100 + \"%\";\n            }\n        }\n        else {\n            height = props.height || '';\n        }\n        return (createElement(\"div\", { ref: this.handleEl, onClick: props.onClick, className: classNames.join(' '), style: { height: height, paddingBottom: paddingBottom } }, props.children));\n    };\n    ViewContainer.prototype.componentDidMount = function () {\n        this.context.addResizeHandler(this.handleResize);\n    };\n    ViewContainer.prototype.componentWillUnmount = function () {\n        this.context.removeResizeHandler(this.handleResize);\n    };\n    ViewContainer.prototype.updateAvailableWidth = function () {\n        if (this.el && // needed. but why?\n            this.props.aspectRatio // aspectRatio is the only height setting that needs availableWidth\n        ) {\n            this.setState({ availableWidth: this.el.offsetWidth });\n        }\n    };\n    return ViewContainer;\n}(BaseComponent));\n\n/*\nDetects when the user clicks on an event within a DateComponent\n*/\nvar EventClicking = /** @class */ (function (_super) {\n    __extends(EventClicking, _super);\n    function EventClicking(settings) {\n        var _this = _super.call(this, settings) || this;\n        _this.handleSegClick = function (ev, segEl) {\n            var component = _this.component;\n            var context = component.context;\n            var seg = getElSeg(segEl);\n            if (seg && // might be the <div> surrounding the more link\n                component.isValidSegDownEl(ev.target)) {\n                // our way to simulate a link click for elements that can't be <a> tags\n                // grab before trigger fired in case trigger trashes DOM thru rerendering\n                var hasUrlContainer = elementClosest(ev.target, '.fc-event-forced-url');\n                var url = hasUrlContainer ? hasUrlContainer.querySelector('a[href]').href : '';\n                context.emitter.trigger('eventClick', {\n                    el: segEl,\n                    event: new EventApi(component.context, seg.eventRange.def, seg.eventRange.instance),\n                    jsEvent: ev,\n                    view: context.viewApi,\n                });\n                if (url && !ev.defaultPrevented) {\n                    window.location.href = url;\n                }\n            }\n        };\n        _this.destroy = listenBySelector(settings.el, 'click', '.fc-event', // on both fg and bg events\n        _this.handleSegClick);\n        return _this;\n    }\n    return EventClicking;\n}(Interaction));\n\n/*\nTriggers events and adds/removes core classNames when the user's pointer\nenters/leaves event-elements of a component.\n*/\nvar EventHovering = /** @class */ (function (_super) {\n    __extends(EventHovering, _super);\n    function EventHovering(settings) {\n        var _this = _super.call(this, settings) || this;\n        // for simulating an eventMouseLeave when the event el is destroyed while mouse is over it\n        _this.handleEventElRemove = function (el) {\n            if (el === _this.currentSegEl) {\n                _this.handleSegLeave(null, _this.currentSegEl);\n            }\n        };\n        _this.handleSegEnter = function (ev, segEl) {\n            if (getElSeg(segEl)) { // TODO: better way to make sure not hovering over more+ link or its wrapper\n                _this.currentSegEl = segEl;\n                _this.triggerEvent('eventMouseEnter', ev, segEl);\n            }\n        };\n        _this.handleSegLeave = function (ev, segEl) {\n            if (_this.currentSegEl) {\n                _this.currentSegEl = null;\n                _this.triggerEvent('eventMouseLeave', ev, segEl);\n            }\n        };\n        _this.removeHoverListeners = listenToHoverBySelector(settings.el, '.fc-event', // on both fg and bg events\n        _this.handleSegEnter, _this.handleSegLeave);\n        return _this;\n    }\n    EventHovering.prototype.destroy = function () {\n        this.removeHoverListeners();\n    };\n    EventHovering.prototype.triggerEvent = function (publicEvName, ev, segEl) {\n        var component = this.component;\n        var context = component.context;\n        var seg = getElSeg(segEl);\n        if (!ev || component.isValidSegDownEl(ev.target)) {\n            context.emitter.trigger(publicEvName, {\n                el: segEl,\n                event: new EventApi(context, seg.eventRange.def, seg.eventRange.instance),\n                jsEvent: ev,\n                view: context.viewApi,\n            });\n        }\n    };\n    return EventHovering;\n}(Interaction));\n\nvar CalendarContent = /** @class */ (function (_super) {\n    __extends(CalendarContent, _super);\n    function CalendarContent() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.buildViewContext = memoize(buildViewContext);\n        _this.buildViewPropTransformers = memoize(buildViewPropTransformers);\n        _this.buildToolbarProps = memoize(buildToolbarProps);\n        _this.handleNavLinkClick = buildDelegationHandler('a[data-navlink]', _this._handleNavLinkClick.bind(_this));\n        _this.headerRef = createRef();\n        _this.footerRef = createRef();\n        _this.interactionsStore = {};\n        // Component Registration\n        // -----------------------------------------------------------------------------------------------------------------\n        _this.registerInteractiveComponent = function (component, settingsInput) {\n            var settings = parseInteractionSettings(component, settingsInput);\n            var DEFAULT_INTERACTIONS = [\n                EventClicking,\n                EventHovering,\n            ];\n            var interactionClasses = DEFAULT_INTERACTIONS.concat(_this.props.pluginHooks.componentInteractions);\n            var interactions = interactionClasses.map(function (TheInteractionClass) { return new TheInteractionClass(settings); });\n            _this.interactionsStore[component.uid] = interactions;\n            interactionSettingsStore[component.uid] = settings;\n        };\n        _this.unregisterInteractiveComponent = function (component) {\n            for (var _i = 0, _a = _this.interactionsStore[component.uid]; _i < _a.length; _i++) {\n                var listener = _a[_i];\n                listener.destroy();\n            }\n            delete _this.interactionsStore[component.uid];\n            delete interactionSettingsStore[component.uid];\n        };\n        // Resizing\n        // -----------------------------------------------------------------------------------------------------------------\n        _this.resizeRunner = new DelayedRunner(function () {\n            _this.props.emitter.trigger('_resize', true); // should window resizes be considered \"forced\" ?\n            _this.props.emitter.trigger('windowResize', { view: _this.props.viewApi });\n        });\n        _this.handleWindowResize = function (ev) {\n            var options = _this.props.options;\n            if (options.handleWindowResize &&\n                ev.target === window // avoid jqui events\n            ) {\n                _this.resizeRunner.request(options.windowResizeDelay);\n            }\n        };\n        return _this;\n    }\n    /*\n    renders INSIDE of an outer div\n    */\n    CalendarContent.prototype.render = function () {\n        var props = this.props;\n        var toolbarConfig = props.toolbarConfig, options = props.options;\n        var toolbarProps = this.buildToolbarProps(props.viewSpec, props.dateProfile, props.dateProfileGenerator, props.currentDate, getNow(props.options.now, props.dateEnv), // TODO: use NowTimer????\n        props.viewTitle);\n        var viewVGrow = false;\n        var viewHeight = '';\n        var viewAspectRatio;\n        if (props.isHeightAuto || props.forPrint) {\n            viewHeight = '';\n        }\n        else if (options.height != null) {\n            viewVGrow = true;\n        }\n        else if (options.contentHeight != null) {\n            viewHeight = options.contentHeight;\n        }\n        else {\n            viewAspectRatio = Math.max(options.aspectRatio, 0.5); // prevent from getting too tall\n        }\n        var viewContext = this.buildViewContext(props.viewSpec, props.viewApi, props.options, props.dateProfileGenerator, props.dateEnv, props.theme, props.pluginHooks, props.dispatch, props.getCurrentData, props.emitter, props.calendarApi, this.registerInteractiveComponent, this.unregisterInteractiveComponent);\n        return (createElement(ViewContextType.Provider, { value: viewContext },\n            toolbarConfig.headerToolbar && (createElement(Toolbar, __assign({ ref: this.headerRef, extraClassName: \"fc-header-toolbar\", model: toolbarConfig.headerToolbar }, toolbarProps))),\n            createElement(ViewContainer, { liquid: viewVGrow, height: viewHeight, aspectRatio: viewAspectRatio, onClick: this.handleNavLinkClick },\n                this.renderView(props),\n                this.buildAppendContent()),\n            toolbarConfig.footerToolbar && (createElement(Toolbar, __assign({ ref: this.footerRef, extraClassName: \"fc-footer-toolbar\", model: toolbarConfig.footerToolbar }, toolbarProps)))));\n    };\n    CalendarContent.prototype.componentDidMount = function () {\n        var props = this.props;\n        this.calendarInteractions = props.pluginHooks.calendarInteractions\n            .map(function (CalendarInteractionClass) { return new CalendarInteractionClass(props); });\n        window.addEventListener('resize', this.handleWindowResize);\n        var propSetHandlers = props.pluginHooks.propSetHandlers;\n        for (var propName in propSetHandlers) {\n            propSetHandlers[propName](props[propName], props);\n        }\n    };\n    CalendarContent.prototype.componentDidUpdate = function (prevProps) {\n        var props = this.props;\n        var propSetHandlers = props.pluginHooks.propSetHandlers;\n        for (var propName in propSetHandlers) {\n            if (props[propName] !== prevProps[propName]) {\n                propSetHandlers[propName](props[propName], props);\n            }\n        }\n    };\n    CalendarContent.prototype.componentWillUnmount = function () {\n        window.removeEventListener('resize', this.handleWindowResize);\n        this.resizeRunner.clear();\n        for (var _i = 0, _a = this.calendarInteractions; _i < _a.length; _i++) {\n            var interaction = _a[_i];\n            interaction.destroy();\n        }\n        this.props.emitter.trigger('_unmount');\n    };\n    CalendarContent.prototype._handleNavLinkClick = function (ev, anchorEl) {\n        var _a = this.props, dateEnv = _a.dateEnv, options = _a.options, calendarApi = _a.calendarApi;\n        var navLinkOptions = anchorEl.getAttribute('data-navlink');\n        navLinkOptions = navLinkOptions ? JSON.parse(navLinkOptions) : {};\n        var dateMarker = dateEnv.createMarker(navLinkOptions.date);\n        var viewType = navLinkOptions.type;\n        var customAction = viewType === 'day' ? options.navLinkDayClick :\n            viewType === 'week' ? options.navLinkWeekClick : null;\n        if (typeof customAction === 'function') {\n            customAction.call(calendarApi, dateEnv.toDate(dateMarker), ev);\n        }\n        else {\n            if (typeof customAction === 'string') {\n                viewType = customAction;\n            }\n            calendarApi.zoomTo(dateMarker, viewType);\n        }\n    };\n    CalendarContent.prototype.buildAppendContent = function () {\n        var props = this.props;\n        var children = props.pluginHooks.viewContainerAppends.map(function (buildAppendContent) { return buildAppendContent(props); });\n        return createElement.apply(void 0, __spreadArray([Fragment, {}], children));\n    };\n    CalendarContent.prototype.renderView = function (props) {\n        var pluginHooks = props.pluginHooks;\n        var viewSpec = props.viewSpec;\n        var viewProps = {\n            dateProfile: props.dateProfile,\n            businessHours: props.businessHours,\n            eventStore: props.renderableEventStore,\n            eventUiBases: props.eventUiBases,\n            dateSelection: props.dateSelection,\n            eventSelection: props.eventSelection,\n            eventDrag: props.eventDrag,\n            eventResize: props.eventResize,\n            isHeightAuto: props.isHeightAuto,\n            forPrint: props.forPrint,\n        };\n        var transformers = this.buildViewPropTransformers(pluginHooks.viewPropsTransformers);\n        for (var _i = 0, transformers_1 = transformers; _i < transformers_1.length; _i++) {\n            var transformer = transformers_1[_i];\n            __assign(viewProps, transformer.transform(viewProps, props));\n        }\n        var ViewComponent = viewSpec.component;\n        return (createElement(ViewComponent, __assign({}, viewProps)));\n    };\n    return CalendarContent;\n}(PureComponent));\nfunction buildToolbarProps(viewSpec, dateProfile, dateProfileGenerator, currentDate, now, title) {\n    // don't force any date-profiles to valid date profiles (the `false`) so that we can tell if it's invalid\n    var todayInfo = dateProfileGenerator.build(now, undefined, false); // TODO: need `undefined` or else INFINITE LOOP for some reason\n    var prevInfo = dateProfileGenerator.buildPrev(dateProfile, currentDate, false);\n    var nextInfo = dateProfileGenerator.buildNext(dateProfile, currentDate, false);\n    return {\n        title: title,\n        activeButton: viewSpec.type,\n        isTodayEnabled: todayInfo.isValid && !rangeContainsMarker(dateProfile.currentRange, now),\n        isPrevEnabled: prevInfo.isValid,\n        isNextEnabled: nextInfo.isValid,\n    };\n}\n// Plugin\n// -----------------------------------------------------------------------------------------------------------------\nfunction buildViewPropTransformers(theClasses) {\n    return theClasses.map(function (TheClass) { return new TheClass(); });\n}\n\nvar CalendarRoot = /** @class */ (function (_super) {\n    __extends(CalendarRoot, _super);\n    function CalendarRoot() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.state = {\n            forPrint: false,\n        };\n        _this.handleBeforePrint = function () {\n            _this.setState({ forPrint: true });\n        };\n        _this.handleAfterPrint = function () {\n            _this.setState({ forPrint: false });\n        };\n        return _this;\n    }\n    CalendarRoot.prototype.render = function () {\n        var props = this.props;\n        var options = props.options;\n        var forPrint = this.state.forPrint;\n        var isHeightAuto = forPrint || options.height === 'auto' || options.contentHeight === 'auto';\n        var height = (!isHeightAuto && options.height != null) ? options.height : '';\n        var classNames = [\n            'fc',\n            forPrint ? 'fc-media-print' : 'fc-media-screen',\n            \"fc-direction-\" + options.direction,\n            props.theme.getClass('root'),\n        ];\n        if (!getCanVGrowWithinCell()) {\n            classNames.push('fc-liquid-hack');\n        }\n        return props.children(classNames, height, isHeightAuto, forPrint);\n    };\n    CalendarRoot.prototype.componentDidMount = function () {\n        var emitter = this.props.emitter;\n        emitter.on('_beforeprint', this.handleBeforePrint);\n        emitter.on('_afterprint', this.handleAfterPrint);\n    };\n    CalendarRoot.prototype.componentWillUnmount = function () {\n        var emitter = this.props.emitter;\n        emitter.off('_beforeprint', this.handleBeforePrint);\n        emitter.off('_afterprint', this.handleAfterPrint);\n    };\n    return CalendarRoot;\n}(BaseComponent));\n\n// Computes a default column header formatting string if `colFormat` is not explicitly defined\nfunction computeFallbackHeaderFormat(datesRepDistinctDays, dayCnt) {\n    // if more than one week row, or if there are a lot of columns with not much space,\n    // put just the day numbers will be in each cell\n    if (!datesRepDistinctDays || dayCnt > 10) {\n        return createFormatter({ weekday: 'short' }); // \"Sat\"\n    }\n    if (dayCnt > 1) {\n        return createFormatter({ weekday: 'short', month: 'numeric', day: 'numeric', omitCommas: true }); // \"Sat 11/12\"\n    }\n    return createFormatter({ weekday: 'long' }); // \"Saturday\"\n}\n\nvar CLASS_NAME = 'fc-col-header-cell'; // do the cushion too? no\nfunction renderInner$1(hookProps) {\n    return hookProps.text;\n}\n\nvar TableDateCell = /** @class */ (function (_super) {\n    __extends(TableDateCell, _super);\n    function TableDateCell() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TableDateCell.prototype.render = function () {\n        var _a = this.context, dateEnv = _a.dateEnv, options = _a.options, theme = _a.theme, viewApi = _a.viewApi;\n        var props = this.props;\n        var date = props.date, dateProfile = props.dateProfile;\n        var dayMeta = getDateMeta(date, props.todayRange, null, dateProfile);\n        var classNames = [CLASS_NAME].concat(getDayClassNames(dayMeta, theme));\n        var text = dateEnv.format(date, props.dayHeaderFormat);\n        // if colCnt is 1, we are already in a day-view and don't need a navlink\n        var navLinkAttrs = (options.navLinks && !dayMeta.isDisabled && props.colCnt > 1)\n            ? { 'data-navlink': buildNavLinkData(date), tabIndex: 0 }\n            : {};\n        var hookProps = __assign(__assign(__assign({ date: dateEnv.toDate(date), view: viewApi }, props.extraHookProps), { text: text }), dayMeta);\n        return (createElement(RenderHook, { hookProps: hookProps, classNames: options.dayHeaderClassNames, content: options.dayHeaderContent, defaultContent: renderInner$1, didMount: options.dayHeaderDidMount, willUnmount: options.dayHeaderWillUnmount }, function (rootElRef, customClassNames, innerElRef, innerContent) { return (createElement(\"th\", __assign({ ref: rootElRef, className: classNames.concat(customClassNames).join(' '), \"data-date\": !dayMeta.isDisabled ? formatDayString(date) : undefined, colSpan: props.colSpan }, props.extraDataAttrs),\n            createElement(\"div\", { className: \"fc-scrollgrid-sync-inner\" }, !dayMeta.isDisabled && (createElement(\"a\", __assign({ ref: innerElRef, className: [\n                    'fc-col-header-cell-cushion',\n                    props.isSticky ? 'fc-sticky' : '',\n                ].join(' ') }, navLinkAttrs), innerContent))))); }));\n    };\n    return TableDateCell;\n}(BaseComponent));\n\nvar TableDowCell = /** @class */ (function (_super) {\n    __extends(TableDowCell, _super);\n    function TableDowCell() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TableDowCell.prototype.render = function () {\n        var props = this.props;\n        var _a = this.context, dateEnv = _a.dateEnv, theme = _a.theme, viewApi = _a.viewApi, options = _a.options;\n        var date = addDays(new Date(259200000), props.dow); // start with Sun, 04 Jan 1970 00:00:00 GMT\n        var dateMeta = {\n            dow: props.dow,\n            isDisabled: false,\n            isFuture: false,\n            isPast: false,\n            isToday: false,\n            isOther: false,\n        };\n        var classNames = [CLASS_NAME].concat(getDayClassNames(dateMeta, theme), props.extraClassNames || []);\n        var text = dateEnv.format(date, props.dayHeaderFormat);\n        var hookProps = __assign(__assign(__assign(__assign({ // TODO: make this public?\n            date: date }, dateMeta), { view: viewApi }), props.extraHookProps), { text: text });\n        return (createElement(RenderHook, { hookProps: hookProps, classNames: options.dayHeaderClassNames, content: options.dayHeaderContent, defaultContent: renderInner$1, didMount: options.dayHeaderDidMount, willUnmount: options.dayHeaderWillUnmount }, function (rootElRef, customClassNames, innerElRef, innerContent) { return (createElement(\"th\", __assign({ ref: rootElRef, className: classNames.concat(customClassNames).join(' '), colSpan: props.colSpan }, props.extraDataAttrs),\n            createElement(\"div\", { className: \"fc-scrollgrid-sync-inner\" },\n                createElement(\"a\", { className: [\n                        'fc-col-header-cell-cushion',\n                        props.isSticky ? 'fc-sticky' : '',\n                    ].join(' '), ref: innerElRef }, innerContent)))); }));\n    };\n    return TableDowCell;\n}(BaseComponent));\n\nvar NowTimer = /** @class */ (function (_super) {\n    __extends(NowTimer, _super);\n    function NowTimer(props, context) {\n        var _this = _super.call(this, props, context) || this;\n        _this.initialNowDate = getNow(context.options.now, context.dateEnv);\n        _this.initialNowQueriedMs = new Date().valueOf();\n        _this.state = _this.computeTiming().currentState;\n        return _this;\n    }\n    NowTimer.prototype.render = function () {\n        var _a = this, props = _a.props, state = _a.state;\n        return props.children(state.nowDate, state.todayRange);\n    };\n    NowTimer.prototype.componentDidMount = function () {\n        this.setTimeout();\n    };\n    NowTimer.prototype.componentDidUpdate = function (prevProps) {\n        if (prevProps.unit !== this.props.unit) {\n            this.clearTimeout();\n            this.setTimeout();\n        }\n    };\n    NowTimer.prototype.componentWillUnmount = function () {\n        this.clearTimeout();\n    };\n    NowTimer.prototype.computeTiming = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        var unroundedNow = addMs(this.initialNowDate, new Date().valueOf() - this.initialNowQueriedMs);\n        var currentUnitStart = context.dateEnv.startOf(unroundedNow, props.unit);\n        var nextUnitStart = context.dateEnv.add(currentUnitStart, createDuration(1, props.unit));\n        var waitMs = nextUnitStart.valueOf() - unroundedNow.valueOf();\n        // there is a max setTimeout ms value (https://stackoverflow.com/a/3468650/96342)\n        // ensure no longer than a day\n        waitMs = Math.min(1000 * 60 * 60 * 24, waitMs);\n        return {\n            currentState: { nowDate: currentUnitStart, todayRange: buildDayRange(currentUnitStart) },\n            nextState: { nowDate: nextUnitStart, todayRange: buildDayRange(nextUnitStart) },\n            waitMs: waitMs,\n        };\n    };\n    NowTimer.prototype.setTimeout = function () {\n        var _this = this;\n        var _a = this.computeTiming(), nextState = _a.nextState, waitMs = _a.waitMs;\n        this.timeoutId = setTimeout(function () {\n            _this.setState(nextState, function () {\n                _this.setTimeout();\n            });\n        }, waitMs);\n    };\n    NowTimer.prototype.clearTimeout = function () {\n        if (this.timeoutId) {\n            clearTimeout(this.timeoutId);\n        }\n    };\n    NowTimer.contextType = ViewContextType;\n    return NowTimer;\n}(Component));\nfunction buildDayRange(date) {\n    var start = startOfDay(date);\n    var end = addDays(start, 1);\n    return { start: start, end: end };\n}\n\nvar DayHeader = /** @class */ (function (_super) {\n    __extends(DayHeader, _super);\n    function DayHeader() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.createDayHeaderFormatter = memoize(createDayHeaderFormatter);\n        return _this;\n    }\n    DayHeader.prototype.render = function () {\n        var context = this.context;\n        var _a = this.props, dates = _a.dates, dateProfile = _a.dateProfile, datesRepDistinctDays = _a.datesRepDistinctDays, renderIntro = _a.renderIntro;\n        var dayHeaderFormat = this.createDayHeaderFormatter(context.options.dayHeaderFormat, datesRepDistinctDays, dates.length);\n        return (createElement(NowTimer, { unit: \"day\" }, function (nowDate, todayRange) { return (createElement(\"tr\", null,\n            renderIntro && renderIntro('day'),\n            dates.map(function (date) { return (datesRepDistinctDays ? (createElement(TableDateCell, { key: date.toISOString(), date: date, dateProfile: dateProfile, todayRange: todayRange, colCnt: dates.length, dayHeaderFormat: dayHeaderFormat })) : (createElement(TableDowCell, { key: date.getUTCDay(), dow: date.getUTCDay(), dayHeaderFormat: dayHeaderFormat }))); }))); }));\n    };\n    return DayHeader;\n}(BaseComponent));\nfunction createDayHeaderFormatter(explicitFormat, datesRepDistinctDays, dateCnt) {\n    return explicitFormat || computeFallbackHeaderFormat(datesRepDistinctDays, dateCnt);\n}\n\nvar DaySeriesModel = /** @class */ (function () {\n    function DaySeriesModel(range, dateProfileGenerator) {\n        var date = range.start;\n        var end = range.end;\n        var indices = [];\n        var dates = [];\n        var dayIndex = -1;\n        while (date < end) { // loop each day from start to end\n            if (dateProfileGenerator.isHiddenDay(date)) {\n                indices.push(dayIndex + 0.5); // mark that it's between indices\n            }\n            else {\n                dayIndex += 1;\n                indices.push(dayIndex);\n                dates.push(date);\n            }\n            date = addDays(date, 1);\n        }\n        this.dates = dates;\n        this.indices = indices;\n        this.cnt = dates.length;\n    }\n    DaySeriesModel.prototype.sliceRange = function (range) {\n        var firstIndex = this.getDateDayIndex(range.start); // inclusive first index\n        var lastIndex = this.getDateDayIndex(addDays(range.end, -1)); // inclusive last index\n        var clippedFirstIndex = Math.max(0, firstIndex);\n        var clippedLastIndex = Math.min(this.cnt - 1, lastIndex);\n        // deal with in-between indices\n        clippedFirstIndex = Math.ceil(clippedFirstIndex); // in-between starts round to next cell\n        clippedLastIndex = Math.floor(clippedLastIndex); // in-between ends round to prev cell\n        if (clippedFirstIndex <= clippedLastIndex) {\n            return {\n                firstIndex: clippedFirstIndex,\n                lastIndex: clippedLastIndex,\n                isStart: firstIndex === clippedFirstIndex,\n                isEnd: lastIndex === clippedLastIndex,\n            };\n        }\n        return null;\n    };\n    // Given a date, returns its chronolocial cell-index from the first cell of the grid.\n    // If the date lies between cells (because of hiddenDays), returns a floating-point value between offsets.\n    // If before the first offset, returns a negative number.\n    // If after the last offset, returns an offset past the last cell offset.\n    // Only works for *start* dates of cells. Will not work for exclusive end dates for cells.\n    DaySeriesModel.prototype.getDateDayIndex = function (date) {\n        var indices = this.indices;\n        var dayOffset = Math.floor(diffDays(this.dates[0], date));\n        if (dayOffset < 0) {\n            return indices[0] - 1;\n        }\n        if (dayOffset >= indices.length) {\n            return indices[indices.length - 1] + 1;\n        }\n        return indices[dayOffset];\n    };\n    return DaySeriesModel;\n}());\n\nvar DayTableModel = /** @class */ (function () {\n    function DayTableModel(daySeries, breakOnWeeks) {\n        var dates = daySeries.dates;\n        var daysPerRow;\n        var firstDay;\n        var rowCnt;\n        if (breakOnWeeks) {\n            // count columns until the day-of-week repeats\n            firstDay = dates[0].getUTCDay();\n            for (daysPerRow = 1; daysPerRow < dates.length; daysPerRow += 1) {\n                if (dates[daysPerRow].getUTCDay() === firstDay) {\n                    break;\n                }\n            }\n            rowCnt = Math.ceil(dates.length / daysPerRow);\n        }\n        else {\n            rowCnt = 1;\n            daysPerRow = dates.length;\n        }\n        this.rowCnt = rowCnt;\n        this.colCnt = daysPerRow;\n        this.daySeries = daySeries;\n        this.cells = this.buildCells();\n        this.headerDates = this.buildHeaderDates();\n    }\n    DayTableModel.prototype.buildCells = function () {\n        var rows = [];\n        for (var row = 0; row < this.rowCnt; row += 1) {\n            var cells = [];\n            for (var col = 0; col < this.colCnt; col += 1) {\n                cells.push(this.buildCell(row, col));\n            }\n            rows.push(cells);\n        }\n        return rows;\n    };\n    DayTableModel.prototype.buildCell = function (row, col) {\n        var date = this.daySeries.dates[row * this.colCnt + col];\n        return {\n            key: date.toISOString(),\n            date: date,\n        };\n    };\n    DayTableModel.prototype.buildHeaderDates = function () {\n        var dates = [];\n        for (var col = 0; col < this.colCnt; col += 1) {\n            dates.push(this.cells[0][col].date);\n        }\n        return dates;\n    };\n    DayTableModel.prototype.sliceRange = function (range) {\n        var colCnt = this.colCnt;\n        var seriesSeg = this.daySeries.sliceRange(range);\n        var segs = [];\n        if (seriesSeg) {\n            var firstIndex = seriesSeg.firstIndex, lastIndex = seriesSeg.lastIndex;\n            var index = firstIndex;\n            while (index <= lastIndex) {\n                var row = Math.floor(index / colCnt);\n                var nextIndex = Math.min((row + 1) * colCnt, lastIndex + 1);\n                segs.push({\n                    row: row,\n                    firstCol: index % colCnt,\n                    lastCol: (nextIndex - 1) % colCnt,\n                    isStart: seriesSeg.isStart && index === firstIndex,\n                    isEnd: seriesSeg.isEnd && (nextIndex - 1) === lastIndex,\n                });\n                index = nextIndex;\n            }\n        }\n        return segs;\n    };\n    return DayTableModel;\n}());\n\nvar Slicer = /** @class */ (function () {\n    function Slicer() {\n        this.sliceBusinessHours = memoize(this._sliceBusinessHours);\n        this.sliceDateSelection = memoize(this._sliceDateSpan);\n        this.sliceEventStore = memoize(this._sliceEventStore);\n        this.sliceEventDrag = memoize(this._sliceInteraction);\n        this.sliceEventResize = memoize(this._sliceInteraction);\n        this.forceDayIfListItem = false; // hack\n    }\n    Slicer.prototype.sliceProps = function (props, dateProfile, nextDayThreshold, context) {\n        var extraArgs = [];\n        for (var _i = 4; _i < arguments.length; _i++) {\n            extraArgs[_i - 4] = arguments[_i];\n        }\n        var eventUiBases = props.eventUiBases;\n        var eventSegs = this.sliceEventStore.apply(this, __spreadArray([props.eventStore, eventUiBases, dateProfile, nextDayThreshold], extraArgs));\n        return {\n            dateSelectionSegs: this.sliceDateSelection.apply(this, __spreadArray([props.dateSelection, eventUiBases, context], extraArgs)),\n            businessHourSegs: this.sliceBusinessHours.apply(this, __spreadArray([props.businessHours, dateProfile, nextDayThreshold, context], extraArgs)),\n            fgEventSegs: eventSegs.fg,\n            bgEventSegs: eventSegs.bg,\n            eventDrag: this.sliceEventDrag.apply(this, __spreadArray([props.eventDrag, eventUiBases, dateProfile, nextDayThreshold], extraArgs)),\n            eventResize: this.sliceEventResize.apply(this, __spreadArray([props.eventResize, eventUiBases, dateProfile, nextDayThreshold], extraArgs)),\n            eventSelection: props.eventSelection,\n        }; // TODO: give interactionSegs?\n    };\n    Slicer.prototype.sliceNowDate = function (// does not memoize\n    date, context) {\n        var extraArgs = [];\n        for (var _i = 2; _i < arguments.length; _i++) {\n            extraArgs[_i - 2] = arguments[_i];\n        }\n        return this._sliceDateSpan.apply(this, __spreadArray([{ range: { start: date, end: addMs(date, 1) }, allDay: false },\n            {},\n            context], extraArgs));\n    };\n    Slicer.prototype._sliceBusinessHours = function (businessHours, dateProfile, nextDayThreshold, context) {\n        var extraArgs = [];\n        for (var _i = 4; _i < arguments.length; _i++) {\n            extraArgs[_i - 4] = arguments[_i];\n        }\n        if (!businessHours) {\n            return [];\n        }\n        return this._sliceEventStore.apply(this, __spreadArray([expandRecurring(businessHours, computeActiveRange(dateProfile, Boolean(nextDayThreshold)), context),\n            {},\n            dateProfile,\n            nextDayThreshold], extraArgs)).bg;\n    };\n    Slicer.prototype._sliceEventStore = function (eventStore, eventUiBases, dateProfile, nextDayThreshold) {\n        var extraArgs = [];\n        for (var _i = 4; _i < arguments.length; _i++) {\n            extraArgs[_i - 4] = arguments[_i];\n        }\n        if (eventStore) {\n            var rangeRes = sliceEventStore(eventStore, eventUiBases, computeActiveRange(dateProfile, Boolean(nextDayThreshold)), nextDayThreshold);\n            return {\n                bg: this.sliceEventRanges(rangeRes.bg, extraArgs),\n                fg: this.sliceEventRanges(rangeRes.fg, extraArgs),\n            };\n        }\n        return { bg: [], fg: [] };\n    };\n    Slicer.prototype._sliceInteraction = function (interaction, eventUiBases, dateProfile, nextDayThreshold) {\n        var extraArgs = [];\n        for (var _i = 4; _i < arguments.length; _i++) {\n            extraArgs[_i - 4] = arguments[_i];\n        }\n        if (!interaction) {\n            return null;\n        }\n        var rangeRes = sliceEventStore(interaction.mutatedEvents, eventUiBases, computeActiveRange(dateProfile, Boolean(nextDayThreshold)), nextDayThreshold);\n        return {\n            segs: this.sliceEventRanges(rangeRes.fg, extraArgs),\n            affectedInstances: interaction.affectedEvents.instances,\n            isEvent: interaction.isEvent,\n        };\n    };\n    Slicer.prototype._sliceDateSpan = function (dateSpan, eventUiBases, context) {\n        var extraArgs = [];\n        for (var _i = 3; _i < arguments.length; _i++) {\n            extraArgs[_i - 3] = arguments[_i];\n        }\n        if (!dateSpan) {\n            return [];\n        }\n        var eventRange = fabricateEventRange(dateSpan, eventUiBases, context);\n        var segs = this.sliceRange.apply(this, __spreadArray([dateSpan.range], extraArgs));\n        for (var _a = 0, segs_1 = segs; _a < segs_1.length; _a++) {\n            var seg = segs_1[_a];\n            seg.eventRange = eventRange;\n        }\n        return segs;\n    };\n    /*\n    \"complete\" seg means it has component and eventRange\n    */\n    Slicer.prototype.sliceEventRanges = function (eventRanges, extraArgs) {\n        var segs = [];\n        for (var _i = 0, eventRanges_1 = eventRanges; _i < eventRanges_1.length; _i++) {\n            var eventRange = eventRanges_1[_i];\n            segs.push.apply(segs, this.sliceEventRange(eventRange, extraArgs));\n        }\n        return segs;\n    };\n    /*\n    \"complete\" seg means it has component and eventRange\n    */\n    Slicer.prototype.sliceEventRange = function (eventRange, extraArgs) {\n        var dateRange = eventRange.range;\n        // hack to make multi-day events that are being force-displayed as list-items to take up only one day\n        if (this.forceDayIfListItem && eventRange.ui.display === 'list-item') {\n            dateRange = {\n                start: dateRange.start,\n                end: addDays(dateRange.start, 1),\n            };\n        }\n        var segs = this.sliceRange.apply(this, __spreadArray([dateRange], extraArgs));\n        for (var _i = 0, segs_2 = segs; _i < segs_2.length; _i++) {\n            var seg = segs_2[_i];\n            seg.eventRange = eventRange;\n            seg.isStart = eventRange.isStart && seg.isStart;\n            seg.isEnd = eventRange.isEnd && seg.isEnd;\n        }\n        return segs;\n    };\n    return Slicer;\n}());\n/*\nfor incorporating slotMinTime/slotMaxTime if appropriate\nTODO: should be part of DateProfile!\nTimelineDateProfile already does this btw\n*/\nfunction computeActiveRange(dateProfile, isComponentAllDay) {\n    var range = dateProfile.activeRange;\n    if (isComponentAllDay) {\n        return range;\n    }\n    return {\n        start: addMs(range.start, dateProfile.slotMinTime.milliseconds),\n        end: addMs(range.end, dateProfile.slotMaxTime.milliseconds - 864e5), // 864e5 = ms in a day\n    };\n}\n\n// high-level segmenting-aware tester functions\n// ------------------------------------------------------------------------------------------------------------------------\nfunction isInteractionValid(interaction, dateProfile, context) {\n    var instances = interaction.mutatedEvents.instances;\n    for (var instanceId in instances) {\n        if (!rangeContainsRange(dateProfile.validRange, instances[instanceId].range)) {\n            return false;\n        }\n    }\n    return isNewPropsValid({ eventDrag: interaction }, context); // HACK: the eventDrag props is used for ALL interactions\n}\nfunction isDateSelectionValid(dateSelection, dateProfile, context) {\n    if (!rangeContainsRange(dateProfile.validRange, dateSelection.range)) {\n        return false;\n    }\n    return isNewPropsValid({ dateSelection: dateSelection }, context);\n}\nfunction isNewPropsValid(newProps, context) {\n    var calendarState = context.getCurrentData();\n    var props = __assign({ businessHours: calendarState.businessHours, dateSelection: '', eventStore: calendarState.eventStore, eventUiBases: calendarState.eventUiBases, eventSelection: '', eventDrag: null, eventResize: null }, newProps);\n    return (context.pluginHooks.isPropsValid || isPropsValid)(props, context);\n}\nfunction isPropsValid(state, context, dateSpanMeta, filterConfig) {\n    if (dateSpanMeta === void 0) { dateSpanMeta = {}; }\n    if (state.eventDrag && !isInteractionPropsValid(state, context, dateSpanMeta, filterConfig)) {\n        return false;\n    }\n    if (state.dateSelection && !isDateSelectionPropsValid(state, context, dateSpanMeta, filterConfig)) {\n        return false;\n    }\n    return true;\n}\n// Moving Event Validation\n// ------------------------------------------------------------------------------------------------------------------------\nfunction isInteractionPropsValid(state, context, dateSpanMeta, filterConfig) {\n    var currentState = context.getCurrentData();\n    var interaction = state.eventDrag; // HACK: the eventDrag props is used for ALL interactions\n    var subjectEventStore = interaction.mutatedEvents;\n    var subjectDefs = subjectEventStore.defs;\n    var subjectInstances = subjectEventStore.instances;\n    var subjectConfigs = compileEventUis(subjectDefs, interaction.isEvent ?\n        state.eventUiBases :\n        { '': currentState.selectionConfig });\n    if (filterConfig) {\n        subjectConfigs = mapHash(subjectConfigs, filterConfig);\n    }\n    // exclude the subject events. TODO: exclude defs too?\n    var otherEventStore = excludeInstances(state.eventStore, interaction.affectedEvents.instances);\n    var otherDefs = otherEventStore.defs;\n    var otherInstances = otherEventStore.instances;\n    var otherConfigs = compileEventUis(otherDefs, state.eventUiBases);\n    for (var subjectInstanceId in subjectInstances) {\n        var subjectInstance = subjectInstances[subjectInstanceId];\n        var subjectRange = subjectInstance.range;\n        var subjectConfig = subjectConfigs[subjectInstance.defId];\n        var subjectDef = subjectDefs[subjectInstance.defId];\n        // constraint\n        if (!allConstraintsPass(subjectConfig.constraints, subjectRange, otherEventStore, state.businessHours, context)) {\n            return false;\n        }\n        // overlap\n        var eventOverlap = context.options.eventOverlap;\n        var eventOverlapFunc = typeof eventOverlap === 'function' ? eventOverlap : null;\n        for (var otherInstanceId in otherInstances) {\n            var otherInstance = otherInstances[otherInstanceId];\n            // intersect! evaluate\n            if (rangesIntersect(subjectRange, otherInstance.range)) {\n                var otherOverlap = otherConfigs[otherInstance.defId].overlap;\n                // consider the other event's overlap. only do this if the subject event is a \"real\" event\n                if (otherOverlap === false && interaction.isEvent) {\n                    return false;\n                }\n                if (subjectConfig.overlap === false) {\n                    return false;\n                }\n                if (eventOverlapFunc && !eventOverlapFunc(new EventApi(context, otherDefs[otherInstance.defId], otherInstance), // still event\n                new EventApi(context, subjectDef, subjectInstance))) {\n                    return false;\n                }\n            }\n        }\n        // allow (a function)\n        var calendarEventStore = currentState.eventStore; // need global-to-calendar, not local to component (splittable)state\n        for (var _i = 0, _a = subjectConfig.allows; _i < _a.length; _i++) {\n            var subjectAllow = _a[_i];\n            var subjectDateSpan = __assign(__assign({}, dateSpanMeta), { range: subjectInstance.range, allDay: subjectDef.allDay });\n            var origDef = calendarEventStore.defs[subjectDef.defId];\n            var origInstance = calendarEventStore.instances[subjectInstanceId];\n            var eventApi = void 0;\n            if (origDef) { // was previously in the calendar\n                eventApi = new EventApi(context, origDef, origInstance);\n            }\n            else { // was an external event\n                eventApi = new EventApi(context, subjectDef); // no instance, because had no dates\n            }\n            if (!subjectAllow(buildDateSpanApiWithContext(subjectDateSpan, context), eventApi)) {\n                return false;\n            }\n        }\n    }\n    return true;\n}\n// Date Selection Validation\n// ------------------------------------------------------------------------------------------------------------------------\nfunction isDateSelectionPropsValid(state, context, dateSpanMeta, filterConfig) {\n    var relevantEventStore = state.eventStore;\n    var relevantDefs = relevantEventStore.defs;\n    var relevantInstances = relevantEventStore.instances;\n    var selection = state.dateSelection;\n    var selectionRange = selection.range;\n    var selectionConfig = context.getCurrentData().selectionConfig;\n    if (filterConfig) {\n        selectionConfig = filterConfig(selectionConfig);\n    }\n    // constraint\n    if (!allConstraintsPass(selectionConfig.constraints, selectionRange, relevantEventStore, state.businessHours, context)) {\n        return false;\n    }\n    // overlap\n    var selectOverlap = context.options.selectOverlap;\n    var selectOverlapFunc = typeof selectOverlap === 'function' ? selectOverlap : null;\n    for (var relevantInstanceId in relevantInstances) {\n        var relevantInstance = relevantInstances[relevantInstanceId];\n        // intersect! evaluate\n        if (rangesIntersect(selectionRange, relevantInstance.range)) {\n            if (selectionConfig.overlap === false) {\n                return false;\n            }\n            if (selectOverlapFunc && !selectOverlapFunc(new EventApi(context, relevantDefs[relevantInstance.defId], relevantInstance), null)) {\n                return false;\n            }\n        }\n    }\n    // allow (a function)\n    for (var _i = 0, _a = selectionConfig.allows; _i < _a.length; _i++) {\n        var selectionAllow = _a[_i];\n        var fullDateSpan = __assign(__assign({}, dateSpanMeta), selection);\n        if (!selectionAllow(buildDateSpanApiWithContext(fullDateSpan, context), null)) {\n            return false;\n        }\n    }\n    return true;\n}\n// Constraint Utils\n// ------------------------------------------------------------------------------------------------------------------------\nfunction allConstraintsPass(constraints, subjectRange, otherEventStore, businessHoursUnexpanded, context) {\n    for (var _i = 0, constraints_1 = constraints; _i < constraints_1.length; _i++) {\n        var constraint = constraints_1[_i];\n        if (!anyRangesContainRange(constraintToRanges(constraint, subjectRange, otherEventStore, businessHoursUnexpanded, context), subjectRange)) {\n            return false;\n        }\n    }\n    return true;\n}\nfunction constraintToRanges(constraint, subjectRange, // for expanding a recurring constraint, or expanding business hours\notherEventStore, // for if constraint is an even group ID\nbusinessHoursUnexpanded, // for if constraint is 'businessHours'\ncontext) {\n    if (constraint === 'businessHours') {\n        return eventStoreToRanges(expandRecurring(businessHoursUnexpanded, subjectRange, context));\n    }\n    if (typeof constraint === 'string') { // an group ID\n        return eventStoreToRanges(filterEventStoreDefs(otherEventStore, function (eventDef) { return eventDef.groupId === constraint; }));\n    }\n    if (typeof constraint === 'object' && constraint) { // non-null object\n        return eventStoreToRanges(expandRecurring(constraint, subjectRange, context));\n    }\n    return []; // if it's false\n}\n// TODO: move to event-store file?\nfunction eventStoreToRanges(eventStore) {\n    var instances = eventStore.instances;\n    var ranges = [];\n    for (var instanceId in instances) {\n        ranges.push(instances[instanceId].range);\n    }\n    return ranges;\n}\n// TODO: move to geom file?\nfunction anyRangesContainRange(outerRanges, innerRange) {\n    for (var _i = 0, outerRanges_1 = outerRanges; _i < outerRanges_1.length; _i++) {\n        var outerRange = outerRanges_1[_i];\n        if (rangeContainsRange(outerRange, innerRange)) {\n            return true;\n        }\n    }\n    return false;\n}\n\nvar VISIBLE_HIDDEN_RE = /^(visible|hidden)$/;\nvar Scroller = /** @class */ (function (_super) {\n    __extends(Scroller, _super);\n    function Scroller() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.handleEl = function (el) {\n            _this.el = el;\n            setRef(_this.props.elRef, el);\n        };\n        return _this;\n    }\n    Scroller.prototype.render = function () {\n        var props = this.props;\n        var liquid = props.liquid, liquidIsAbsolute = props.liquidIsAbsolute;\n        var isAbsolute = liquid && liquidIsAbsolute;\n        var className = ['fc-scroller'];\n        if (liquid) {\n            if (liquidIsAbsolute) {\n                className.push('fc-scroller-liquid-absolute');\n            }\n            else {\n                className.push('fc-scroller-liquid');\n            }\n        }\n        return (createElement(\"div\", { ref: this.handleEl, className: className.join(' '), style: {\n                overflowX: props.overflowX,\n                overflowY: props.overflowY,\n                left: (isAbsolute && -(props.overcomeLeft || 0)) || '',\n                right: (isAbsolute && -(props.overcomeRight || 0)) || '',\n                bottom: (isAbsolute && -(props.overcomeBottom || 0)) || '',\n                marginLeft: (!isAbsolute && -(props.overcomeLeft || 0)) || '',\n                marginRight: (!isAbsolute && -(props.overcomeRight || 0)) || '',\n                marginBottom: (!isAbsolute && -(props.overcomeBottom || 0)) || '',\n                maxHeight: props.maxHeight || '',\n            } }, props.children));\n    };\n    Scroller.prototype.needsXScrolling = function () {\n        if (VISIBLE_HIDDEN_RE.test(this.props.overflowX)) {\n            return false;\n        }\n        // testing scrollWidth>clientWidth is unreliable cross-browser when pixel heights aren't integers.\n        // much more reliable to see if children are taller than the scroller, even tho doesn't account for\n        // inner-child margins and absolute positioning\n        var el = this.el;\n        var realClientWidth = this.el.getBoundingClientRect().width - this.getYScrollbarWidth();\n        var children = el.children;\n        for (var i = 0; i < children.length; i += 1) {\n            var childEl = children[i];\n            if (childEl.getBoundingClientRect().width > realClientWidth) {\n                return true;\n            }\n        }\n        return false;\n    };\n    Scroller.prototype.needsYScrolling = function () {\n        if (VISIBLE_HIDDEN_RE.test(this.props.overflowY)) {\n            return false;\n        }\n        // testing scrollHeight>clientHeight is unreliable cross-browser when pixel heights aren't integers.\n        // much more reliable to see if children are taller than the scroller, even tho doesn't account for\n        // inner-child margins and absolute positioning\n        var el = this.el;\n        var realClientHeight = this.el.getBoundingClientRect().height - this.getXScrollbarWidth();\n        var children = el.children;\n        for (var i = 0; i < children.length; i += 1) {\n            var childEl = children[i];\n            if (childEl.getBoundingClientRect().height > realClientHeight) {\n                return true;\n            }\n        }\n        return false;\n    };\n    Scroller.prototype.getXScrollbarWidth = function () {\n        if (VISIBLE_HIDDEN_RE.test(this.props.overflowX)) {\n            return 0;\n        }\n        return this.el.offsetHeight - this.el.clientHeight; // only works because we guarantee no borders. TODO: add to CSS with important?\n    };\n    Scroller.prototype.getYScrollbarWidth = function () {\n        if (VISIBLE_HIDDEN_RE.test(this.props.overflowY)) {\n            return 0;\n        }\n        return this.el.offsetWidth - this.el.clientWidth; // only works because we guarantee no borders. TODO: add to CSS with important?\n    };\n    return Scroller;\n}(BaseComponent));\n\n/*\nTODO: somehow infer OtherArgs from masterCallback?\nTODO: infer RefType from masterCallback if provided\n*/\nvar RefMap = /** @class */ (function () {\n    function RefMap(masterCallback) {\n        var _this = this;\n        this.masterCallback = masterCallback;\n        this.currentMap = {};\n        this.depths = {};\n        this.callbackMap = {};\n        this.handleValue = function (val, key) {\n            var _a = _this, depths = _a.depths, currentMap = _a.currentMap;\n            var removed = false;\n            var added = false;\n            if (val !== null) {\n                // for bug... ACTUALLY: can probably do away with this now that callers don't share numeric indices anymore\n                removed = (key in currentMap);\n                currentMap[key] = val;\n                depths[key] = (depths[key] || 0) + 1;\n                added = true;\n            }\n            else {\n                depths[key] -= 1;\n                if (!depths[key]) {\n                    delete currentMap[key];\n                    delete _this.callbackMap[key];\n                    removed = true;\n                }\n            }\n            if (_this.masterCallback) {\n                if (removed) {\n                    _this.masterCallback(null, String(key));\n                }\n                if (added) {\n                    _this.masterCallback(val, String(key));\n                }\n            }\n        };\n    }\n    RefMap.prototype.createRef = function (key) {\n        var _this = this;\n        var refCallback = this.callbackMap[key];\n        if (!refCallback) {\n            refCallback = this.callbackMap[key] = function (val) {\n                _this.handleValue(val, String(key));\n            };\n        }\n        return refCallback;\n    };\n    // TODO: check callers that don't care about order. should use getAll instead\n    // NOTE: this method has become less valuable now that we are encouraged to map order by some other index\n    // TODO: provide ONE array-export function, buildArray, which fails on non-numeric indexes. caller can manipulate and \"collect\"\n    RefMap.prototype.collect = function (startIndex, endIndex, step) {\n        return collectFromHash(this.currentMap, startIndex, endIndex, step);\n    };\n    RefMap.prototype.getAll = function () {\n        return hashValuesToArray(this.currentMap);\n    };\n    return RefMap;\n}());\n\nfunction computeShrinkWidth(chunkEls) {\n    var shrinkCells = findElements(chunkEls, '.fc-scrollgrid-shrink');\n    var largestWidth = 0;\n    for (var _i = 0, shrinkCells_1 = shrinkCells; _i < shrinkCells_1.length; _i++) {\n        var shrinkCell = shrinkCells_1[_i];\n        largestWidth = Math.max(largestWidth, computeSmallestCellWidth(shrinkCell));\n    }\n    return Math.ceil(largestWidth); // <table> elements work best with integers. round up to ensure contents fits\n}\nfunction getSectionHasLiquidHeight(props, sectionConfig) {\n    return props.liquid && sectionConfig.liquid; // does the section do liquid-height? (need to have whole scrollgrid liquid-height as well)\n}\nfunction getAllowYScrolling(props, sectionConfig) {\n    return sectionConfig.maxHeight != null || // if its possible for the height to max out, we might need scrollbars\n        getSectionHasLiquidHeight(props, sectionConfig); // if the section is liquid height, it might condense enough to require scrollbars\n}\n// TODO: ONLY use `arg`. force out internal function to use same API\nfunction renderChunkContent(sectionConfig, chunkConfig, arg) {\n    var expandRows = arg.expandRows;\n    var content = typeof chunkConfig.content === 'function' ?\n        chunkConfig.content(arg) :\n        createElement('table', {\n            className: [\n                chunkConfig.tableClassName,\n                sectionConfig.syncRowHeights ? 'fc-scrollgrid-sync-table' : '',\n            ].join(' '),\n            style: {\n                minWidth: arg.tableMinWidth,\n                width: arg.clientWidth,\n                height: expandRows ? arg.clientHeight : '', // css `height` on a <table> serves as a min-height\n            },\n        }, arg.tableColGroupNode, createElement('tbody', {}, typeof chunkConfig.rowContent === 'function' ? chunkConfig.rowContent(arg) : chunkConfig.rowContent));\n    return content;\n}\nfunction isColPropsEqual(cols0, cols1) {\n    return isArraysEqual(cols0, cols1, isPropsEqual);\n}\nfunction renderMicroColGroup(cols, shrinkWidth) {\n    var colNodes = [];\n    /*\n    for ColProps with spans, it would have been great to make a single <col span=\"\">\n    HOWEVER, Chrome was getting messing up distributing the width to <td>/<th> elements with colspans.\n    SOLUTION: making individual <col> elements makes Chrome behave.\n    */\n    for (var _i = 0, cols_1 = cols; _i < cols_1.length; _i++) {\n        var colProps = cols_1[_i];\n        var span = colProps.span || 1;\n        for (var i = 0; i < span; i += 1) {\n            colNodes.push(createElement(\"col\", { style: {\n                    width: colProps.width === 'shrink' ? sanitizeShrinkWidth(shrinkWidth) : (colProps.width || ''),\n                    minWidth: colProps.minWidth || '',\n                } }));\n        }\n    }\n    return createElement.apply(void 0, __spreadArray(['colgroup', {}], colNodes));\n}\nfunction sanitizeShrinkWidth(shrinkWidth) {\n    /* why 4? if we do 0, it will kill any border, which are needed for computeSmallestCellWidth\n    4 accounts for 2 2-pixel borders. TODO: better solution? */\n    return shrinkWidth == null ? 4 : shrinkWidth;\n}\nfunction hasShrinkWidth(cols) {\n    for (var _i = 0, cols_2 = cols; _i < cols_2.length; _i++) {\n        var col = cols_2[_i];\n        if (col.width === 'shrink') {\n            return true;\n        }\n    }\n    return false;\n}\nfunction getScrollGridClassNames(liquid, context) {\n    var classNames = [\n        'fc-scrollgrid',\n        context.theme.getClass('table'),\n    ];\n    if (liquid) {\n        classNames.push('fc-scrollgrid-liquid');\n    }\n    return classNames;\n}\nfunction getSectionClassNames(sectionConfig, wholeTableVGrow) {\n    var classNames = [\n        'fc-scrollgrid-section',\n        \"fc-scrollgrid-section-\" + sectionConfig.type,\n        sectionConfig.className, // used?\n    ];\n    if (wholeTableVGrow && sectionConfig.liquid && sectionConfig.maxHeight == null) {\n        classNames.push('fc-scrollgrid-section-liquid');\n    }\n    if (sectionConfig.isSticky) {\n        classNames.push('fc-scrollgrid-section-sticky');\n    }\n    return classNames;\n}\nfunction renderScrollShim(arg) {\n    return (createElement(\"div\", { className: \"fc-scrollgrid-sticky-shim\", style: {\n            width: arg.clientWidth,\n            minWidth: arg.tableMinWidth,\n        } }));\n}\nfunction getStickyHeaderDates(options) {\n    var stickyHeaderDates = options.stickyHeaderDates;\n    if (stickyHeaderDates == null || stickyHeaderDates === 'auto') {\n        stickyHeaderDates = options.height === 'auto' || options.viewHeight === 'auto';\n    }\n    return stickyHeaderDates;\n}\nfunction getStickyFooterScrollbar(options) {\n    var stickyFooterScrollbar = options.stickyFooterScrollbar;\n    if (stickyFooterScrollbar == null || stickyFooterScrollbar === 'auto') {\n        stickyFooterScrollbar = options.height === 'auto' || options.viewHeight === 'auto';\n    }\n    return stickyFooterScrollbar;\n}\n\nvar SimpleScrollGrid = /** @class */ (function (_super) {\n    __extends(SimpleScrollGrid, _super);\n    function SimpleScrollGrid() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.processCols = memoize(function (a) { return a; }, isColPropsEqual); // so we get same `cols` props every time\n        // yucky to memoize VNodes, but much more efficient for consumers\n        _this.renderMicroColGroup = memoize(renderMicroColGroup);\n        _this.scrollerRefs = new RefMap();\n        _this.scrollerElRefs = new RefMap(_this._handleScrollerEl.bind(_this));\n        _this.state = {\n            shrinkWidth: null,\n            forceYScrollbars: false,\n            scrollerClientWidths: {},\n            scrollerClientHeights: {},\n        };\n        // TODO: can do a really simple print-view. dont need to join rows\n        _this.handleSizing = function () {\n            _this.setState(__assign({ shrinkWidth: _this.computeShrinkWidth() }, _this.computeScrollerDims()));\n        };\n        return _this;\n    }\n    SimpleScrollGrid.prototype.render = function () {\n        var _a = this, props = _a.props, state = _a.state, context = _a.context;\n        var sectionConfigs = props.sections || [];\n        var cols = this.processCols(props.cols);\n        var microColGroupNode = this.renderMicroColGroup(cols, state.shrinkWidth);\n        var classNames = getScrollGridClassNames(props.liquid, context);\n        if (props.collapsibleWidth) {\n            classNames.push('fc-scrollgrid-collapsible');\n        }\n        // TODO: make DRY\n        var configCnt = sectionConfigs.length;\n        var configI = 0;\n        var currentConfig;\n        var headSectionNodes = [];\n        var bodySectionNodes = [];\n        var footSectionNodes = [];\n        while (configI < configCnt && (currentConfig = sectionConfigs[configI]).type === 'header') {\n            headSectionNodes.push(this.renderSection(currentConfig, microColGroupNode));\n            configI += 1;\n        }\n        while (configI < configCnt && (currentConfig = sectionConfigs[configI]).type === 'body') {\n            bodySectionNodes.push(this.renderSection(currentConfig, microColGroupNode));\n            configI += 1;\n        }\n        while (configI < configCnt && (currentConfig = sectionConfigs[configI]).type === 'footer') {\n            footSectionNodes.push(this.renderSection(currentConfig, microColGroupNode));\n            configI += 1;\n        }\n        // firefox bug: when setting height on table and there is a thead or tfoot,\n        // the necessary height:100% on the liquid-height body section forces the *whole* table to be taller. (bug #5524)\n        // use getCanVGrowWithinCell as a way to detect table-stupid firefox.\n        // if so, use a simpler dom structure, jam everything into a lone tbody.\n        var isBuggy = !getCanVGrowWithinCell();\n        return createElement('table', {\n            className: classNames.join(' '),\n            style: { height: props.height },\n        }, Boolean(!isBuggy && headSectionNodes.length) && createElement.apply(void 0, __spreadArray(['thead', {}], headSectionNodes)), Boolean(!isBuggy && bodySectionNodes.length) && createElement.apply(void 0, __spreadArray(['tbody', {}], bodySectionNodes)), Boolean(!isBuggy && footSectionNodes.length) && createElement.apply(void 0, __spreadArray(['tfoot', {}], footSectionNodes)), isBuggy && createElement.apply(void 0, __spreadArray(__spreadArray(__spreadArray(['tbody', {}], headSectionNodes), bodySectionNodes), footSectionNodes)));\n    };\n    SimpleScrollGrid.prototype.renderSection = function (sectionConfig, microColGroupNode) {\n        if ('outerContent' in sectionConfig) {\n            return (createElement(Fragment, { key: sectionConfig.key }, sectionConfig.outerContent));\n        }\n        return (createElement(\"tr\", { key: sectionConfig.key, className: getSectionClassNames(sectionConfig, this.props.liquid).join(' ') }, this.renderChunkTd(sectionConfig, microColGroupNode, sectionConfig.chunk)));\n    };\n    SimpleScrollGrid.prototype.renderChunkTd = function (sectionConfig, microColGroupNode, chunkConfig) {\n        if ('outerContent' in chunkConfig) {\n            return chunkConfig.outerContent;\n        }\n        var props = this.props;\n        var _a = this.state, forceYScrollbars = _a.forceYScrollbars, scrollerClientWidths = _a.scrollerClientWidths, scrollerClientHeights = _a.scrollerClientHeights;\n        var needsYScrolling = getAllowYScrolling(props, sectionConfig); // TODO: do lazily. do in section config?\n        var isLiquid = getSectionHasLiquidHeight(props, sectionConfig);\n        // for `!props.liquid` - is WHOLE scrollgrid natural height?\n        // TODO: do same thing in advanced scrollgrid? prolly not b/c always has horizontal scrollbars\n        var overflowY = !props.liquid ? 'visible' :\n            forceYScrollbars ? 'scroll' :\n                !needsYScrolling ? 'hidden' :\n                    'auto';\n        var sectionKey = sectionConfig.key;\n        var content = renderChunkContent(sectionConfig, chunkConfig, {\n            tableColGroupNode: microColGroupNode,\n            tableMinWidth: '',\n            clientWidth: (!props.collapsibleWidth && scrollerClientWidths[sectionKey] !== undefined) ? scrollerClientWidths[sectionKey] : null,\n            clientHeight: scrollerClientHeights[sectionKey] !== undefined ? scrollerClientHeights[sectionKey] : null,\n            expandRows: sectionConfig.expandRows,\n            syncRowHeights: false,\n            rowSyncHeights: [],\n            reportRowHeightChange: function () { },\n        });\n        return (createElement(\"td\", { ref: chunkConfig.elRef },\n            createElement(\"div\", { className: \"fc-scroller-harness\" + (isLiquid ? ' fc-scroller-harness-liquid' : '') },\n                createElement(Scroller, { ref: this.scrollerRefs.createRef(sectionKey), elRef: this.scrollerElRefs.createRef(sectionKey), overflowY: overflowY, overflowX: !props.liquid ? 'visible' : 'hidden' /* natural height? */, maxHeight: sectionConfig.maxHeight, liquid: isLiquid, liquidIsAbsolute // because its within a harness\n                    : true }, content))));\n    };\n    SimpleScrollGrid.prototype._handleScrollerEl = function (scrollerEl, key) {\n        var section = getSectionByKey(this.props.sections, key);\n        if (section) {\n            setRef(section.chunk.scrollerElRef, scrollerEl);\n        }\n    };\n    SimpleScrollGrid.prototype.componentDidMount = function () {\n        this.handleSizing();\n        this.context.addResizeHandler(this.handleSizing);\n    };\n    SimpleScrollGrid.prototype.componentDidUpdate = function () {\n        // TODO: need better solution when state contains non-sizing things\n        this.handleSizing();\n    };\n    SimpleScrollGrid.prototype.componentWillUnmount = function () {\n        this.context.removeResizeHandler(this.handleSizing);\n    };\n    SimpleScrollGrid.prototype.computeShrinkWidth = function () {\n        return hasShrinkWidth(this.props.cols)\n            ? computeShrinkWidth(this.scrollerElRefs.getAll())\n            : 0;\n    };\n    SimpleScrollGrid.prototype.computeScrollerDims = function () {\n        var scrollbarWidth = getScrollbarWidths();\n        var _a = this, scrollerRefs = _a.scrollerRefs, scrollerElRefs = _a.scrollerElRefs;\n        var forceYScrollbars = false;\n        var scrollerClientWidths = {};\n        var scrollerClientHeights = {};\n        for (var sectionKey in scrollerRefs.currentMap) {\n            var scroller = scrollerRefs.currentMap[sectionKey];\n            if (scroller && scroller.needsYScrolling()) {\n                forceYScrollbars = true;\n                break;\n            }\n        }\n        for (var _i = 0, _b = this.props.sections; _i < _b.length; _i++) {\n            var section = _b[_i];\n            var sectionKey = section.key;\n            var scrollerEl = scrollerElRefs.currentMap[sectionKey];\n            if (scrollerEl) {\n                var harnessEl = scrollerEl.parentNode; // TODO: weird way to get this. need harness b/c doesn't include table borders\n                scrollerClientWidths[sectionKey] = Math.floor(harnessEl.getBoundingClientRect().width - (forceYScrollbars\n                    ? scrollbarWidth.y // use global because scroller might not have scrollbars yet but will need them in future\n                    : 0));\n                scrollerClientHeights[sectionKey] = Math.floor(harnessEl.getBoundingClientRect().height);\n            }\n        }\n        return { forceYScrollbars: forceYScrollbars, scrollerClientWidths: scrollerClientWidths, scrollerClientHeights: scrollerClientHeights };\n    };\n    return SimpleScrollGrid;\n}(BaseComponent));\nSimpleScrollGrid.addStateEquality({\n    scrollerClientWidths: isPropsEqual,\n    scrollerClientHeights: isPropsEqual,\n});\nfunction getSectionByKey(sections, key) {\n    for (var _i = 0, sections_1 = sections; _i < sections_1.length; _i++) {\n        var section = sections_1[_i];\n        if (section.key === key) {\n            return section;\n        }\n    }\n    return null;\n}\n\nvar EventRoot = /** @class */ (function (_super) {\n    __extends(EventRoot, _super);\n    function EventRoot() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.elRef = createRef();\n        return _this;\n    }\n    EventRoot.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        var options = context.options;\n        var seg = props.seg;\n        var eventRange = seg.eventRange;\n        var ui = eventRange.ui;\n        var hookProps = {\n            event: new EventApi(context, eventRange.def, eventRange.instance),\n            view: context.viewApi,\n            timeText: props.timeText,\n            textColor: ui.textColor,\n            backgroundColor: ui.backgroundColor,\n            borderColor: ui.borderColor,\n            isDraggable: !props.disableDragging && computeSegDraggable(seg, context),\n            isStartResizable: !props.disableResizing && computeSegStartResizable(seg, context),\n            isEndResizable: !props.disableResizing && computeSegEndResizable(seg),\n            isMirror: Boolean(props.isDragging || props.isResizing || props.isDateSelecting),\n            isStart: Boolean(seg.isStart),\n            isEnd: Boolean(seg.isEnd),\n            isPast: Boolean(props.isPast),\n            isFuture: Boolean(props.isFuture),\n            isToday: Boolean(props.isToday),\n            isSelected: Boolean(props.isSelected),\n            isDragging: Boolean(props.isDragging),\n            isResizing: Boolean(props.isResizing),\n        };\n        var standardClassNames = getEventClassNames(hookProps).concat(ui.classNames);\n        return (createElement(RenderHook, { hookProps: hookProps, classNames: options.eventClassNames, content: options.eventContent, defaultContent: props.defaultContent, didMount: options.eventDidMount, willUnmount: options.eventWillUnmount, elRef: this.elRef }, function (rootElRef, customClassNames, innerElRef, innerContent) { return props.children(rootElRef, standardClassNames.concat(customClassNames), innerElRef, innerContent, hookProps); }));\n    };\n    EventRoot.prototype.componentDidMount = function () {\n        setElSeg(this.elRef.current, this.props.seg);\n    };\n    /*\n    need to re-assign seg to the element if seg changes, even if the element is the same\n    */\n    EventRoot.prototype.componentDidUpdate = function (prevProps) {\n        var seg = this.props.seg;\n        if (seg !== prevProps.seg) {\n            setElSeg(this.elRef.current, seg);\n        }\n    };\n    return EventRoot;\n}(BaseComponent));\n\n// should not be a purecomponent\nvar StandardEvent = /** @class */ (function (_super) {\n    __extends(StandardEvent, _super);\n    function StandardEvent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    StandardEvent.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        var seg = props.seg;\n        var timeFormat = context.options.eventTimeFormat || props.defaultTimeFormat;\n        var timeText = buildSegTimeText(seg, timeFormat, context, props.defaultDisplayEventTime, props.defaultDisplayEventEnd);\n        return (createElement(EventRoot, { seg: seg, timeText: timeText, disableDragging: props.disableDragging, disableResizing: props.disableResizing, defaultContent: props.defaultContent || renderInnerContent$1, isDragging: props.isDragging, isResizing: props.isResizing, isDateSelecting: props.isDateSelecting, isSelected: props.isSelected, isPast: props.isPast, isFuture: props.isFuture, isToday: props.isToday }, function (rootElRef, classNames, innerElRef, innerContent, hookProps) { return (createElement(\"a\", __assign({ className: props.extraClassNames.concat(classNames).join(' '), style: {\n                borderColor: hookProps.borderColor,\n                backgroundColor: hookProps.backgroundColor,\n            }, ref: rootElRef }, getSegAnchorAttrs(seg)),\n            createElement(\"div\", { className: \"fc-event-main\", ref: innerElRef, style: { color: hookProps.textColor } }, innerContent),\n            hookProps.isStartResizable &&\n                createElement(\"div\", { className: \"fc-event-resizer fc-event-resizer-start\" }),\n            hookProps.isEndResizable &&\n                createElement(\"div\", { className: \"fc-event-resizer fc-event-resizer-end\" }))); }));\n    };\n    return StandardEvent;\n}(BaseComponent));\nfunction renderInnerContent$1(innerProps) {\n    return (createElement(\"div\", { className: \"fc-event-main-frame\" },\n        innerProps.timeText && (createElement(\"div\", { className: \"fc-event-time\" }, innerProps.timeText)),\n        createElement(\"div\", { className: \"fc-event-title-container\" },\n            createElement(\"div\", { className: \"fc-event-title fc-sticky\" }, innerProps.event.title || createElement(Fragment, null, \"\\u00A0\")))));\n}\nfunction getSegAnchorAttrs(seg) {\n    var url = seg.eventRange.def.url;\n    return url ? { href: url } : {};\n}\n\nvar NowIndicatorRoot = function (props) { return (createElement(ViewContextType.Consumer, null, function (context) {\n    var options = context.options;\n    var hookProps = {\n        isAxis: props.isAxis,\n        date: context.dateEnv.toDate(props.date),\n        view: context.viewApi,\n    };\n    return (createElement(RenderHook, { hookProps: hookProps, classNames: options.nowIndicatorClassNames, content: options.nowIndicatorContent, didMount: options.nowIndicatorDidMount, willUnmount: options.nowIndicatorWillUnmount }, props.children));\n})); };\n\nvar DAY_NUM_FORMAT = createFormatter({ day: 'numeric' });\nvar DayCellContent = /** @class */ (function (_super) {\n    __extends(DayCellContent, _super);\n    function DayCellContent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    DayCellContent.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        var options = context.options;\n        var hookProps = refineDayCellHookProps({\n            date: props.date,\n            dateProfile: props.dateProfile,\n            todayRange: props.todayRange,\n            showDayNumber: props.showDayNumber,\n            extraProps: props.extraHookProps,\n            viewApi: context.viewApi,\n            dateEnv: context.dateEnv,\n        });\n        return (createElement(ContentHook, { hookProps: hookProps, content: options.dayCellContent, defaultContent: props.defaultContent }, props.children));\n    };\n    return DayCellContent;\n}(BaseComponent));\nfunction refineDayCellHookProps(raw) {\n    var date = raw.date, dateEnv = raw.dateEnv;\n    var dayMeta = getDateMeta(date, raw.todayRange, null, raw.dateProfile);\n    return __assign(__assign(__assign({ date: dateEnv.toDate(date), view: raw.viewApi }, dayMeta), { dayNumberText: raw.showDayNumber ? dateEnv.format(date, DAY_NUM_FORMAT) : '' }), raw.extraProps);\n}\n\nvar DayCellRoot = /** @class */ (function (_super) {\n    __extends(DayCellRoot, _super);\n    function DayCellRoot() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.refineHookProps = memoizeObjArg(refineDayCellHookProps);\n        _this.normalizeClassNames = buildClassNameNormalizer();\n        return _this;\n    }\n    DayCellRoot.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        var options = context.options;\n        var hookProps = this.refineHookProps({\n            date: props.date,\n            dateProfile: props.dateProfile,\n            todayRange: props.todayRange,\n            showDayNumber: props.showDayNumber,\n            extraProps: props.extraHookProps,\n            viewApi: context.viewApi,\n            dateEnv: context.dateEnv,\n        });\n        var classNames = getDayClassNames(hookProps, context.theme).concat(hookProps.isDisabled\n            ? [] // don't use custom classNames if disabled\n            : this.normalizeClassNames(options.dayCellClassNames, hookProps));\n        var dataAttrs = hookProps.isDisabled ? {} : {\n            'data-date': formatDayString(props.date),\n        };\n        return (createElement(MountHook, { hookProps: hookProps, didMount: options.dayCellDidMount, willUnmount: options.dayCellWillUnmount, elRef: props.elRef }, function (rootElRef) { return props.children(rootElRef, classNames, dataAttrs, hookProps.isDisabled); }));\n    };\n    return DayCellRoot;\n}(BaseComponent));\n\nfunction renderFill(fillType) {\n    return (createElement(\"div\", { className: \"fc-\" + fillType }));\n}\nvar BgEvent = function (props) { return (createElement(EventRoot, { defaultContent: renderInnerContent, seg: props.seg /* uselesss i think */, timeText: \"\", disableDragging: true, disableResizing: true, isDragging: false, isResizing: false, isDateSelecting: false, isSelected: false, isPast: props.isPast, isFuture: props.isFuture, isToday: props.isToday }, function (rootElRef, classNames, innerElRef, innerContent, hookProps) { return (createElement(\"div\", { ref: rootElRef, className: ['fc-bg-event'].concat(classNames).join(' '), style: {\n        backgroundColor: hookProps.backgroundColor,\n    } }, innerContent)); })); };\nfunction renderInnerContent(props) {\n    var title = props.event.title;\n    return title && (createElement(\"div\", { className: \"fc-event-title\" }, props.event.title));\n}\n\nvar WeekNumberRoot = function (props) { return (createElement(ViewContextType.Consumer, null, function (context) {\n    var dateEnv = context.dateEnv, options = context.options;\n    var date = props.date;\n    var format = options.weekNumberFormat || props.defaultFormat;\n    var num = dateEnv.computeWeekNumber(date); // TODO: somehow use for formatting as well?\n    var text = dateEnv.format(date, format);\n    var hookProps = { num: num, text: text, date: date };\n    return (createElement(RenderHook, { hookProps: hookProps, classNames: options.weekNumberClassNames, content: options.weekNumberContent, defaultContent: renderInner, didMount: options.weekNumberDidMount, willUnmount: options.weekNumberWillUnmount }, props.children));\n})); };\nfunction renderInner(innerProps) {\n    return innerProps.text;\n}\n\nvar PADDING_FROM_VIEWPORT = 10;\nvar Popover = /** @class */ (function (_super) {\n    __extends(Popover, _super);\n    function Popover() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.handleRootEl = function (el) {\n            _this.rootEl = el;\n            if (_this.props.elRef) {\n                setRef(_this.props.elRef, el);\n            }\n        };\n        // Triggered when the user clicks *anywhere* in the document, for the autoHide feature\n        _this.handleDocumentMousedown = function (ev) {\n            // only hide the popover if the click happened outside the popover\n            var target = getEventTargetViaRoot(ev);\n            if (!_this.rootEl.contains(target)) {\n                _this.handleCloseClick();\n            }\n        };\n        _this.handleCloseClick = function () {\n            var onClose = _this.props.onClose;\n            if (onClose) {\n                onClose();\n            }\n        };\n        return _this;\n    }\n    Popover.prototype.render = function () {\n        var theme = this.context.theme;\n        var props = this.props;\n        var classNames = [\n            'fc-popover',\n            theme.getClass('popover'),\n        ].concat(props.extraClassNames || []);\n        return createPortal(createElement(\"div\", __assign({ className: classNames.join(' ') }, props.extraAttrs, { ref: this.handleRootEl }),\n            createElement(\"div\", { className: 'fc-popover-header ' + theme.getClass('popoverHeader') },\n                createElement(\"span\", { className: \"fc-popover-title\" }, props.title),\n                createElement(\"span\", { className: 'fc-popover-close ' + theme.getIconClass('close'), onClick: this.handleCloseClick })),\n            createElement(\"div\", { className: 'fc-popover-body ' + theme.getClass('popoverContent') }, props.children)), props.parentEl);\n    };\n    Popover.prototype.componentDidMount = function () {\n        document.addEventListener('mousedown', this.handleDocumentMousedown);\n        this.updateSize();\n    };\n    Popover.prototype.componentWillUnmount = function () {\n        document.removeEventListener('mousedown', this.handleDocumentMousedown);\n    };\n    Popover.prototype.updateSize = function () {\n        var isRtl = this.context.isRtl;\n        var _a = this.props, alignmentEl = _a.alignmentEl, alignGridTop = _a.alignGridTop;\n        var rootEl = this.rootEl;\n        var alignmentRect = computeClippedClientRect(alignmentEl);\n        if (alignmentRect) {\n            var popoverDims = rootEl.getBoundingClientRect();\n            // position relative to viewport\n            var popoverTop = alignGridTop\n                ? elementClosest(alignmentEl, '.fc-scrollgrid').getBoundingClientRect().top\n                : alignmentRect.top;\n            var popoverLeft = isRtl ? alignmentRect.right - popoverDims.width : alignmentRect.left;\n            // constrain\n            popoverTop = Math.max(popoverTop, PADDING_FROM_VIEWPORT);\n            popoverLeft = Math.min(popoverLeft, document.documentElement.clientWidth - PADDING_FROM_VIEWPORT - popoverDims.width);\n            popoverLeft = Math.max(popoverLeft, PADDING_FROM_VIEWPORT);\n            var origin_1 = rootEl.offsetParent.getBoundingClientRect();\n            applyStyle(rootEl, {\n                top: popoverTop - origin_1.top,\n                left: popoverLeft - origin_1.left,\n            });\n        }\n    };\n    return Popover;\n}(BaseComponent));\n\nvar MorePopover = /** @class */ (function (_super) {\n    __extends(MorePopover, _super);\n    function MorePopover() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.handleRootEl = function (rootEl) {\n            _this.rootEl = rootEl;\n            if (rootEl) {\n                _this.context.registerInteractiveComponent(_this, {\n                    el: rootEl,\n                    useEventCenter: false,\n                });\n            }\n            else {\n                _this.context.unregisterInteractiveComponent(_this);\n            }\n        };\n        return _this;\n    }\n    MorePopover.prototype.render = function () {\n        var _a = this.context, options = _a.options, dateEnv = _a.dateEnv;\n        var props = this.props;\n        var startDate = props.startDate, todayRange = props.todayRange, dateProfile = props.dateProfile;\n        var title = dateEnv.format(startDate, options.dayPopoverFormat);\n        return (createElement(DayCellRoot, { date: startDate, dateProfile: dateProfile, todayRange: todayRange, elRef: this.handleRootEl }, function (rootElRef, dayClassNames, dataAttrs) { return (createElement(Popover, { elRef: rootElRef, title: title, extraClassNames: ['fc-more-popover'].concat(dayClassNames), extraAttrs: dataAttrs /* TODO: make these time-based when not whole-day? */, parentEl: props.parentEl, alignmentEl: props.alignmentEl, alignGridTop: props.alignGridTop, onClose: props.onClose },\n            createElement(DayCellContent, { date: startDate, dateProfile: dateProfile, todayRange: todayRange }, function (innerElRef, innerContent) { return (innerContent &&\n                createElement(\"div\", { className: \"fc-more-popover-misc\", ref: innerElRef }, innerContent)); }),\n            props.children)); }));\n    };\n    MorePopover.prototype.queryHit = function (positionLeft, positionTop, elWidth, elHeight) {\n        var _a = this, rootEl = _a.rootEl, props = _a.props;\n        if (positionLeft >= 0 && positionLeft < elWidth &&\n            positionTop >= 0 && positionTop < elHeight) {\n            return {\n                dateProfile: props.dateProfile,\n                dateSpan: __assign({ allDay: true, range: {\n                        start: props.startDate,\n                        end: props.endDate,\n                    } }, props.extraDateSpan),\n                dayEl: rootEl,\n                rect: {\n                    left: 0,\n                    top: 0,\n                    right: elWidth,\n                    bottom: elHeight,\n                },\n                layer: 1, // important when comparing with hits from other components\n            };\n        }\n        return null;\n    };\n    return MorePopover;\n}(DateComponent));\n\nvar MoreLinkRoot = /** @class */ (function (_super) {\n    __extends(MoreLinkRoot, _super);\n    function MoreLinkRoot() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.linkElRef = createRef();\n        _this.state = {\n            isPopoverOpen: false,\n        };\n        _this.handleClick = function (ev) {\n            var _a = _this, props = _a.props, context = _a.context;\n            var moreLinkClick = context.options.moreLinkClick;\n            var date = computeRange(props).start;\n            function buildPublicSeg(seg) {\n                var _a = seg.eventRange, def = _a.def, instance = _a.instance, range = _a.range;\n                return {\n                    event: new EventApi(context, def, instance),\n                    start: context.dateEnv.toDate(range.start),\n                    end: context.dateEnv.toDate(range.end),\n                    isStart: seg.isStart,\n                    isEnd: seg.isEnd,\n                };\n            }\n            if (typeof moreLinkClick === 'function') {\n                moreLinkClick = moreLinkClick({\n                    date: date,\n                    allDay: Boolean(props.allDayDate),\n                    allSegs: props.allSegs.map(buildPublicSeg),\n                    hiddenSegs: props.hiddenSegs.map(buildPublicSeg),\n                    jsEvent: ev,\n                    view: context.viewApi,\n                });\n            }\n            if (!moreLinkClick || moreLinkClick === 'popover') {\n                _this.setState({ isPopoverOpen: true });\n            }\n            else if (typeof moreLinkClick === 'string') { // a view name\n                context.calendarApi.zoomTo(date, moreLinkClick);\n            }\n        };\n        _this.handlePopoverClose = function () {\n            _this.setState({ isPopoverOpen: false });\n        };\n        return _this;\n    }\n    MoreLinkRoot.prototype.render = function () {\n        var _this = this;\n        var props = this.props;\n        return (createElement(ViewContextType.Consumer, null, function (context) {\n            var viewApi = context.viewApi, options = context.options, calendarApi = context.calendarApi;\n            var moreLinkText = options.moreLinkText;\n            var moreCnt = props.moreCnt;\n            var range = computeRange(props);\n            var hookProps = {\n                num: moreCnt,\n                shortText: \"+\" + moreCnt,\n                text: typeof moreLinkText === 'function'\n                    ? moreLinkText.call(calendarApi, moreCnt)\n                    : \"+\" + moreCnt + \" \" + moreLinkText,\n                view: viewApi,\n            };\n            return (createElement(Fragment, null,\n                Boolean(props.moreCnt) && (createElement(RenderHook, { elRef: _this.linkElRef, hookProps: hookProps, classNames: options.moreLinkClassNames, content: options.moreLinkContent, defaultContent: props.defaultContent || renderMoreLinkInner, didMount: options.moreLinkDidMount, willUnmount: options.moreLinkWillUnmount }, function (rootElRef, customClassNames, innerElRef, innerContent) { return props.children(rootElRef, ['fc-more-link'].concat(customClassNames), innerElRef, innerContent, _this.handleClick); })),\n                _this.state.isPopoverOpen && (createElement(MorePopover, { startDate: range.start, endDate: range.end, dateProfile: props.dateProfile, todayRange: props.todayRange, extraDateSpan: props.extraDateSpan, parentEl: _this.parentEl, alignmentEl: props.alignmentElRef.current, alignGridTop: props.alignGridTop, onClose: _this.handlePopoverClose }, props.popoverContent()))));\n        }));\n    };\n    MoreLinkRoot.prototype.componentDidMount = function () {\n        this.updateParentEl();\n    };\n    MoreLinkRoot.prototype.componentDidUpdate = function () {\n        this.updateParentEl();\n    };\n    MoreLinkRoot.prototype.updateParentEl = function () {\n        if (this.linkElRef.current) {\n            this.parentEl = elementClosest(this.linkElRef.current, '.fc-view-harness');\n        }\n    };\n    return MoreLinkRoot;\n}(BaseComponent));\nfunction renderMoreLinkInner(props) {\n    return props.text;\n}\nfunction computeRange(props) {\n    if (props.allDayDate) {\n        return {\n            start: props.allDayDate,\n            end: addDays(props.allDayDate, 1),\n        };\n    }\n    var hiddenSegs = props.hiddenSegs;\n    return {\n        start: computeEarliestSegStart(hiddenSegs),\n        end: computeLatestSegEnd(hiddenSegs),\n    };\n}\nfunction computeEarliestSegStart(segs) {\n    return segs.reduce(pickEarliestStart).eventRange.range.start;\n}\nfunction pickEarliestStart(seg0, seg1) {\n    return seg0.eventRange.range.start < seg1.eventRange.range.start ? seg0 : seg1;\n}\nfunction computeLatestSegEnd(segs) {\n    return segs.reduce(pickLatestEnd).eventRange.range.end;\n}\nfunction pickLatestEnd(seg0, seg1) {\n    return seg0.eventRange.range.end > seg1.eventRange.range.end ? seg0 : seg1;\n}\n\n// exports\n// --------------------------------------------------------------------------------------------------\nvar version = '5.7.2'; // important to type it, so .d.ts has generic string\n\nexport { BASE_OPTION_DEFAULTS, BASE_OPTION_REFINERS, BaseComponent, BgEvent, CalendarApi, CalendarContent, CalendarDataManager, CalendarDataProvider, CalendarRoot, ContentHook, CustomContentRenderContext, DateComponent, DateEnv, DateProfileGenerator, DayCellContent, DayCellRoot, DayHeader, DaySeriesModel, DayTableModel, DelayedRunner, ElementDragging, ElementScrollController, Emitter, EventApi, EventRoot, EventSourceApi, Interaction, MoreLinkRoot, MountHook, NamedTimeZoneImpl, NowIndicatorRoot, NowTimer, PositionCache, RefMap, RenderHook, ScrollController, ScrollResponder, Scroller, SegHierarchy, SimpleScrollGrid, Slicer, Splitter, StandardEvent, TableDateCell, TableDowCell, Theme, ViewApi, ViewContextType, ViewRoot, WeekNumberRoot, WindowScrollController, addDays, addDurations, addMs, addWeeks, allowContextMenu, allowSelection, applyMutationToEventStore, applyStyle, applyStyleProp, asCleanDays, asRoughMinutes, asRoughMs, asRoughSeconds, binarySearch, buildClassNameNormalizer, buildEntryKey, buildEventApis, buildEventRangeKey, buildHashFromArray, buildIsoString, buildNavLinkData, buildSegCompareObj, buildSegTimeText, collectFromHash, combineEventUis, compareByFieldSpec, compareByFieldSpecs, compareNumbers, compareObjs, computeEarliestSegStart, computeEdges, computeFallbackHeaderFormat, computeHeightAndMargins, computeInnerRect, computeRect, computeSegDraggable, computeSegEndResizable, computeSegStartResizable, computeShrinkWidth, computeSmallestCellWidth, computeVisibleDayRange, config, constrainPoint, createDuration, createEmptyEventStore, createEventInstance, createEventUi, createFormatter, createPlugin, diffDates, diffDayAndTime, diffDays, diffPoints, diffWeeks, diffWholeDays, diffWholeWeeks, disableCursor, elementClosest, elementMatches, enableCursor, eventTupleToStore, filterEventStoreDefs, filterHash, findDirectChildren, findElements, flexibleCompare, formatDate, formatDayString, formatIsoTimeString, formatRange, getAllowYScrolling, getCanVGrowWithinCell, getClippingParents, getDateMeta, getDayClassNames, getDefaultEventEnd, getElSeg, getEntrySpanEnd, getEventClassNames, getIsRtlScrollbarOnLeft, getRectCenter, getRelevantEvents, getScrollGridClassNames, getScrollbarWidths, getSectionClassNames, getSectionHasLiquidHeight, getSegMeta, getSlotClassNames, getStickyFooterScrollbar, getStickyHeaderDates, getUnequalProps, globalLocales, globalPlugins, greatestDurationDenominator, groupIntersectingEntries, guid, hasBgRendering, hasShrinkWidth, identity, interactionSettingsStore, interactionSettingsToStore, intersectRanges, intersectRects, isArraysEqual, isColPropsEqual, isDateSelectionValid, isDateSpansEqual, isInt, isInteractionValid, isMultiDayRange, isPropsEqual, isPropsValid, isValidDate, listenBySelector, mapHash, memoize, memoizeArraylike, memoizeHashlike, memoizeObjArg, mergeEventStores, multiplyDuration, padStart, parseBusinessHours, parseClassNames, parseDragMeta, parseEventDef, parseFieldSpecs, parse as parseMarker, pointInsideRect, preventContextMenu, preventDefault, preventSelection, rangeContainsMarker, rangeContainsRange, rangesEqual, rangesIntersect, refineEventDef, refineProps, removeElement, removeExact, renderChunkContent, renderFill, renderMicroColGroup, renderScrollShim, requestJson, sanitizeShrinkWidth, setElSeg, setRef, sliceEventStore, sliceEvents, sortEventSegs, startOfDay, translateRect, triggerDateSelect, unpromisify, version, whenTransitionDone, wholeDivideDurations };\n","/// <reference types=\"@fullcalendar/core-preact\" />\nif (typeof FullCalendarVDom === 'undefined') {\n    throw new Error('Please import the top-level fullcalendar lib before attempting to import a plugin.');\n}\nvar Component = FullCalendarVDom.Component;\nvar createElement = FullCalendarVDom.createElement;\nvar render = FullCalendarVDom.render;\nvar createRef = FullCalendarVDom.createRef;\nvar Fragment = FullCalendarVDom.Fragment;\nvar createContext = FullCalendarVDom.createContext;\nvar createPortal = FullCalendarVDom.createPortal;\nvar flushToDom = FullCalendarVDom.flushToDom;\nvar unmountComponentAtNode = FullCalendarVDom.unmountComponentAtNode;\n/* eslint-enable */\n\nexport { Component, Fragment, createContext, createElement, createPortal, createRef, flushToDom, render, unmountComponentAtNode };\n","/*!\nFullCalendar v5.7.2\nDocs & License: https://fullcalendar.io/\n(c) 2021 Adam Shaw\n*/\nimport './vdom.js';\nimport { __extends, __assign } from 'tslib';\nimport { render, createElement, CalendarRoot, CustomContentRenderContext, CalendarContent, unmountComponentAtNode, flushToDom, DelayedRunner, CalendarDataManager, isArraysEqual, applyStyleProp, CalendarApi } from '@fullcalendar/common';\nexport * from '@fullcalendar/common';\n\nvar Calendar = /** @class */ (function (_super) {\n    __extends(Calendar, _super);\n    function Calendar(el, optionOverrides) {\n        if (optionOverrides === void 0) { optionOverrides = {}; }\n        var _this = _super.call(this) || this;\n        _this.isRendering = false;\n        _this.isRendered = false;\n        _this.currentClassNames = [];\n        _this.customContentRenderId = 0; // will affect custom generated classNames?\n        _this.handleAction = function (action) {\n            // actions we know we want to render immediately\n            switch (action.type) {\n                case 'SET_EVENT_DRAG':\n                case 'SET_EVENT_RESIZE':\n                    _this.renderRunner.tryDrain();\n            }\n        };\n        _this.handleData = function (data) {\n            _this.currentData = data;\n            _this.renderRunner.request(data.calendarOptions.rerenderDelay);\n        };\n        _this.handleRenderRequest = function () {\n            if (_this.isRendering) {\n                _this.isRendered = true;\n                var currentData_1 = _this.currentData;\n                render(createElement(CalendarRoot, { options: currentData_1.calendarOptions, theme: currentData_1.theme, emitter: currentData_1.emitter }, function (classNames, height, isHeightAuto, forPrint) {\n                    _this.setClassNames(classNames);\n                    _this.setHeight(height);\n                    return (createElement(CustomContentRenderContext.Provider, { value: _this.customContentRenderId },\n                        createElement(CalendarContent, __assign({ isHeightAuto: isHeightAuto, forPrint: forPrint }, currentData_1))));\n                }), _this.el);\n            }\n            else if (_this.isRendered) {\n                _this.isRendered = false;\n                unmountComponentAtNode(_this.el);\n                _this.setClassNames([]);\n                _this.setHeight('');\n            }\n            flushToDom();\n        };\n        _this.el = el;\n        _this.renderRunner = new DelayedRunner(_this.handleRenderRequest);\n        new CalendarDataManager({\n            optionOverrides: optionOverrides,\n            calendarApi: _this,\n            onAction: _this.handleAction,\n            onData: _this.handleData,\n        });\n        return _this;\n    }\n    Object.defineProperty(Calendar.prototype, \"view\", {\n        get: function () { return this.currentData.viewApi; } // for public API\n        ,\n        enumerable: false,\n        configurable: true\n    });\n    Calendar.prototype.render = function () {\n        var wasRendering = this.isRendering;\n        if (!wasRendering) {\n            this.isRendering = true;\n        }\n        else {\n            this.customContentRenderId += 1;\n        }\n        this.renderRunner.request();\n        if (wasRendering) {\n            this.updateSize();\n        }\n    };\n    Calendar.prototype.destroy = function () {\n        if (this.isRendering) {\n            this.isRendering = false;\n            this.renderRunner.request();\n        }\n    };\n    Calendar.prototype.updateSize = function () {\n        _super.prototype.updateSize.call(this);\n        flushToDom();\n    };\n    Calendar.prototype.batchRendering = function (func) {\n        this.renderRunner.pause('batchRendering');\n        func();\n        this.renderRunner.resume('batchRendering');\n    };\n    Calendar.prototype.pauseRendering = function () {\n        this.renderRunner.pause('pauseRendering');\n    };\n    Calendar.prototype.resumeRendering = function () {\n        this.renderRunner.resume('pauseRendering', true);\n    };\n    Calendar.prototype.resetOptions = function (optionOverrides, append) {\n        this.currentDataManager.resetOptions(optionOverrides, append);\n    };\n    Calendar.prototype.setClassNames = function (classNames) {\n        if (!isArraysEqual(classNames, this.currentClassNames)) {\n            var classList = this.el.classList;\n            for (var _i = 0, _a = this.currentClassNames; _i < _a.length; _i++) {\n                var className = _a[_i];\n                classList.remove(className);\n            }\n            for (var _b = 0, classNames_1 = classNames; _b < classNames_1.length; _b++) {\n                var className = classNames_1[_b];\n                classList.add(className);\n            }\n            this.currentClassNames = classNames;\n        }\n    };\n    Calendar.prototype.setHeight = function (height) {\n        applyStyleProp(this.el, 'height', height);\n    };\n    return Calendar;\n}(CalendarApi));\n\nexport { Calendar };\n","import { __extends } from 'tslib';\nimport * as preact from 'preact';\nimport * as preactCompat from 'preact/compat';\n\nvar globalObj = typeof globalThis !== 'undefined' ? globalThis : window; // // TODO: streamline when killing IE11 support\nif (globalObj.FullCalendarVDom) {\n    console.warn('FullCalendar VDOM already loaded');\n}\nelse {\n    globalObj.FullCalendarVDom = {\n        Component: preact.Component,\n        createElement: preact.createElement,\n        render: preact.render,\n        createRef: preact.createRef,\n        Fragment: preact.Fragment,\n        createContext: createContext,\n        createPortal: preactCompat.createPortal,\n        flushToDom: flushToDom,\n        unmountComponentAtNode: unmountComponentAtNode,\n    };\n}\n// HACKS...\n// TODO: lock version\n// TODO: link gh issues\nfunction flushToDom() {\n    var oldDebounceRendering = preact.options.debounceRendering; // orig\n    var callbackQ = [];\n    function execCallbackSync(callback) {\n        callbackQ.push(callback);\n    }\n    preact.options.debounceRendering = execCallbackSync;\n    preact.render(preact.createElement(FakeComponent, {}), document.createElement('div'));\n    while (callbackQ.length) {\n        callbackQ.shift()();\n    }\n    preact.options.debounceRendering = oldDebounceRendering;\n}\nvar FakeComponent = /** @class */ (function (_super) {\n    __extends(FakeComponent, _super);\n    function FakeComponent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    FakeComponent.prototype.render = function () { return preact.createElement('div', {}); };\n    FakeComponent.prototype.componentDidMount = function () { this.setState({}); };\n    return FakeComponent;\n}(preact.Component));\nfunction createContext(defaultValue) {\n    var ContextType = preact.createContext(defaultValue);\n    var origProvider = ContextType.Provider;\n    ContextType.Provider = function () {\n        var _this = this;\n        var isNew = !this.getChildContext;\n        var children = origProvider.apply(this, arguments); // eslint-disable-line prefer-rest-params\n        if (isNew) {\n            var subs_1 = [];\n            this.shouldComponentUpdate = function (_props) {\n                if (_this.props.value !== _props.value) {\n                    subs_1.forEach(function (c) {\n                        c.context = _props.value;\n                        c.forceUpdate();\n                    });\n                }\n            };\n            this.sub = function (c) {\n                subs_1.push(c);\n                var old = c.componentWillUnmount;\n                c.componentWillUnmount = function () {\n                    subs_1.splice(subs_1.indexOf(c), 1);\n                    old && old.call(c);\n                };\n            };\n        }\n        return children;\n    };\n    return ContextType;\n}\nfunction unmountComponentAtNode(node) {\n    preact.render(null, node);\n}\n","/*!\nFullCalendar v5.7.2\nDocs & License: https://fullcalendar.io/\n(c) 2021 Adam Shaw\n*/\nimport './main.css';\n\nimport { createRef, getStickyHeaderDates, createElement, ViewRoot, SimpleScrollGrid, getStickyFooterScrollbar, renderScrollShim, DateComponent, buildNavLinkData, DayCellContent, Fragment, BaseComponent, createFormatter, StandardEvent, buildSegTimeText, EventRoot, memoize, MoreLinkRoot, getSegMeta, setRef, DayCellRoot, WeekNumberRoot, buildEntryKey, SegHierarchy, intersectRanges, addDays, RefMap, sortEventSegs, isPropsEqual, buildEventRangeKey, BgEvent, renderFill, PositionCache, NowTimer, Slicer, DayHeader, DaySeriesModel, DayTableModel, addWeeks, diffWeeks, DateProfileGenerator, createPlugin } from '@fullcalendar/common';\nimport { __extends, __assign, __spreadArray } from 'tslib';\n\n/* An abstract class for the daygrid views, as well as month view. Renders one or more rows of day cells.\n----------------------------------------------------------------------------------------------------------------------*/\n// It is a manager for a Table subcomponent, which does most of the heavy lifting.\n// It is responsible for managing width/height.\nvar TableView = /** @class */ (function (_super) {\n    __extends(TableView, _super);\n    function TableView() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.headerElRef = createRef();\n        return _this;\n    }\n    TableView.prototype.renderSimpleLayout = function (headerRowContent, bodyContent) {\n        var _a = this, props = _a.props, context = _a.context;\n        var sections = [];\n        var stickyHeaderDates = getStickyHeaderDates(context.options);\n        if (headerRowContent) {\n            sections.push({\n                type: 'header',\n                key: 'header',\n                isSticky: stickyHeaderDates,\n                chunk: {\n                    elRef: this.headerElRef,\n                    tableClassName: 'fc-col-header',\n                    rowContent: headerRowContent,\n                },\n            });\n        }\n        sections.push({\n            type: 'body',\n            key: 'body',\n            liquid: true,\n            chunk: { content: bodyContent },\n        });\n        return (createElement(ViewRoot, { viewSpec: context.viewSpec }, function (rootElRef, classNames) { return (createElement(\"div\", { ref: rootElRef, className: ['fc-daygrid'].concat(classNames).join(' ') },\n            createElement(SimpleScrollGrid, { liquid: !props.isHeightAuto && !props.forPrint, collapsibleWidth: props.forPrint, cols: [] /* TODO: make optional? */, sections: sections }))); }));\n    };\n    TableView.prototype.renderHScrollLayout = function (headerRowContent, bodyContent, colCnt, dayMinWidth) {\n        var ScrollGrid = this.context.pluginHooks.scrollGridImpl;\n        if (!ScrollGrid) {\n            throw new Error('No ScrollGrid implementation');\n        }\n        var _a = this, props = _a.props, context = _a.context;\n        var stickyHeaderDates = !props.forPrint && getStickyHeaderDates(context.options);\n        var stickyFooterScrollbar = !props.forPrint && getStickyFooterScrollbar(context.options);\n        var sections = [];\n        if (headerRowContent) {\n            sections.push({\n                type: 'header',\n                key: 'header',\n                isSticky: stickyHeaderDates,\n                chunks: [{\n                        key: 'main',\n                        elRef: this.headerElRef,\n                        tableClassName: 'fc-col-header',\n                        rowContent: headerRowContent,\n                    }],\n            });\n        }\n        sections.push({\n            type: 'body',\n            key: 'body',\n            liquid: true,\n            chunks: [{\n                    key: 'main',\n                    content: bodyContent,\n                }],\n        });\n        if (stickyFooterScrollbar) {\n            sections.push({\n                type: 'footer',\n                key: 'footer',\n                isSticky: true,\n                chunks: [{\n                        key: 'main',\n                        content: renderScrollShim,\n                    }],\n            });\n        }\n        return (createElement(ViewRoot, { viewSpec: context.viewSpec }, function (rootElRef, classNames) { return (createElement(\"div\", { ref: rootElRef, className: ['fc-daygrid'].concat(classNames).join(' ') },\n            createElement(ScrollGrid, { liquid: !props.isHeightAuto && !props.forPrint, collapsibleWidth: props.forPrint, colGroups: [{ cols: [{ span: colCnt, minWidth: dayMinWidth }] }], sections: sections }))); }));\n    };\n    return TableView;\n}(DateComponent));\n\nfunction splitSegsByRow(segs, rowCnt) {\n    var byRow = [];\n    for (var i = 0; i < rowCnt; i += 1) {\n        byRow[i] = [];\n    }\n    for (var _i = 0, segs_1 = segs; _i < segs_1.length; _i++) {\n        var seg = segs_1[_i];\n        byRow[seg.row].push(seg);\n    }\n    return byRow;\n}\nfunction splitSegsByFirstCol(segs, colCnt) {\n    var byCol = [];\n    for (var i = 0; i < colCnt; i += 1) {\n        byCol[i] = [];\n    }\n    for (var _i = 0, segs_2 = segs; _i < segs_2.length; _i++) {\n        var seg = segs_2[_i];\n        byCol[seg.firstCol].push(seg);\n    }\n    return byCol;\n}\nfunction splitInteractionByRow(ui, rowCnt) {\n    var byRow = [];\n    if (!ui) {\n        for (var i = 0; i < rowCnt; i += 1) {\n            byRow[i] = null;\n        }\n    }\n    else {\n        for (var i = 0; i < rowCnt; i += 1) {\n            byRow[i] = {\n                affectedInstances: ui.affectedInstances,\n                isEvent: ui.isEvent,\n                segs: [],\n            };\n        }\n        for (var _i = 0, _a = ui.segs; _i < _a.length; _i++) {\n            var seg = _a[_i];\n            byRow[seg.row].segs.push(seg);\n        }\n    }\n    return byRow;\n}\n\nvar TableCellTop = /** @class */ (function (_super) {\n    __extends(TableCellTop, _super);\n    function TableCellTop() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TableCellTop.prototype.render = function () {\n        var props = this.props;\n        var navLinkAttrs = this.context.options.navLinks\n            ? { 'data-navlink': buildNavLinkData(props.date), tabIndex: 0 }\n            : {};\n        return (createElement(DayCellContent, { date: props.date, dateProfile: props.dateProfile, todayRange: props.todayRange, showDayNumber: props.showDayNumber, extraHookProps: props.extraHookProps, defaultContent: renderTopInner }, function (innerElRef, innerContent) { return ((innerContent || props.forceDayTop) && (createElement(\"div\", { className: \"fc-daygrid-day-top\", ref: innerElRef },\n            createElement(\"a\", __assign({ className: \"fc-daygrid-day-number\" }, navLinkAttrs), innerContent || createElement(Fragment, null, \"\\u00A0\"))))); }));\n    };\n    return TableCellTop;\n}(BaseComponent));\nfunction renderTopInner(props) {\n    return props.dayNumberText;\n}\n\nvar DEFAULT_TABLE_EVENT_TIME_FORMAT = createFormatter({\n    hour: 'numeric',\n    minute: '2-digit',\n    omitZeroMinute: true,\n    meridiem: 'narrow',\n});\nfunction hasListItemDisplay(seg) {\n    var display = seg.eventRange.ui.display;\n    return display === 'list-item' || (display === 'auto' &&\n        !seg.eventRange.def.allDay &&\n        seg.firstCol === seg.lastCol && // can't be multi-day\n        seg.isStart && // \"\n        seg.isEnd // \"\n    );\n}\n\nvar TableBlockEvent = /** @class */ (function (_super) {\n    __extends(TableBlockEvent, _super);\n    function TableBlockEvent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TableBlockEvent.prototype.render = function () {\n        var props = this.props;\n        return (createElement(StandardEvent, __assign({}, props, { extraClassNames: ['fc-daygrid-event', 'fc-daygrid-block-event', 'fc-h-event'], defaultTimeFormat: DEFAULT_TABLE_EVENT_TIME_FORMAT, defaultDisplayEventEnd: props.defaultDisplayEventEnd, disableResizing: !props.seg.eventRange.def.allDay })));\n    };\n    return TableBlockEvent;\n}(BaseComponent));\n\nvar TableListItemEvent = /** @class */ (function (_super) {\n    __extends(TableListItemEvent, _super);\n    function TableListItemEvent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TableListItemEvent.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        var timeFormat = context.options.eventTimeFormat || DEFAULT_TABLE_EVENT_TIME_FORMAT;\n        var timeText = buildSegTimeText(props.seg, timeFormat, context, true, props.defaultDisplayEventEnd);\n        return (createElement(EventRoot, { seg: props.seg, timeText: timeText, defaultContent: renderInnerContent, isDragging: props.isDragging, isResizing: false, isDateSelecting: false, isSelected: props.isSelected, isPast: props.isPast, isFuture: props.isFuture, isToday: props.isToday }, function (rootElRef, classNames, innerElRef, innerContent) { return ( // we don't use styles!\n        createElement(\"a\", __assign({ className: ['fc-daygrid-event', 'fc-daygrid-dot-event'].concat(classNames).join(' '), ref: rootElRef }, getSegAnchorAttrs(props.seg)), innerContent)); }));\n    };\n    return TableListItemEvent;\n}(BaseComponent));\nfunction renderInnerContent(innerProps) {\n    return (createElement(Fragment, null,\n        createElement(\"div\", { className: \"fc-daygrid-event-dot\", style: { borderColor: innerProps.borderColor || innerProps.backgroundColor } }),\n        innerProps.timeText && (createElement(\"div\", { className: \"fc-event-time\" }, innerProps.timeText)),\n        createElement(\"div\", { className: \"fc-event-title\" }, innerProps.event.title || createElement(Fragment, null, \"\\u00A0\"))));\n}\nfunction getSegAnchorAttrs(seg) {\n    var url = seg.eventRange.def.url;\n    return url ? { href: url } : {};\n}\n\nvar TableCellMoreLink = /** @class */ (function (_super) {\n    __extends(TableCellMoreLink, _super);\n    function TableCellMoreLink() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.compileSegs = memoize(compileSegs);\n        return _this;\n    }\n    TableCellMoreLink.prototype.render = function () {\n        var props = this.props;\n        var _a = this.compileSegs(props.singlePlacements), allSegs = _a.allSegs, invisibleSegs = _a.invisibleSegs;\n        return (createElement(MoreLinkRoot, { dateProfile: props.dateProfile, todayRange: props.todayRange, allDayDate: props.allDayDate, moreCnt: props.moreCnt, allSegs: allSegs, hiddenSegs: invisibleSegs, alignmentElRef: props.alignmentElRef, alignGridTop: props.alignGridTop, extraDateSpan: props.extraDateSpan, popoverContent: function () {\n                var isForcedInvisible = (props.eventDrag ? props.eventDrag.affectedInstances : null) ||\n                    (props.eventResize ? props.eventResize.affectedInstances : null) ||\n                    {};\n                return (createElement(Fragment, null, allSegs.map(function (seg) {\n                    var instanceId = seg.eventRange.instance.instanceId;\n                    return (createElement(\"div\", { className: \"fc-daygrid-event-harness\", key: instanceId, style: {\n                            visibility: isForcedInvisible[instanceId] ? 'hidden' : '',\n                        } }, hasListItemDisplay(seg) ? (createElement(TableListItemEvent, __assign({ seg: seg, isDragging: false, isSelected: instanceId === props.eventSelection, defaultDisplayEventEnd: false }, getSegMeta(seg, props.todayRange)))) : (createElement(TableBlockEvent, __assign({ seg: seg, isDragging: false, isResizing: false, isDateSelecting: false, isSelected: instanceId === props.eventSelection, defaultDisplayEventEnd: false }, getSegMeta(seg, props.todayRange))))));\n                })));\n            } }, function (rootElRef, classNames, innerElRef, innerContent, handleClick) { return (createElement(\"a\", { ref: rootElRef, className: ['fc-daygrid-more-link'].concat(classNames).join(' '), onClick: handleClick }, innerContent)); }));\n    };\n    return TableCellMoreLink;\n}(BaseComponent));\nfunction compileSegs(singlePlacements) {\n    var allSegs = [];\n    var invisibleSegs = [];\n    for (var _i = 0, singlePlacements_1 = singlePlacements; _i < singlePlacements_1.length; _i++) {\n        var placement = singlePlacements_1[_i];\n        allSegs.push(placement.seg);\n        if (!placement.isVisible) {\n            invisibleSegs.push(placement.seg);\n        }\n    }\n    return { allSegs: allSegs, invisibleSegs: invisibleSegs };\n}\n\nvar DEFAULT_WEEK_NUM_FORMAT = createFormatter({ week: 'narrow' });\nvar TableCell = /** @class */ (function (_super) {\n    __extends(TableCell, _super);\n    function TableCell() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.rootElRef = createRef();\n        _this.handleRootEl = function (el) {\n            setRef(_this.rootElRef, el);\n            setRef(_this.props.elRef, el);\n        };\n        return _this;\n    }\n    TableCell.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context, rootElRef = _a.rootElRef;\n        var options = context.options;\n        var date = props.date, dateProfile = props.dateProfile;\n        var navLinkAttrs = options.navLinks\n            ? { 'data-navlink': buildNavLinkData(date, 'week'), tabIndex: 0 }\n            : {};\n        return (createElement(DayCellRoot, { date: date, dateProfile: dateProfile, todayRange: props.todayRange, showDayNumber: props.showDayNumber, extraHookProps: props.extraHookProps, elRef: this.handleRootEl }, function (dayElRef, dayClassNames, rootDataAttrs, isDisabled) { return (createElement(\"td\", __assign({ ref: dayElRef, className: ['fc-daygrid-day'].concat(dayClassNames, props.extraClassNames || []).join(' ') }, rootDataAttrs, props.extraDataAttrs),\n            createElement(\"div\", { className: \"fc-daygrid-day-frame fc-scrollgrid-sync-inner\", ref: props.innerElRef /* different from hook system! RENAME */ },\n                props.showWeekNumber && (createElement(WeekNumberRoot, { date: date, defaultFormat: DEFAULT_WEEK_NUM_FORMAT }, function (weekElRef, weekClassNames, innerElRef, innerContent) { return (createElement(\"a\", __assign({ ref: weekElRef, className: ['fc-daygrid-week-number'].concat(weekClassNames).join(' ') }, navLinkAttrs), innerContent)); })),\n                !isDisabled && (createElement(TableCellTop, { date: date, dateProfile: dateProfile, showDayNumber: props.showDayNumber, forceDayTop: props.forceDayTop, todayRange: props.todayRange, extraHookProps: props.extraHookProps })),\n                createElement(\"div\", { className: \"fc-daygrid-day-events\", ref: props.fgContentElRef },\n                    props.fgContent,\n                    createElement(\"div\", { className: \"fc-daygrid-day-bottom\", style: { marginTop: props.moreMarginTop } },\n                        createElement(TableCellMoreLink, { allDayDate: date, singlePlacements: props.singlePlacements, moreCnt: props.moreCnt, alignmentElRef: rootElRef, alignGridTop: !props.showDayNumber, extraDateSpan: props.extraDateSpan, dateProfile: props.dateProfile, eventSelection: props.eventSelection, eventDrag: props.eventDrag, eventResize: props.eventResize, todayRange: props.todayRange }))),\n                createElement(\"div\", { className: \"fc-daygrid-day-bg\" }, props.bgContent)))); }));\n    };\n    return TableCell;\n}(DateComponent));\n\nfunction computeFgSegPlacement(segs, // assumed already sorted\ndayMaxEvents, dayMaxEventRows, strictOrder, eventInstanceHeights, maxContentHeight, cells) {\n    var hierarchy = new DayGridSegHierarchy();\n    hierarchy.allowReslicing = true;\n    hierarchy.strictOrder = strictOrder;\n    if (dayMaxEvents === true || dayMaxEventRows === true) {\n        hierarchy.maxCoord = maxContentHeight;\n        hierarchy.hiddenConsumes = true;\n    }\n    else if (typeof dayMaxEvents === 'number') {\n        hierarchy.maxStackCnt = dayMaxEvents;\n    }\n    else if (typeof dayMaxEventRows === 'number') {\n        hierarchy.maxStackCnt = dayMaxEventRows;\n        hierarchy.hiddenConsumes = true;\n    }\n    // create segInputs only for segs with known heights\n    var segInputs = [];\n    var unknownHeightSegs = [];\n    for (var i = 0; i < segs.length; i += 1) {\n        var seg = segs[i];\n        var instanceId = seg.eventRange.instance.instanceId;\n        var eventHeight = eventInstanceHeights[instanceId];\n        if (eventHeight != null) {\n            segInputs.push({\n                index: i,\n                spanStart: seg.firstCol,\n                spanEnd: seg.lastCol + 1,\n                thickness: eventHeight,\n            });\n        }\n        else {\n            unknownHeightSegs.push(seg);\n        }\n    }\n    var hiddenEntries = hierarchy.addSegs(segInputs);\n    var segRects = hierarchy.toRects();\n    var _a = placeRects(segRects, segs, cells), singleColPlacements = _a.singleColPlacements, multiColPlacements = _a.multiColPlacements, leftoverMargins = _a.leftoverMargins;\n    var moreCnts = [];\n    var moreMarginTops = [];\n    // add segs with unknown heights\n    for (var _i = 0, unknownHeightSegs_1 = unknownHeightSegs; _i < unknownHeightSegs_1.length; _i++) {\n        var seg = unknownHeightSegs_1[_i];\n        multiColPlacements[seg.firstCol].push({\n            seg: seg,\n            isVisible: false,\n            isAbsolute: true,\n            absoluteTop: 0,\n            marginTop: 0,\n        });\n        for (var col = seg.firstCol; col <= seg.lastCol; col += 1) {\n            singleColPlacements[col].push({\n                seg: resliceSeg(seg, col, col + 1, cells),\n                isVisible: false,\n                isAbsolute: false,\n                absoluteTop: 0,\n                marginTop: 0,\n            });\n        }\n    }\n    // add the hidden entries\n    for (var col = 0; col < cells.length; col += 1) {\n        moreCnts.push(0);\n    }\n    for (var _b = 0, hiddenEntries_1 = hiddenEntries; _b < hiddenEntries_1.length; _b++) {\n        var hiddenEntry = hiddenEntries_1[_b];\n        var seg = segs[hiddenEntry.segInput.index];\n        multiColPlacements[hiddenEntry.spanStart].push({\n            seg: seg,\n            isVisible: false,\n            isAbsolute: true,\n            absoluteTop: 0,\n            marginTop: 0,\n        });\n        for (var col = hiddenEntry.spanStart; col < hiddenEntry.spanEnd; col += 1) {\n            moreCnts[col] += 1;\n            singleColPlacements[col].push({\n                seg: resliceSeg(seg, col, col + 1, cells),\n                isVisible: false,\n                isAbsolute: false,\n                absoluteTop: 0,\n                marginTop: 0,\n            });\n        }\n    }\n    // deal with leftover margins\n    for (var col = 0; col < cells.length; col += 1) {\n        moreMarginTops.push(leftoverMargins[col]);\n    }\n    return { singleColPlacements: singleColPlacements, multiColPlacements: multiColPlacements, moreCnts: moreCnts, moreMarginTops: moreMarginTops };\n}\n// rects ordered by top coord, then left\nfunction placeRects(allRects, segs, cells) {\n    var rectsByEachCol = groupRectsByEachCol(allRects, cells.length);\n    var singleColPlacements = [];\n    var multiColPlacements = [];\n    var leftoverMargins = [];\n    for (var col = 0; col < cells.length; col += 1) {\n        var rects = rectsByEachCol[col];\n        // compute all static segs in singlePlacements\n        var singlePlacements = [];\n        var currentHeight = 0;\n        var currentMarginTop = 0;\n        for (var _i = 0, rects_1 = rects; _i < rects_1.length; _i++) {\n            var rect = rects_1[_i];\n            var seg = segs[rect.segInput.index];\n            singlePlacements.push({\n                seg: resliceSeg(seg, col, col + 1, cells),\n                isVisible: true,\n                isAbsolute: false,\n                absoluteTop: 0,\n                marginTop: rect.levelCoord - currentHeight,\n            });\n            currentHeight = rect.levelCoord + rect.thickness;\n        }\n        // compute mixed static/absolute segs in multiPlacements\n        var multiPlacements = [];\n        currentHeight = 0;\n        currentMarginTop = 0;\n        for (var _a = 0, rects_2 = rects; _a < rects_2.length; _a++) {\n            var rect = rects_2[_a];\n            var seg = segs[rect.segInput.index];\n            var isAbsolute = rect.spanEnd - rect.spanStart > 1; // multi-column?\n            var isFirstCol = rect.spanStart === col;\n            currentMarginTop += rect.levelCoord - currentHeight; // amount of space since bottom of previous seg\n            currentHeight = rect.levelCoord + rect.thickness; // height will now be bottom of current seg\n            if (isAbsolute) {\n                currentMarginTop += rect.thickness;\n                if (isFirstCol) {\n                    multiPlacements.push({\n                        seg: resliceSeg(seg, rect.spanStart, rect.spanEnd, cells),\n                        isVisible: true,\n                        isAbsolute: true,\n                        absoluteTop: rect.levelCoord,\n                        marginTop: 0,\n                    });\n                }\n            }\n            else if (isFirstCol) {\n                multiPlacements.push({\n                    seg: resliceSeg(seg, rect.spanStart, rect.spanEnd, cells),\n                    isVisible: true,\n                    isAbsolute: false,\n                    absoluteTop: 0,\n                    marginTop: currentMarginTop, // claim the margin\n                });\n                currentMarginTop = 0;\n            }\n        }\n        singleColPlacements.push(singlePlacements);\n        multiColPlacements.push(multiPlacements);\n        leftoverMargins.push(currentMarginTop);\n    }\n    return { singleColPlacements: singleColPlacements, multiColPlacements: multiColPlacements, leftoverMargins: leftoverMargins };\n}\nfunction groupRectsByEachCol(rects, colCnt) {\n    var rectsByEachCol = [];\n    for (var col = 0; col < colCnt; col += 1) {\n        rectsByEachCol.push([]);\n    }\n    for (var _i = 0, rects_3 = rects; _i < rects_3.length; _i++) {\n        var rect = rects_3[_i];\n        for (var col = rect.spanStart; col < rect.spanEnd; col += 1) {\n            rectsByEachCol[col].push(rect);\n        }\n    }\n    return rectsByEachCol;\n}\nfunction resliceSeg(seg, spanStart, spanEnd, cells) {\n    if (seg.firstCol === spanStart && seg.lastCol === spanEnd - 1) {\n        return seg;\n    }\n    var eventRange = seg.eventRange;\n    var origRange = eventRange.range;\n    var slicedRange = intersectRanges(origRange, {\n        start: cells[spanStart].date,\n        end: addDays(cells[spanEnd - 1].date, 1),\n    });\n    return __assign(__assign({}, seg), { firstCol: spanStart, lastCol: spanEnd - 1, eventRange: {\n            def: eventRange.def,\n            ui: __assign(__assign({}, eventRange.ui), { durationEditable: false }),\n            instance: eventRange.instance,\n            range: slicedRange,\n        }, isStart: seg.isStart && slicedRange.start.valueOf() === origRange.start.valueOf(), isEnd: seg.isEnd && slicedRange.end.valueOf() === origRange.end.valueOf() });\n}\nvar DayGridSegHierarchy = /** @class */ (function (_super) {\n    __extends(DayGridSegHierarchy, _super);\n    function DayGridSegHierarchy() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        // config\n        _this.hiddenConsumes = false;\n        // allows us to keep hidden entries in the hierarchy so they take up space\n        _this.forceHidden = {};\n        return _this;\n    }\n    DayGridSegHierarchy.prototype.addSegs = function (segInputs) {\n        var _this = this;\n        var hiddenSegs = _super.prototype.addSegs.call(this, segInputs);\n        var entriesByLevel = this.entriesByLevel;\n        var excludeHidden = function (entry) { return !_this.forceHidden[buildEntryKey(entry)]; };\n        // remove the forced-hidden segs\n        for (var level = 0; level < entriesByLevel.length; level += 1) {\n            entriesByLevel[level] = entriesByLevel[level].filter(excludeHidden);\n        }\n        return hiddenSegs;\n    };\n    DayGridSegHierarchy.prototype.handleInvalidInsertion = function (insertion, entry, hiddenEntries) {\n        var _a = this, entriesByLevel = _a.entriesByLevel, forceHidden = _a.forceHidden;\n        var level = insertion.nextLevel - 1;\n        if (this.hiddenConsumes && level >= 0) {\n            for (var lateral = insertion.lateralStart; lateral < insertion.lateralEnd; lateral += 1) {\n                var leadingEntry = entriesByLevel[level][lateral];\n                if (this.allowReslicing) {\n                    var placeholderEntry = __assign(__assign({}, leadingEntry), { spanStart: Math.max(leadingEntry.spanStart, entry.spanStart), spanEnd: Math.min(leadingEntry.spanEnd, entry.spanEnd) });\n                    var placeholderEntryId = buildEntryKey(placeholderEntry);\n                    if (!forceHidden[placeholderEntryId]) {\n                        forceHidden[placeholderEntryId] = true;\n                        entriesByLevel[level][lateral] = placeholderEntry;\n                        this.splitEntry(leadingEntry, entry, hiddenEntries); // split up the leadingEntry\n                    }\n                }\n                else {\n                    var placeholderEntryId = buildEntryKey(leadingEntry);\n                    if (!forceHidden[placeholderEntryId]) {\n                        forceHidden[placeholderEntryId] = true;\n                        hiddenEntries.push(leadingEntry);\n                    }\n                }\n            }\n        }\n        return _super.prototype.handleInvalidInsertion.call(this, insertion, entry, hiddenEntries);\n    };\n    return DayGridSegHierarchy;\n}(SegHierarchy));\n\nvar TableRow = /** @class */ (function (_super) {\n    __extends(TableRow, _super);\n    function TableRow() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.cellElRefs = new RefMap(); // the <td>\n        _this.frameElRefs = new RefMap(); // the fc-daygrid-day-frame\n        _this.fgElRefs = new RefMap(); // the fc-daygrid-day-events\n        _this.segHarnessRefs = new RefMap(); // indexed by \"instanceId:firstCol\"\n        _this.rootElRef = createRef();\n        _this.state = {\n            framePositions: null,\n            maxContentHeight: null,\n            eventInstanceHeights: {},\n        };\n        return _this;\n    }\n    TableRow.prototype.render = function () {\n        var _this = this;\n        var _a = this, props = _a.props, state = _a.state, context = _a.context;\n        var options = context.options;\n        var colCnt = props.cells.length;\n        var businessHoursByCol = splitSegsByFirstCol(props.businessHourSegs, colCnt);\n        var bgEventSegsByCol = splitSegsByFirstCol(props.bgEventSegs, colCnt);\n        var highlightSegsByCol = splitSegsByFirstCol(this.getHighlightSegs(), colCnt);\n        var mirrorSegsByCol = splitSegsByFirstCol(this.getMirrorSegs(), colCnt);\n        var _b = computeFgSegPlacement(sortEventSegs(props.fgEventSegs, options.eventOrder), props.dayMaxEvents, props.dayMaxEventRows, options.eventOrderStrict, state.eventInstanceHeights, state.maxContentHeight, props.cells), singleColPlacements = _b.singleColPlacements, multiColPlacements = _b.multiColPlacements, moreCnts = _b.moreCnts, moreMarginTops = _b.moreMarginTops;\n        var isForcedInvisible = // TODO: messy way to compute this\n         (props.eventDrag && props.eventDrag.affectedInstances) ||\n            (props.eventResize && props.eventResize.affectedInstances) ||\n            {};\n        return (createElement(\"tr\", { ref: this.rootElRef },\n            props.renderIntro && props.renderIntro(),\n            props.cells.map(function (cell, col) {\n                var normalFgNodes = _this.renderFgSegs(col, props.forPrint ? singleColPlacements[col] : multiColPlacements[col], props.todayRange, isForcedInvisible);\n                var mirrorFgNodes = _this.renderFgSegs(col, buildMirrorPlacements(mirrorSegsByCol[col], multiColPlacements), props.todayRange, {}, Boolean(props.eventDrag), Boolean(props.eventResize), false);\n                return (createElement(TableCell, { key: cell.key, elRef: _this.cellElRefs.createRef(cell.key), innerElRef: _this.frameElRefs.createRef(cell.key) /* FF <td> problem, but okay to use for left/right. TODO: rename prop */, dateProfile: props.dateProfile, date: cell.date, showDayNumber: props.showDayNumbers, showWeekNumber: props.showWeekNumbers && col === 0, forceDayTop: props.showWeekNumbers /* even displaying weeknum for row, not necessarily day */, todayRange: props.todayRange, eventSelection: props.eventSelection, eventDrag: props.eventDrag, eventResize: props.eventResize, extraHookProps: cell.extraHookProps, extraDataAttrs: cell.extraDataAttrs, extraClassNames: cell.extraClassNames, extraDateSpan: cell.extraDateSpan, moreCnt: moreCnts[col], moreMarginTop: moreMarginTops[col], singlePlacements: singleColPlacements[col], fgContentElRef: _this.fgElRefs.createRef(cell.key), fgContent: ( // Fragment scopes the keys\n                    createElement(Fragment, null,\n                        createElement(Fragment, null, normalFgNodes),\n                        createElement(Fragment, null, mirrorFgNodes))), bgContent: ( // Fragment scopes the keys\n                    createElement(Fragment, null,\n                        _this.renderFillSegs(highlightSegsByCol[col], 'highlight'),\n                        _this.renderFillSegs(businessHoursByCol[col], 'non-business'),\n                        _this.renderFillSegs(bgEventSegsByCol[col], 'bg-event'))) }));\n            })));\n    };\n    TableRow.prototype.componentDidMount = function () {\n        this.updateSizing(true);\n    };\n    TableRow.prototype.componentDidUpdate = function (prevProps, prevState) {\n        var currentProps = this.props;\n        this.updateSizing(!isPropsEqual(prevProps, currentProps));\n    };\n    TableRow.prototype.getHighlightSegs = function () {\n        var props = this.props;\n        if (props.eventDrag && props.eventDrag.segs.length) { // messy check\n            return props.eventDrag.segs;\n        }\n        if (props.eventResize && props.eventResize.segs.length) { // messy check\n            return props.eventResize.segs;\n        }\n        return props.dateSelectionSegs;\n    };\n    TableRow.prototype.getMirrorSegs = function () {\n        var props = this.props;\n        if (props.eventResize && props.eventResize.segs.length) { // messy check\n            return props.eventResize.segs;\n        }\n        return [];\n    };\n    TableRow.prototype.renderFgSegs = function (col, segPlacements, todayRange, isForcedInvisible, isDragging, isResizing, isDateSelecting) {\n        var context = this.context;\n        var eventSelection = this.props.eventSelection;\n        var framePositions = this.state.framePositions;\n        var defaultDisplayEventEnd = this.props.cells.length === 1; // colCnt === 1\n        var isMirror = isDragging || isResizing || isDateSelecting;\n        var nodes = [];\n        if (framePositions) {\n            for (var _i = 0, segPlacements_1 = segPlacements; _i < segPlacements_1.length; _i++) {\n                var placement = segPlacements_1[_i];\n                var seg = placement.seg;\n                var instanceId = seg.eventRange.instance.instanceId;\n                var key = instanceId + ':' + col;\n                var isVisible = placement.isVisible && !isForcedInvisible[instanceId];\n                var isAbsolute = placement.isAbsolute;\n                var left = '';\n                var right = '';\n                if (isAbsolute) {\n                    if (context.isRtl) {\n                        right = 0;\n                        left = framePositions.lefts[seg.lastCol] - framePositions.lefts[seg.firstCol];\n                    }\n                    else {\n                        left = 0;\n                        right = framePositions.rights[seg.firstCol] - framePositions.rights[seg.lastCol];\n                    }\n                }\n                /*\n                known bug: events that are force to be list-item but span multiple days still take up space in later columns\n                todo: in print view, for multi-day events, don't display title within non-start/end segs\n                */\n                nodes.push(createElement(\"div\", { className: 'fc-daygrid-event-harness' + (isAbsolute ? ' fc-daygrid-event-harness-abs' : ''), key: key, ref: isMirror ? null : this.segHarnessRefs.createRef(key), style: {\n                        visibility: isVisible ? '' : 'hidden',\n                        marginTop: isAbsolute ? '' : placement.marginTop,\n                        top: isAbsolute ? placement.absoluteTop : '',\n                        left: left,\n                        right: right,\n                    } }, hasListItemDisplay(seg) ? (createElement(TableListItemEvent, __assign({ seg: seg, isDragging: isDragging, isSelected: instanceId === eventSelection, defaultDisplayEventEnd: defaultDisplayEventEnd }, getSegMeta(seg, todayRange)))) : (createElement(TableBlockEvent, __assign({ seg: seg, isDragging: isDragging, isResizing: isResizing, isDateSelecting: isDateSelecting, isSelected: instanceId === eventSelection, defaultDisplayEventEnd: defaultDisplayEventEnd }, getSegMeta(seg, todayRange))))));\n            }\n        }\n        return nodes;\n    };\n    TableRow.prototype.renderFillSegs = function (segs, fillType) {\n        var isRtl = this.context.isRtl;\n        var todayRange = this.props.todayRange;\n        var framePositions = this.state.framePositions;\n        var nodes = [];\n        if (framePositions) {\n            for (var _i = 0, segs_1 = segs; _i < segs_1.length; _i++) {\n                var seg = segs_1[_i];\n                var leftRightCss = isRtl ? {\n                    right: 0,\n                    left: framePositions.lefts[seg.lastCol] - framePositions.lefts[seg.firstCol],\n                } : {\n                    left: 0,\n                    right: framePositions.rights[seg.firstCol] - framePositions.rights[seg.lastCol],\n                };\n                nodes.push(createElement(\"div\", { key: buildEventRangeKey(seg.eventRange), className: \"fc-daygrid-bg-harness\", style: leftRightCss }, fillType === 'bg-event' ?\n                    createElement(BgEvent, __assign({ seg: seg }, getSegMeta(seg, todayRange))) :\n                    renderFill(fillType)));\n            }\n        }\n        return createElement.apply(void 0, __spreadArray([Fragment, {}], nodes));\n    };\n    TableRow.prototype.updateSizing = function (isExternalSizingChange) {\n        var _a = this, props = _a.props, frameElRefs = _a.frameElRefs;\n        if (!props.forPrint &&\n            props.clientWidth !== null // positioning ready?\n        ) {\n            if (isExternalSizingChange) {\n                var frameEls = props.cells.map(function (cell) { return frameElRefs.currentMap[cell.key]; });\n                if (frameEls.length) {\n                    var originEl = this.rootElRef.current;\n                    this.setState({\n                        framePositions: new PositionCache(originEl, frameEls, true, // isHorizontal\n                        false),\n                    });\n                }\n            }\n            var limitByContentHeight = props.dayMaxEvents === true || props.dayMaxEventRows === true;\n            this.setState({\n                eventInstanceHeights: this.queryEventInstanceHeights(),\n                maxContentHeight: limitByContentHeight ? this.computeMaxContentHeight() : null,\n            });\n        }\n    };\n    TableRow.prototype.queryEventInstanceHeights = function () {\n        var segElMap = this.segHarnessRefs.currentMap;\n        var eventInstanceHeights = {};\n        // get the max height amongst instance segs\n        for (var key in segElMap) {\n            var height = Math.round(segElMap[key].getBoundingClientRect().height);\n            var instanceId = key.split(':')[0]; // deconstruct how renderFgSegs makes the key\n            eventInstanceHeights[instanceId] = Math.max(eventInstanceHeights[instanceId] || 0, height);\n        }\n        return eventInstanceHeights;\n    };\n    TableRow.prototype.computeMaxContentHeight = function () {\n        var firstKey = this.props.cells[0].key;\n        var cellEl = this.cellElRefs.currentMap[firstKey];\n        var fcContainerEl = this.fgElRefs.currentMap[firstKey];\n        return cellEl.getBoundingClientRect().bottom - fcContainerEl.getBoundingClientRect().top;\n    };\n    TableRow.prototype.getCellEls = function () {\n        var elMap = this.cellElRefs.currentMap;\n        return this.props.cells.map(function (cell) { return elMap[cell.key]; });\n    };\n    return TableRow;\n}(DateComponent));\nTableRow.addStateEquality({\n    eventInstanceHeights: isPropsEqual,\n});\nfunction buildMirrorPlacements(mirrorSegs, colPlacements) {\n    if (!mirrorSegs.length) {\n        return [];\n    }\n    var topsByInstanceId = buildAbsoluteTopHash(colPlacements); // TODO: cache this at first render?\n    return mirrorSegs.map(function (seg) { return ({\n        seg: seg,\n        isVisible: true,\n        isAbsolute: true,\n        absoluteTop: topsByInstanceId[seg.eventRange.instance.instanceId],\n        marginTop: 0,\n    }); });\n}\nfunction buildAbsoluteTopHash(colPlacements) {\n    var topsByInstanceId = {};\n    for (var _i = 0, colPlacements_1 = colPlacements; _i < colPlacements_1.length; _i++) {\n        var placements = colPlacements_1[_i];\n        for (var _a = 0, placements_1 = placements; _a < placements_1.length; _a++) {\n            var placement = placements_1[_a];\n            topsByInstanceId[placement.seg.eventRange.instance.instanceId] = placement.absoluteTop;\n        }\n    }\n    return colPlacements;\n}\n\nvar Table = /** @class */ (function (_super) {\n    __extends(Table, _super);\n    function Table() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.splitBusinessHourSegs = memoize(splitSegsByRow);\n        _this.splitBgEventSegs = memoize(splitSegsByRow);\n        _this.splitFgEventSegs = memoize(splitSegsByRow);\n        _this.splitDateSelectionSegs = memoize(splitSegsByRow);\n        _this.splitEventDrag = memoize(splitInteractionByRow);\n        _this.splitEventResize = memoize(splitInteractionByRow);\n        _this.rowRefs = new RefMap();\n        _this.handleRootEl = function (rootEl) {\n            _this.rootEl = rootEl;\n            if (rootEl) {\n                _this.context.registerInteractiveComponent(_this, {\n                    el: rootEl,\n                    isHitComboAllowed: _this.props.isHitComboAllowed,\n                });\n            }\n            else {\n                _this.context.unregisterInteractiveComponent(_this);\n            }\n        };\n        return _this;\n    }\n    Table.prototype.render = function () {\n        var _this = this;\n        var props = this.props;\n        var dateProfile = props.dateProfile, dayMaxEventRows = props.dayMaxEventRows, dayMaxEvents = props.dayMaxEvents, expandRows = props.expandRows;\n        var rowCnt = props.cells.length;\n        var businessHourSegsByRow = this.splitBusinessHourSegs(props.businessHourSegs, rowCnt);\n        var bgEventSegsByRow = this.splitBgEventSegs(props.bgEventSegs, rowCnt);\n        var fgEventSegsByRow = this.splitFgEventSegs(props.fgEventSegs, rowCnt);\n        var dateSelectionSegsByRow = this.splitDateSelectionSegs(props.dateSelectionSegs, rowCnt);\n        var eventDragByRow = this.splitEventDrag(props.eventDrag, rowCnt);\n        var eventResizeByRow = this.splitEventResize(props.eventResize, rowCnt);\n        var limitViaBalanced = dayMaxEvents === true || dayMaxEventRows === true;\n        // if rows can't expand to fill fixed height, can't do balanced-height event limit\n        // TODO: best place to normalize these options?\n        if (limitViaBalanced && !expandRows) {\n            limitViaBalanced = false;\n            dayMaxEventRows = null;\n            dayMaxEvents = null;\n        }\n        var classNames = [\n            'fc-daygrid-body',\n            limitViaBalanced ? 'fc-daygrid-body-balanced' : 'fc-daygrid-body-unbalanced',\n            expandRows ? '' : 'fc-daygrid-body-natural', // will height of one row depend on the others?\n        ];\n        return (createElement(\"div\", { className: classNames.join(' '), ref: this.handleRootEl, style: {\n                // these props are important to give this wrapper correct dimensions for interactions\n                // TODO: if we set it here, can we avoid giving to inner tables?\n                width: props.clientWidth,\n                minWidth: props.tableMinWidth,\n            } },\n            createElement(NowTimer, { unit: \"day\" }, function (nowDate, todayRange) { return (createElement(Fragment, null,\n                createElement(\"table\", { className: \"fc-scrollgrid-sync-table\", style: {\n                        width: props.clientWidth,\n                        minWidth: props.tableMinWidth,\n                        height: expandRows ? props.clientHeight : '',\n                    } },\n                    props.colGroupNode,\n                    createElement(\"tbody\", null, props.cells.map(function (cells, row) { return (createElement(TableRow, { ref: _this.rowRefs.createRef(row), key: cells.length\n                            ? cells[0].date.toISOString() /* best? or put key on cell? or use diff formatter? */\n                            : row // in case there are no cells (like when resource view is loading)\n                        , showDayNumbers: rowCnt > 1, showWeekNumbers: props.showWeekNumbers, todayRange: todayRange, dateProfile: dateProfile, cells: cells, renderIntro: props.renderRowIntro, businessHourSegs: businessHourSegsByRow[row], eventSelection: props.eventSelection, bgEventSegs: bgEventSegsByRow[row].filter(isSegAllDay) /* hack */, fgEventSegs: fgEventSegsByRow[row], dateSelectionSegs: dateSelectionSegsByRow[row], eventDrag: eventDragByRow[row], eventResize: eventResizeByRow[row], dayMaxEvents: dayMaxEvents, dayMaxEventRows: dayMaxEventRows, clientWidth: props.clientWidth, clientHeight: props.clientHeight, forPrint: props.forPrint })); }))))); })));\n    };\n    // Hit System\n    // ----------------------------------------------------------------------------------------------------\n    Table.prototype.prepareHits = function () {\n        this.rowPositions = new PositionCache(this.rootEl, this.rowRefs.collect().map(function (rowObj) { return rowObj.getCellEls()[0]; }), // first cell el in each row. TODO: not optimal\n        false, true);\n        this.colPositions = new PositionCache(this.rootEl, this.rowRefs.currentMap[0].getCellEls(), // cell els in first row\n        true, // horizontal\n        false);\n    };\n    Table.prototype.queryHit = function (positionLeft, positionTop) {\n        var _a = this, colPositions = _a.colPositions, rowPositions = _a.rowPositions;\n        var col = colPositions.leftToIndex(positionLeft);\n        var row = rowPositions.topToIndex(positionTop);\n        if (row != null && col != null) {\n            var cell = this.props.cells[row][col];\n            return {\n                dateProfile: this.props.dateProfile,\n                dateSpan: __assign({ range: this.getCellRange(row, col), allDay: true }, cell.extraDateSpan),\n                dayEl: this.getCellEl(row, col),\n                rect: {\n                    left: colPositions.lefts[col],\n                    right: colPositions.rights[col],\n                    top: rowPositions.tops[row],\n                    bottom: rowPositions.bottoms[row],\n                },\n                layer: 0,\n            };\n        }\n        return null;\n    };\n    Table.prototype.getCellEl = function (row, col) {\n        return this.rowRefs.currentMap[row].getCellEls()[col]; // TODO: not optimal\n    };\n    Table.prototype.getCellRange = function (row, col) {\n        var start = this.props.cells[row][col].date;\n        var end = addDays(start, 1);\n        return { start: start, end: end };\n    };\n    return Table;\n}(DateComponent));\nfunction isSegAllDay(seg) {\n    return seg.eventRange.def.allDay;\n}\n\nvar DayTableSlicer = /** @class */ (function (_super) {\n    __extends(DayTableSlicer, _super);\n    function DayTableSlicer() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.forceDayIfListItem = true;\n        return _this;\n    }\n    DayTableSlicer.prototype.sliceRange = function (dateRange, dayTableModel) {\n        return dayTableModel.sliceRange(dateRange);\n    };\n    return DayTableSlicer;\n}(Slicer));\n\nvar DayTable = /** @class */ (function (_super) {\n    __extends(DayTable, _super);\n    function DayTable() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.slicer = new DayTableSlicer();\n        _this.tableRef = createRef();\n        return _this;\n    }\n    DayTable.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        return (createElement(Table, __assign({ ref: this.tableRef }, this.slicer.sliceProps(props, props.dateProfile, props.nextDayThreshold, context, props.dayTableModel), { dateProfile: props.dateProfile, cells: props.dayTableModel.cells, colGroupNode: props.colGroupNode, tableMinWidth: props.tableMinWidth, renderRowIntro: props.renderRowIntro, dayMaxEvents: props.dayMaxEvents, dayMaxEventRows: props.dayMaxEventRows, showWeekNumbers: props.showWeekNumbers, expandRows: props.expandRows, headerAlignElRef: props.headerAlignElRef, clientWidth: props.clientWidth, clientHeight: props.clientHeight, forPrint: props.forPrint })));\n    };\n    return DayTable;\n}(DateComponent));\n\nvar DayTableView = /** @class */ (function (_super) {\n    __extends(DayTableView, _super);\n    function DayTableView() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.buildDayTableModel = memoize(buildDayTableModel);\n        _this.headerRef = createRef();\n        _this.tableRef = createRef();\n        return _this;\n    }\n    DayTableView.prototype.render = function () {\n        var _this = this;\n        var _a = this.context, options = _a.options, dateProfileGenerator = _a.dateProfileGenerator;\n        var props = this.props;\n        var dayTableModel = this.buildDayTableModel(props.dateProfile, dateProfileGenerator);\n        var headerContent = options.dayHeaders && (createElement(DayHeader, { ref: this.headerRef, dateProfile: props.dateProfile, dates: dayTableModel.headerDates, datesRepDistinctDays: dayTableModel.rowCnt === 1 }));\n        var bodyContent = function (contentArg) { return (createElement(DayTable, { ref: _this.tableRef, dateProfile: props.dateProfile, dayTableModel: dayTableModel, businessHours: props.businessHours, dateSelection: props.dateSelection, eventStore: props.eventStore, eventUiBases: props.eventUiBases, eventSelection: props.eventSelection, eventDrag: props.eventDrag, eventResize: props.eventResize, nextDayThreshold: options.nextDayThreshold, colGroupNode: contentArg.tableColGroupNode, tableMinWidth: contentArg.tableMinWidth, dayMaxEvents: options.dayMaxEvents, dayMaxEventRows: options.dayMaxEventRows, showWeekNumbers: options.weekNumbers, expandRows: !props.isHeightAuto, headerAlignElRef: _this.headerElRef, clientWidth: contentArg.clientWidth, clientHeight: contentArg.clientHeight, forPrint: props.forPrint })); };\n        return options.dayMinWidth\n            ? this.renderHScrollLayout(headerContent, bodyContent, dayTableModel.colCnt, options.dayMinWidth)\n            : this.renderSimpleLayout(headerContent, bodyContent);\n    };\n    return DayTableView;\n}(TableView));\nfunction buildDayTableModel(dateProfile, dateProfileGenerator) {\n    var daySeries = new DaySeriesModel(dateProfile.renderRange, dateProfileGenerator);\n    return new DayTableModel(daySeries, /year|month|week/.test(dateProfile.currentRangeUnit));\n}\n\nvar TableDateProfileGenerator = /** @class */ (function (_super) {\n    __extends(TableDateProfileGenerator, _super);\n    function TableDateProfileGenerator() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    // Computes the date range that will be rendered.\n    TableDateProfileGenerator.prototype.buildRenderRange = function (currentRange, currentRangeUnit, isRangeAllDay) {\n        var dateEnv = this.props.dateEnv;\n        var renderRange = _super.prototype.buildRenderRange.call(this, currentRange, currentRangeUnit, isRangeAllDay);\n        var start = renderRange.start;\n        var end = renderRange.end;\n        var endOfWeek;\n        // year and month views should be aligned with weeks. this is already done for week\n        if (/^(year|month)$/.test(currentRangeUnit)) {\n            start = dateEnv.startOfWeek(start);\n            // make end-of-week if not already\n            endOfWeek = dateEnv.startOfWeek(end);\n            if (endOfWeek.valueOf() !== end.valueOf()) {\n                end = addWeeks(endOfWeek, 1);\n            }\n        }\n        // ensure 6 weeks\n        if (this.props.monthMode &&\n            this.props.fixedWeekCount) {\n            var rowCnt = Math.ceil(// could be partial weeks due to hiddenDays\n            diffWeeks(start, end));\n            end = addWeeks(end, 6 - rowCnt);\n        }\n        return { start: start, end: end };\n    };\n    return TableDateProfileGenerator;\n}(DateProfileGenerator));\n\nvar main = createPlugin({\n    initialView: 'dayGridMonth',\n    views: {\n        dayGrid: {\n            component: DayTableView,\n            dateProfileGeneratorClass: TableDateProfileGenerator,\n        },\n        dayGridDay: {\n            type: 'dayGrid',\n            duration: { days: 1 },\n        },\n        dayGridWeek: {\n            type: 'dayGrid',\n            duration: { weeks: 1 },\n        },\n        dayGridMonth: {\n            type: 'dayGrid',\n            duration: { months: 1 },\n            monthMode: true,\n            fixedWeekCount: true,\n        },\n    },\n});\n\nexport default main;\nexport { DayTableView as DayGridView, DayTable, DayTableSlicer, Table, TableView, buildDayTableModel };\n","/*!\nFullCalendar v5.7.2\nDocs & License: https://fullcalendar.io/\n(c) 2021 Adam Shaw\n*/\nimport { config, elementClosest, Emitter, applyStyle, whenTransitionDone, removeElement, ScrollController, ElementScrollController, computeInnerRect, WindowScrollController, preventSelection, preventContextMenu, allowSelection, allowContextMenu, ElementDragging, computeRect, getClippingParents, pointInsideRect, isDateSpansEqual, constrainPoint, intersectRects, getRectCenter, diffPoints, mapHash, rangeContainsRange, interactionSettingsToStore, Interaction, isDateSelectionValid, enableCursor, disableCursor, triggerDateSelect, compareNumbers, getElSeg, getRelevantEvents, EventApi, createEmptyEventStore, applyMutationToEventStore, isInteractionValid, buildEventApis, interactionSettingsStore, startOfDay, diffDates, createDuration, identity, eventTupleToStore, parseDragMeta, elementMatches, refineEventDef, parseEventDef, getDefaultEventEnd, createEventInstance, BASE_OPTION_DEFAULTS, createPlugin } from '@fullcalendar/common';\nimport { __extends, __assign } from 'tslib';\n\nconfig.touchMouseIgnoreWait = 500;\nvar ignoreMouseDepth = 0;\nvar listenerCnt = 0;\nvar isWindowTouchMoveCancelled = false;\n/*\nUses a \"pointer\" abstraction, which monitors UI events for both mouse and touch.\nTracks when the pointer \"drags\" on a certain element, meaning down+move+up.\n\nAlso, tracks if there was touch-scrolling.\nAlso, can prevent touch-scrolling from happening.\nAlso, can fire pointermove events when scrolling happens underneath, even when no real pointer movement.\n\nemits:\n- pointerdown\n- pointermove\n- pointerup\n*/\nvar PointerDragging = /** @class */ (function () {\n    function PointerDragging(containerEl) {\n        var _this = this;\n        this.subjectEl = null;\n        // options that can be directly assigned by caller\n        this.selector = ''; // will cause subjectEl in all emitted events to be this element\n        this.handleSelector = '';\n        this.shouldIgnoreMove = false;\n        this.shouldWatchScroll = true; // for simulating pointermove on scroll\n        // internal states\n        this.isDragging = false;\n        this.isTouchDragging = false;\n        this.wasTouchScroll = false;\n        // Mouse\n        // ----------------------------------------------------------------------------------------------------\n        this.handleMouseDown = function (ev) {\n            if (!_this.shouldIgnoreMouse() &&\n                isPrimaryMouseButton(ev) &&\n                _this.tryStart(ev)) {\n                var pev = _this.createEventFromMouse(ev, true);\n                _this.emitter.trigger('pointerdown', pev);\n                _this.initScrollWatch(pev);\n                if (!_this.shouldIgnoreMove) {\n                    document.addEventListener('mousemove', _this.handleMouseMove);\n                }\n                document.addEventListener('mouseup', _this.handleMouseUp);\n            }\n        };\n        this.handleMouseMove = function (ev) {\n            var pev = _this.createEventFromMouse(ev);\n            _this.recordCoords(pev);\n            _this.emitter.trigger('pointermove', pev);\n        };\n        this.handleMouseUp = function (ev) {\n            document.removeEventListener('mousemove', _this.handleMouseMove);\n            document.removeEventListener('mouseup', _this.handleMouseUp);\n            _this.emitter.trigger('pointerup', _this.createEventFromMouse(ev));\n            _this.cleanup(); // call last so that pointerup has access to props\n        };\n        // Touch\n        // ----------------------------------------------------------------------------------------------------\n        this.handleTouchStart = function (ev) {\n            if (_this.tryStart(ev)) {\n                _this.isTouchDragging = true;\n                var pev = _this.createEventFromTouch(ev, true);\n                _this.emitter.trigger('pointerdown', pev);\n                _this.initScrollWatch(pev);\n                // unlike mouse, need to attach to target, not document\n                // https://stackoverflow.com/a/45760014\n                var targetEl = ev.target;\n                if (!_this.shouldIgnoreMove) {\n                    targetEl.addEventListener('touchmove', _this.handleTouchMove);\n                }\n                targetEl.addEventListener('touchend', _this.handleTouchEnd);\n                targetEl.addEventListener('touchcancel', _this.handleTouchEnd); // treat it as a touch end\n                // attach a handler to get called when ANY scroll action happens on the page.\n                // this was impossible to do with normal on/off because 'scroll' doesn't bubble.\n                // http://stackoverflow.com/a/32954565/96342\n                window.addEventListener('scroll', _this.handleTouchScroll, true);\n            }\n        };\n        this.handleTouchMove = function (ev) {\n            var pev = _this.createEventFromTouch(ev);\n            _this.recordCoords(pev);\n            _this.emitter.trigger('pointermove', pev);\n        };\n        this.handleTouchEnd = function (ev) {\n            if (_this.isDragging) { // done to guard against touchend followed by touchcancel\n                var targetEl = ev.target;\n                targetEl.removeEventListener('touchmove', _this.handleTouchMove);\n                targetEl.removeEventListener('touchend', _this.handleTouchEnd);\n                targetEl.removeEventListener('touchcancel', _this.handleTouchEnd);\n                window.removeEventListener('scroll', _this.handleTouchScroll, true); // useCaptured=true\n                _this.emitter.trigger('pointerup', _this.createEventFromTouch(ev));\n                _this.cleanup(); // call last so that pointerup has access to props\n                _this.isTouchDragging = false;\n                startIgnoringMouse();\n            }\n        };\n        this.handleTouchScroll = function () {\n            _this.wasTouchScroll = true;\n        };\n        this.handleScroll = function (ev) {\n            if (!_this.shouldIgnoreMove) {\n                var pageX = (window.pageXOffset - _this.prevScrollX) + _this.prevPageX;\n                var pageY = (window.pageYOffset - _this.prevScrollY) + _this.prevPageY;\n                _this.emitter.trigger('pointermove', {\n                    origEvent: ev,\n                    isTouch: _this.isTouchDragging,\n                    subjectEl: _this.subjectEl,\n                    pageX: pageX,\n                    pageY: pageY,\n                    deltaX: pageX - _this.origPageX,\n                    deltaY: pageY - _this.origPageY,\n                });\n            }\n        };\n        this.containerEl = containerEl;\n        this.emitter = new Emitter();\n        containerEl.addEventListener('mousedown', this.handleMouseDown);\n        containerEl.addEventListener('touchstart', this.handleTouchStart, { passive: true });\n        listenerCreated();\n    }\n    PointerDragging.prototype.destroy = function () {\n        this.containerEl.removeEventListener('mousedown', this.handleMouseDown);\n        this.containerEl.removeEventListener('touchstart', this.handleTouchStart, { passive: true });\n        listenerDestroyed();\n    };\n    PointerDragging.prototype.tryStart = function (ev) {\n        var subjectEl = this.querySubjectEl(ev);\n        var downEl = ev.target;\n        if (subjectEl &&\n            (!this.handleSelector || elementClosest(downEl, this.handleSelector))) {\n            this.subjectEl = subjectEl;\n            this.isDragging = true; // do this first so cancelTouchScroll will work\n            this.wasTouchScroll = false;\n            return true;\n        }\n        return false;\n    };\n    PointerDragging.prototype.cleanup = function () {\n        isWindowTouchMoveCancelled = false;\n        this.isDragging = false;\n        this.subjectEl = null;\n        // keep wasTouchScroll around for later access\n        this.destroyScrollWatch();\n    };\n    PointerDragging.prototype.querySubjectEl = function (ev) {\n        if (this.selector) {\n            return elementClosest(ev.target, this.selector);\n        }\n        return this.containerEl;\n    };\n    PointerDragging.prototype.shouldIgnoreMouse = function () {\n        return ignoreMouseDepth || this.isTouchDragging;\n    };\n    // can be called by user of this class, to cancel touch-based scrolling for the current drag\n    PointerDragging.prototype.cancelTouchScroll = function () {\n        if (this.isDragging) {\n            isWindowTouchMoveCancelled = true;\n        }\n    };\n    // Scrolling that simulates pointermoves\n    // ----------------------------------------------------------------------------------------------------\n    PointerDragging.prototype.initScrollWatch = function (ev) {\n        if (this.shouldWatchScroll) {\n            this.recordCoords(ev);\n            window.addEventListener('scroll', this.handleScroll, true); // useCapture=true\n        }\n    };\n    PointerDragging.prototype.recordCoords = function (ev) {\n        if (this.shouldWatchScroll) {\n            this.prevPageX = ev.pageX;\n            this.prevPageY = ev.pageY;\n            this.prevScrollX = window.pageXOffset;\n            this.prevScrollY = window.pageYOffset;\n        }\n    };\n    PointerDragging.prototype.destroyScrollWatch = function () {\n        if (this.shouldWatchScroll) {\n            window.removeEventListener('scroll', this.handleScroll, true); // useCaptured=true\n        }\n    };\n    // Event Normalization\n    // ----------------------------------------------------------------------------------------------------\n    PointerDragging.prototype.createEventFromMouse = function (ev, isFirst) {\n        var deltaX = 0;\n        var deltaY = 0;\n        // TODO: repeat code\n        if (isFirst) {\n            this.origPageX = ev.pageX;\n            this.origPageY = ev.pageY;\n        }\n        else {\n            deltaX = ev.pageX - this.origPageX;\n            deltaY = ev.pageY - this.origPageY;\n        }\n        return {\n            origEvent: ev,\n            isTouch: false,\n            subjectEl: this.subjectEl,\n            pageX: ev.pageX,\n            pageY: ev.pageY,\n            deltaX: deltaX,\n            deltaY: deltaY,\n        };\n    };\n    PointerDragging.prototype.createEventFromTouch = function (ev, isFirst) {\n        var touches = ev.touches;\n        var pageX;\n        var pageY;\n        var deltaX = 0;\n        var deltaY = 0;\n        // if touch coords available, prefer,\n        // because FF would give bad ev.pageX ev.pageY\n        if (touches && touches.length) {\n            pageX = touches[0].pageX;\n            pageY = touches[0].pageY;\n        }\n        else {\n            pageX = ev.pageX;\n            pageY = ev.pageY;\n        }\n        // TODO: repeat code\n        if (isFirst) {\n            this.origPageX = pageX;\n            this.origPageY = pageY;\n        }\n        else {\n            deltaX = pageX - this.origPageX;\n            deltaY = pageY - this.origPageY;\n        }\n        return {\n            origEvent: ev,\n            isTouch: true,\n            subjectEl: this.subjectEl,\n            pageX: pageX,\n            pageY: pageY,\n            deltaX: deltaX,\n            deltaY: deltaY,\n        };\n    };\n    return PointerDragging;\n}());\n// Returns a boolean whether this was a left mouse click and no ctrl key (which means right click on Mac)\nfunction isPrimaryMouseButton(ev) {\n    return ev.button === 0 && !ev.ctrlKey;\n}\n// Ignoring fake mouse events generated by touch\n// ----------------------------------------------------------------------------------------------------\nfunction startIgnoringMouse() {\n    ignoreMouseDepth += 1;\n    setTimeout(function () {\n        ignoreMouseDepth -= 1;\n    }, config.touchMouseIgnoreWait);\n}\n// We want to attach touchmove as early as possible for Safari\n// ----------------------------------------------------------------------------------------------------\nfunction listenerCreated() {\n    listenerCnt += 1;\n    if (listenerCnt === 1) {\n        window.addEventListener('touchmove', onWindowTouchMove, { passive: false });\n    }\n}\nfunction listenerDestroyed() {\n    listenerCnt -= 1;\n    if (!listenerCnt) {\n        window.removeEventListener('touchmove', onWindowTouchMove, { passive: false });\n    }\n}\nfunction onWindowTouchMove(ev) {\n    if (isWindowTouchMoveCancelled) {\n        ev.preventDefault();\n    }\n}\n\n/*\nAn effect in which an element follows the movement of a pointer across the screen.\nThe moving element is a clone of some other element.\nMust call start + handleMove + stop.\n*/\nvar ElementMirror = /** @class */ (function () {\n    function ElementMirror() {\n        this.isVisible = false; // must be explicitly enabled\n        this.sourceEl = null;\n        this.mirrorEl = null;\n        this.sourceElRect = null; // screen coords relative to viewport\n        // options that can be set directly by caller\n        this.parentNode = document.body;\n        this.zIndex = 9999;\n        this.revertDuration = 0;\n    }\n    ElementMirror.prototype.start = function (sourceEl, pageX, pageY) {\n        this.sourceEl = sourceEl;\n        this.sourceElRect = this.sourceEl.getBoundingClientRect();\n        this.origScreenX = pageX - window.pageXOffset;\n        this.origScreenY = pageY - window.pageYOffset;\n        this.deltaX = 0;\n        this.deltaY = 0;\n        this.updateElPosition();\n    };\n    ElementMirror.prototype.handleMove = function (pageX, pageY) {\n        this.deltaX = (pageX - window.pageXOffset) - this.origScreenX;\n        this.deltaY = (pageY - window.pageYOffset) - this.origScreenY;\n        this.updateElPosition();\n    };\n    // can be called before start\n    ElementMirror.prototype.setIsVisible = function (bool) {\n        if (bool) {\n            if (!this.isVisible) {\n                if (this.mirrorEl) {\n                    this.mirrorEl.style.display = '';\n                }\n                this.isVisible = bool; // needs to happen before updateElPosition\n                this.updateElPosition(); // because was not updating the position while invisible\n            }\n        }\n        else if (this.isVisible) {\n            if (this.mirrorEl) {\n                this.mirrorEl.style.display = 'none';\n            }\n            this.isVisible = bool;\n        }\n    };\n    // always async\n    ElementMirror.prototype.stop = function (needsRevertAnimation, callback) {\n        var _this = this;\n        var done = function () {\n            _this.cleanup();\n            callback();\n        };\n        if (needsRevertAnimation &&\n            this.mirrorEl &&\n            this.isVisible &&\n            this.revertDuration && // if 0, transition won't work\n            (this.deltaX || this.deltaY) // if same coords, transition won't work\n        ) {\n            this.doRevertAnimation(done, this.revertDuration);\n        }\n        else {\n            setTimeout(done, 0);\n        }\n    };\n    ElementMirror.prototype.doRevertAnimation = function (callback, revertDuration) {\n        var mirrorEl = this.mirrorEl;\n        var finalSourceElRect = this.sourceEl.getBoundingClientRect(); // because autoscrolling might have happened\n        mirrorEl.style.transition =\n            'top ' + revertDuration + 'ms,' +\n                'left ' + revertDuration + 'ms';\n        applyStyle(mirrorEl, {\n            left: finalSourceElRect.left,\n            top: finalSourceElRect.top,\n        });\n        whenTransitionDone(mirrorEl, function () {\n            mirrorEl.style.transition = '';\n            callback();\n        });\n    };\n    ElementMirror.prototype.cleanup = function () {\n        if (this.mirrorEl) {\n            removeElement(this.mirrorEl);\n            this.mirrorEl = null;\n        }\n        this.sourceEl = null;\n    };\n    ElementMirror.prototype.updateElPosition = function () {\n        if (this.sourceEl && this.isVisible) {\n            applyStyle(this.getMirrorEl(), {\n                left: this.sourceElRect.left + this.deltaX,\n                top: this.sourceElRect.top + this.deltaY,\n            });\n        }\n    };\n    ElementMirror.prototype.getMirrorEl = function () {\n        var sourceElRect = this.sourceElRect;\n        var mirrorEl = this.mirrorEl;\n        if (!mirrorEl) {\n            mirrorEl = this.mirrorEl = this.sourceEl.cloneNode(true); // cloneChildren=true\n            // we don't want long taps or any mouse interaction causing selection/menus.\n            // would use preventSelection(), but that prevents selectstart, causing problems.\n            mirrorEl.classList.add('fc-unselectable');\n            mirrorEl.classList.add('fc-event-dragging');\n            applyStyle(mirrorEl, {\n                position: 'fixed',\n                zIndex: this.zIndex,\n                visibility: '',\n                boxSizing: 'border-box',\n                width: sourceElRect.right - sourceElRect.left,\n                height: sourceElRect.bottom - sourceElRect.top,\n                right: 'auto',\n                bottom: 'auto',\n                margin: 0,\n            });\n            this.parentNode.appendChild(mirrorEl);\n        }\n        return mirrorEl;\n    };\n    return ElementMirror;\n}());\n\n/*\nIs a cache for a given element's scroll information (all the info that ScrollController stores)\nin addition the \"client rectangle\" of the element.. the area within the scrollbars.\n\nThe cache can be in one of two modes:\n- doesListening:false - ignores when the container is scrolled by someone else\n- doesListening:true - watch for scrolling and update the cache\n*/\nvar ScrollGeomCache = /** @class */ (function (_super) {\n    __extends(ScrollGeomCache, _super);\n    function ScrollGeomCache(scrollController, doesListening) {\n        var _this = _super.call(this) || this;\n        _this.handleScroll = function () {\n            _this.scrollTop = _this.scrollController.getScrollTop();\n            _this.scrollLeft = _this.scrollController.getScrollLeft();\n            _this.handleScrollChange();\n        };\n        _this.scrollController = scrollController;\n        _this.doesListening = doesListening;\n        _this.scrollTop = _this.origScrollTop = scrollController.getScrollTop();\n        _this.scrollLeft = _this.origScrollLeft = scrollController.getScrollLeft();\n        _this.scrollWidth = scrollController.getScrollWidth();\n        _this.scrollHeight = scrollController.getScrollHeight();\n        _this.clientWidth = scrollController.getClientWidth();\n        _this.clientHeight = scrollController.getClientHeight();\n        _this.clientRect = _this.computeClientRect(); // do last in case it needs cached values\n        if (_this.doesListening) {\n            _this.getEventTarget().addEventListener('scroll', _this.handleScroll);\n        }\n        return _this;\n    }\n    ScrollGeomCache.prototype.destroy = function () {\n        if (this.doesListening) {\n            this.getEventTarget().removeEventListener('scroll', this.handleScroll);\n        }\n    };\n    ScrollGeomCache.prototype.getScrollTop = function () {\n        return this.scrollTop;\n    };\n    ScrollGeomCache.prototype.getScrollLeft = function () {\n        return this.scrollLeft;\n    };\n    ScrollGeomCache.prototype.setScrollTop = function (top) {\n        this.scrollController.setScrollTop(top);\n        if (!this.doesListening) {\n            // we are not relying on the element to normalize out-of-bounds scroll values\n            // so we need to sanitize ourselves\n            this.scrollTop = Math.max(Math.min(top, this.getMaxScrollTop()), 0);\n            this.handleScrollChange();\n        }\n    };\n    ScrollGeomCache.prototype.setScrollLeft = function (top) {\n        this.scrollController.setScrollLeft(top);\n        if (!this.doesListening) {\n            // we are not relying on the element to normalize out-of-bounds scroll values\n            // so we need to sanitize ourselves\n            this.scrollLeft = Math.max(Math.min(top, this.getMaxScrollLeft()), 0);\n            this.handleScrollChange();\n        }\n    };\n    ScrollGeomCache.prototype.getClientWidth = function () {\n        return this.clientWidth;\n    };\n    ScrollGeomCache.prototype.getClientHeight = function () {\n        return this.clientHeight;\n    };\n    ScrollGeomCache.prototype.getScrollWidth = function () {\n        return this.scrollWidth;\n    };\n    ScrollGeomCache.prototype.getScrollHeight = function () {\n        return this.scrollHeight;\n    };\n    ScrollGeomCache.prototype.handleScrollChange = function () {\n    };\n    return ScrollGeomCache;\n}(ScrollController));\n\nvar ElementScrollGeomCache = /** @class */ (function (_super) {\n    __extends(ElementScrollGeomCache, _super);\n    function ElementScrollGeomCache(el, doesListening) {\n        return _super.call(this, new ElementScrollController(el), doesListening) || this;\n    }\n    ElementScrollGeomCache.prototype.getEventTarget = function () {\n        return this.scrollController.el;\n    };\n    ElementScrollGeomCache.prototype.computeClientRect = function () {\n        return computeInnerRect(this.scrollController.el);\n    };\n    return ElementScrollGeomCache;\n}(ScrollGeomCache));\n\nvar WindowScrollGeomCache = /** @class */ (function (_super) {\n    __extends(WindowScrollGeomCache, _super);\n    function WindowScrollGeomCache(doesListening) {\n        return _super.call(this, new WindowScrollController(), doesListening) || this;\n    }\n    WindowScrollGeomCache.prototype.getEventTarget = function () {\n        return window;\n    };\n    WindowScrollGeomCache.prototype.computeClientRect = function () {\n        return {\n            left: this.scrollLeft,\n            right: this.scrollLeft + this.clientWidth,\n            top: this.scrollTop,\n            bottom: this.scrollTop + this.clientHeight,\n        };\n    };\n    // the window is the only scroll object that changes it's rectangle relative\n    // to the document's topleft as it scrolls\n    WindowScrollGeomCache.prototype.handleScrollChange = function () {\n        this.clientRect = this.computeClientRect();\n    };\n    return WindowScrollGeomCache;\n}(ScrollGeomCache));\n\n// If available we are using native \"performance\" API instead of \"Date\"\n// Read more about it on MDN:\n// https://developer.mozilla.org/en-US/docs/Web/API/Performance\nvar getTime = typeof performance === 'function' ? performance.now : Date.now;\n/*\nFor a pointer interaction, automatically scrolls certain scroll containers when the pointer\napproaches the edge.\n\nThe caller must call start + handleMove + stop.\n*/\nvar AutoScroller = /** @class */ (function () {\n    function AutoScroller() {\n        var _this = this;\n        // options that can be set by caller\n        this.isEnabled = true;\n        this.scrollQuery = [window, '.fc-scroller'];\n        this.edgeThreshold = 50; // pixels\n        this.maxVelocity = 300; // pixels per second\n        // internal state\n        this.pointerScreenX = null;\n        this.pointerScreenY = null;\n        this.isAnimating = false;\n        this.scrollCaches = null;\n        // protect against the initial pointerdown being too close to an edge and starting the scroll\n        this.everMovedUp = false;\n        this.everMovedDown = false;\n        this.everMovedLeft = false;\n        this.everMovedRight = false;\n        this.animate = function () {\n            if (_this.isAnimating) { // wasn't cancelled between animation calls\n                var edge = _this.computeBestEdge(_this.pointerScreenX + window.pageXOffset, _this.pointerScreenY + window.pageYOffset);\n                if (edge) {\n                    var now = getTime();\n                    _this.handleSide(edge, (now - _this.msSinceRequest) / 1000);\n                    _this.requestAnimation(now);\n                }\n                else {\n                    _this.isAnimating = false; // will stop animation\n                }\n            }\n        };\n    }\n    AutoScroller.prototype.start = function (pageX, pageY) {\n        if (this.isEnabled) {\n            this.scrollCaches = this.buildCaches();\n            this.pointerScreenX = null;\n            this.pointerScreenY = null;\n            this.everMovedUp = false;\n            this.everMovedDown = false;\n            this.everMovedLeft = false;\n            this.everMovedRight = false;\n            this.handleMove(pageX, pageY);\n        }\n    };\n    AutoScroller.prototype.handleMove = function (pageX, pageY) {\n        if (this.isEnabled) {\n            var pointerScreenX = pageX - window.pageXOffset;\n            var pointerScreenY = pageY - window.pageYOffset;\n            var yDelta = this.pointerScreenY === null ? 0 : pointerScreenY - this.pointerScreenY;\n            var xDelta = this.pointerScreenX === null ? 0 : pointerScreenX - this.pointerScreenX;\n            if (yDelta < 0) {\n                this.everMovedUp = true;\n            }\n            else if (yDelta > 0) {\n                this.everMovedDown = true;\n            }\n            if (xDelta < 0) {\n                this.everMovedLeft = true;\n            }\n            else if (xDelta > 0) {\n                this.everMovedRight = true;\n            }\n            this.pointerScreenX = pointerScreenX;\n            this.pointerScreenY = pointerScreenY;\n            if (!this.isAnimating) {\n                this.isAnimating = true;\n                this.requestAnimation(getTime());\n            }\n        }\n    };\n    AutoScroller.prototype.stop = function () {\n        if (this.isEnabled) {\n            this.isAnimating = false; // will stop animation\n            for (var _i = 0, _a = this.scrollCaches; _i < _a.length; _i++) {\n                var scrollCache = _a[_i];\n                scrollCache.destroy();\n            }\n            this.scrollCaches = null;\n        }\n    };\n    AutoScroller.prototype.requestAnimation = function (now) {\n        this.msSinceRequest = now;\n        requestAnimationFrame(this.animate);\n    };\n    AutoScroller.prototype.handleSide = function (edge, seconds) {\n        var scrollCache = edge.scrollCache;\n        var edgeThreshold = this.edgeThreshold;\n        var invDistance = edgeThreshold - edge.distance;\n        var velocity = // the closer to the edge, the faster we scroll\n         ((invDistance * invDistance) / (edgeThreshold * edgeThreshold)) * // quadratic\n            this.maxVelocity * seconds;\n        var sign = 1;\n        switch (edge.name) {\n            case 'left':\n                sign = -1;\n            // falls through\n            case 'right':\n                scrollCache.setScrollLeft(scrollCache.getScrollLeft() + velocity * sign);\n                break;\n            case 'top':\n                sign = -1;\n            // falls through\n            case 'bottom':\n                scrollCache.setScrollTop(scrollCache.getScrollTop() + velocity * sign);\n                break;\n        }\n    };\n    // left/top are relative to document topleft\n    AutoScroller.prototype.computeBestEdge = function (left, top) {\n        var edgeThreshold = this.edgeThreshold;\n        var bestSide = null;\n        for (var _i = 0, _a = this.scrollCaches; _i < _a.length; _i++) {\n            var scrollCache = _a[_i];\n            var rect = scrollCache.clientRect;\n            var leftDist = left - rect.left;\n            var rightDist = rect.right - left;\n            var topDist = top - rect.top;\n            var bottomDist = rect.bottom - top;\n            // completely within the rect?\n            if (leftDist >= 0 && rightDist >= 0 && topDist >= 0 && bottomDist >= 0) {\n                if (topDist <= edgeThreshold && this.everMovedUp && scrollCache.canScrollUp() &&\n                    (!bestSide || bestSide.distance > topDist)) {\n                    bestSide = { scrollCache: scrollCache, name: 'top', distance: topDist };\n                }\n                if (bottomDist <= edgeThreshold && this.everMovedDown && scrollCache.canScrollDown() &&\n                    (!bestSide || bestSide.distance > bottomDist)) {\n                    bestSide = { scrollCache: scrollCache, name: 'bottom', distance: bottomDist };\n                }\n                if (leftDist <= edgeThreshold && this.everMovedLeft && scrollCache.canScrollLeft() &&\n                    (!bestSide || bestSide.distance > leftDist)) {\n                    bestSide = { scrollCache: scrollCache, name: 'left', distance: leftDist };\n                }\n                if (rightDist <= edgeThreshold && this.everMovedRight && scrollCache.canScrollRight() &&\n                    (!bestSide || bestSide.distance > rightDist)) {\n                    bestSide = { scrollCache: scrollCache, name: 'right', distance: rightDist };\n                }\n            }\n        }\n        return bestSide;\n    };\n    AutoScroller.prototype.buildCaches = function () {\n        return this.queryScrollEls().map(function (el) {\n            if (el === window) {\n                return new WindowScrollGeomCache(false); // false = don't listen to user-generated scrolls\n            }\n            return new ElementScrollGeomCache(el, false); // false = don't listen to user-generated scrolls\n        });\n    };\n    AutoScroller.prototype.queryScrollEls = function () {\n        var els = [];\n        for (var _i = 0, _a = this.scrollQuery; _i < _a.length; _i++) {\n            var query = _a[_i];\n            if (typeof query === 'object') {\n                els.push(query);\n            }\n            else {\n                els.push.apply(els, Array.prototype.slice.call(document.querySelectorAll(query)));\n            }\n        }\n        return els;\n    };\n    return AutoScroller;\n}());\n\n/*\nMonitors dragging on an element. Has a number of high-level features:\n- minimum distance required before dragging\n- minimum wait time (\"delay\") before dragging\n- a mirror element that follows the pointer\n*/\nvar FeaturefulElementDragging = /** @class */ (function (_super) {\n    __extends(FeaturefulElementDragging, _super);\n    function FeaturefulElementDragging(containerEl, selector) {\n        var _this = _super.call(this, containerEl) || this;\n        // options that can be directly set by caller\n        // the caller can also set the PointerDragging's options as well\n        _this.delay = null;\n        _this.minDistance = 0;\n        _this.touchScrollAllowed = true; // prevents drag from starting and blocks scrolling during drag\n        _this.mirrorNeedsRevert = false;\n        _this.isInteracting = false; // is the user validly moving the pointer? lasts until pointerup\n        _this.isDragging = false; // is it INTENTFULLY dragging? lasts until after revert animation\n        _this.isDelayEnded = false;\n        _this.isDistanceSurpassed = false;\n        _this.delayTimeoutId = null;\n        _this.onPointerDown = function (ev) {\n            if (!_this.isDragging) { // so new drag doesn't happen while revert animation is going\n                _this.isInteracting = true;\n                _this.isDelayEnded = false;\n                _this.isDistanceSurpassed = false;\n                preventSelection(document.body);\n                preventContextMenu(document.body);\n                // prevent links from being visited if there's an eventual drag.\n                // also prevents selection in older browsers (maybe?).\n                // not necessary for touch, besides, browser would complain about passiveness.\n                if (!ev.isTouch) {\n                    ev.origEvent.preventDefault();\n                }\n                _this.emitter.trigger('pointerdown', ev);\n                if (_this.isInteracting && // not destroyed via pointerdown handler\n                    !_this.pointer.shouldIgnoreMove) {\n                    // actions related to initiating dragstart+dragmove+dragend...\n                    _this.mirror.setIsVisible(false); // reset. caller must set-visible\n                    _this.mirror.start(ev.subjectEl, ev.pageX, ev.pageY); // must happen on first pointer down\n                    _this.startDelay(ev);\n                    if (!_this.minDistance) {\n                        _this.handleDistanceSurpassed(ev);\n                    }\n                }\n            }\n        };\n        _this.onPointerMove = function (ev) {\n            if (_this.isInteracting) {\n                _this.emitter.trigger('pointermove', ev);\n                if (!_this.isDistanceSurpassed) {\n                    var minDistance = _this.minDistance;\n                    var distanceSq = void 0; // current distance from the origin, squared\n                    var deltaX = ev.deltaX, deltaY = ev.deltaY;\n                    distanceSq = deltaX * deltaX + deltaY * deltaY;\n                    if (distanceSq >= minDistance * minDistance) { // use pythagorean theorem\n                        _this.handleDistanceSurpassed(ev);\n                    }\n                }\n                if (_this.isDragging) {\n                    // a real pointer move? (not one simulated by scrolling)\n                    if (ev.origEvent.type !== 'scroll') {\n                        _this.mirror.handleMove(ev.pageX, ev.pageY);\n                        _this.autoScroller.handleMove(ev.pageX, ev.pageY);\n                    }\n                    _this.emitter.trigger('dragmove', ev);\n                }\n            }\n        };\n        _this.onPointerUp = function (ev) {\n            if (_this.isInteracting) {\n                _this.isInteracting = false;\n                allowSelection(document.body);\n                allowContextMenu(document.body);\n                _this.emitter.trigger('pointerup', ev); // can potentially set mirrorNeedsRevert\n                if (_this.isDragging) {\n                    _this.autoScroller.stop();\n                    _this.tryStopDrag(ev); // which will stop the mirror\n                }\n                if (_this.delayTimeoutId) {\n                    clearTimeout(_this.delayTimeoutId);\n                    _this.delayTimeoutId = null;\n                }\n            }\n        };\n        var pointer = _this.pointer = new PointerDragging(containerEl);\n        pointer.emitter.on('pointerdown', _this.onPointerDown);\n        pointer.emitter.on('pointermove', _this.onPointerMove);\n        pointer.emitter.on('pointerup', _this.onPointerUp);\n        if (selector) {\n            pointer.selector = selector;\n        }\n        _this.mirror = new ElementMirror();\n        _this.autoScroller = new AutoScroller();\n        return _this;\n    }\n    FeaturefulElementDragging.prototype.destroy = function () {\n        this.pointer.destroy();\n        // HACK: simulate a pointer-up to end the current drag\n        // TODO: fire 'dragend' directly and stop interaction. discourage use of pointerup event (b/c might not fire)\n        this.onPointerUp({});\n    };\n    FeaturefulElementDragging.prototype.startDelay = function (ev) {\n        var _this = this;\n        if (typeof this.delay === 'number') {\n            this.delayTimeoutId = setTimeout(function () {\n                _this.delayTimeoutId = null;\n                _this.handleDelayEnd(ev);\n            }, this.delay); // not assignable to number!\n        }\n        else {\n            this.handleDelayEnd(ev);\n        }\n    };\n    FeaturefulElementDragging.prototype.handleDelayEnd = function (ev) {\n        this.isDelayEnded = true;\n        this.tryStartDrag(ev);\n    };\n    FeaturefulElementDragging.prototype.handleDistanceSurpassed = function (ev) {\n        this.isDistanceSurpassed = true;\n        this.tryStartDrag(ev);\n    };\n    FeaturefulElementDragging.prototype.tryStartDrag = function (ev) {\n        if (this.isDelayEnded && this.isDistanceSurpassed) {\n            if (!this.pointer.wasTouchScroll || this.touchScrollAllowed) {\n                this.isDragging = true;\n                this.mirrorNeedsRevert = false;\n                this.autoScroller.start(ev.pageX, ev.pageY);\n                this.emitter.trigger('dragstart', ev);\n                if (this.touchScrollAllowed === false) {\n                    this.pointer.cancelTouchScroll();\n                }\n            }\n        }\n    };\n    FeaturefulElementDragging.prototype.tryStopDrag = function (ev) {\n        // .stop() is ALWAYS asynchronous, which we NEED because we want all pointerup events\n        // that come from the document to fire beforehand. much more convenient this way.\n        this.mirror.stop(this.mirrorNeedsRevert, this.stopDrag.bind(this, ev));\n    };\n    FeaturefulElementDragging.prototype.stopDrag = function (ev) {\n        this.isDragging = false;\n        this.emitter.trigger('dragend', ev);\n    };\n    // fill in the implementations...\n    FeaturefulElementDragging.prototype.setIgnoreMove = function (bool) {\n        this.pointer.shouldIgnoreMove = bool;\n    };\n    FeaturefulElementDragging.prototype.setMirrorIsVisible = function (bool) {\n        this.mirror.setIsVisible(bool);\n    };\n    FeaturefulElementDragging.prototype.setMirrorNeedsRevert = function (bool) {\n        this.mirrorNeedsRevert = bool;\n    };\n    FeaturefulElementDragging.prototype.setAutoScrollEnabled = function (bool) {\n        this.autoScroller.isEnabled = bool;\n    };\n    return FeaturefulElementDragging;\n}(ElementDragging));\n\n/*\nWhen this class is instantiated, it records the offset of an element (relative to the document topleft),\nand continues to monitor scrolling, updating the cached coordinates if it needs to.\nDoes not access the DOM after instantiation, so highly performant.\n\nAlso keeps track of all scrolling/overflow:hidden containers that are parents of the given element\nand an determine if a given point is inside the combined clipping rectangle.\n*/\nvar OffsetTracker = /** @class */ (function () {\n    function OffsetTracker(el) {\n        this.origRect = computeRect(el);\n        // will work fine for divs that have overflow:hidden\n        this.scrollCaches = getClippingParents(el).map(function (scrollEl) { return new ElementScrollGeomCache(scrollEl, true); });\n    }\n    OffsetTracker.prototype.destroy = function () {\n        for (var _i = 0, _a = this.scrollCaches; _i < _a.length; _i++) {\n            var scrollCache = _a[_i];\n            scrollCache.destroy();\n        }\n    };\n    OffsetTracker.prototype.computeLeft = function () {\n        var left = this.origRect.left;\n        for (var _i = 0, _a = this.scrollCaches; _i < _a.length; _i++) {\n            var scrollCache = _a[_i];\n            left += scrollCache.origScrollLeft - scrollCache.getScrollLeft();\n        }\n        return left;\n    };\n    OffsetTracker.prototype.computeTop = function () {\n        var top = this.origRect.top;\n        for (var _i = 0, _a = this.scrollCaches; _i < _a.length; _i++) {\n            var scrollCache = _a[_i];\n            top += scrollCache.origScrollTop - scrollCache.getScrollTop();\n        }\n        return top;\n    };\n    OffsetTracker.prototype.isWithinClipping = function (pageX, pageY) {\n        var point = { left: pageX, top: pageY };\n        for (var _i = 0, _a = this.scrollCaches; _i < _a.length; _i++) {\n            var scrollCache = _a[_i];\n            if (!isIgnoredClipping(scrollCache.getEventTarget()) &&\n                !pointInsideRect(point, scrollCache.clientRect)) {\n                return false;\n            }\n        }\n        return true;\n    };\n    return OffsetTracker;\n}());\n// certain clipping containers should never constrain interactions, like <html> and <body>\n// https://github.com/fullcalendar/fullcalendar/issues/3615\nfunction isIgnoredClipping(node) {\n    var tagName = node.tagName;\n    return tagName === 'HTML' || tagName === 'BODY';\n}\n\n/*\nTracks movement over multiple droppable areas (aka \"hits\")\nthat exist in one or more DateComponents.\nRelies on an existing draggable.\n\nemits:\n- pointerdown\n- dragstart\n- hitchange - fires initially, even if not over a hit\n- pointerup\n- (hitchange - again, to null, if ended over a hit)\n- dragend\n*/\nvar HitDragging = /** @class */ (function () {\n    function HitDragging(dragging, droppableStore) {\n        var _this = this;\n        // options that can be set by caller\n        this.useSubjectCenter = false;\n        this.requireInitial = true; // if doesn't start out on a hit, won't emit any events\n        this.initialHit = null;\n        this.movingHit = null;\n        this.finalHit = null; // won't ever be populated if shouldIgnoreMove\n        this.handlePointerDown = function (ev) {\n            var dragging = _this.dragging;\n            _this.initialHit = null;\n            _this.movingHit = null;\n            _this.finalHit = null;\n            _this.prepareHits();\n            _this.processFirstCoord(ev);\n            if (_this.initialHit || !_this.requireInitial) {\n                dragging.setIgnoreMove(false);\n                // TODO: fire this before computing processFirstCoord, so listeners can cancel. this gets fired by almost every handler :(\n                _this.emitter.trigger('pointerdown', ev);\n            }\n            else {\n                dragging.setIgnoreMove(true);\n            }\n        };\n        this.handleDragStart = function (ev) {\n            _this.emitter.trigger('dragstart', ev);\n            _this.handleMove(ev, true); // force = fire even if initially null\n        };\n        this.handleDragMove = function (ev) {\n            _this.emitter.trigger('dragmove', ev);\n            _this.handleMove(ev);\n        };\n        this.handlePointerUp = function (ev) {\n            _this.releaseHits();\n            _this.emitter.trigger('pointerup', ev);\n        };\n        this.handleDragEnd = function (ev) {\n            if (_this.movingHit) {\n                _this.emitter.trigger('hitupdate', null, true, ev);\n            }\n            _this.finalHit = _this.movingHit;\n            _this.movingHit = null;\n            _this.emitter.trigger('dragend', ev);\n        };\n        this.droppableStore = droppableStore;\n        dragging.emitter.on('pointerdown', this.handlePointerDown);\n        dragging.emitter.on('dragstart', this.handleDragStart);\n        dragging.emitter.on('dragmove', this.handleDragMove);\n        dragging.emitter.on('pointerup', this.handlePointerUp);\n        dragging.emitter.on('dragend', this.handleDragEnd);\n        this.dragging = dragging;\n        this.emitter = new Emitter();\n    }\n    // sets initialHit\n    // sets coordAdjust\n    HitDragging.prototype.processFirstCoord = function (ev) {\n        var origPoint = { left: ev.pageX, top: ev.pageY };\n        var adjustedPoint = origPoint;\n        var subjectEl = ev.subjectEl;\n        var subjectRect;\n        if (subjectEl !== document) {\n            subjectRect = computeRect(subjectEl);\n            adjustedPoint = constrainPoint(adjustedPoint, subjectRect);\n        }\n        var initialHit = this.initialHit = this.queryHitForOffset(adjustedPoint.left, adjustedPoint.top);\n        if (initialHit) {\n            if (this.useSubjectCenter && subjectRect) {\n                var slicedSubjectRect = intersectRects(subjectRect, initialHit.rect);\n                if (slicedSubjectRect) {\n                    adjustedPoint = getRectCenter(slicedSubjectRect);\n                }\n            }\n            this.coordAdjust = diffPoints(adjustedPoint, origPoint);\n        }\n        else {\n            this.coordAdjust = { left: 0, top: 0 };\n        }\n    };\n    HitDragging.prototype.handleMove = function (ev, forceHandle) {\n        var hit = this.queryHitForOffset(ev.pageX + this.coordAdjust.left, ev.pageY + this.coordAdjust.top);\n        if (forceHandle || !isHitsEqual(this.movingHit, hit)) {\n            this.movingHit = hit;\n            this.emitter.trigger('hitupdate', hit, false, ev);\n        }\n    };\n    HitDragging.prototype.prepareHits = function () {\n        this.offsetTrackers = mapHash(this.droppableStore, function (interactionSettings) {\n            interactionSettings.component.prepareHits();\n            return new OffsetTracker(interactionSettings.el);\n        });\n    };\n    HitDragging.prototype.releaseHits = function () {\n        var offsetTrackers = this.offsetTrackers;\n        for (var id in offsetTrackers) {\n            offsetTrackers[id].destroy();\n        }\n        this.offsetTrackers = {};\n    };\n    HitDragging.prototype.queryHitForOffset = function (offsetLeft, offsetTop) {\n        var _a = this, droppableStore = _a.droppableStore, offsetTrackers = _a.offsetTrackers;\n        var bestHit = null;\n        for (var id in droppableStore) {\n            var component = droppableStore[id].component;\n            var offsetTracker = offsetTrackers[id];\n            if (offsetTracker && // wasn't destroyed mid-drag\n                offsetTracker.isWithinClipping(offsetLeft, offsetTop)) {\n                var originLeft = offsetTracker.computeLeft();\n                var originTop = offsetTracker.computeTop();\n                var positionLeft = offsetLeft - originLeft;\n                var positionTop = offsetTop - originTop;\n                var origRect = offsetTracker.origRect;\n                var width = origRect.right - origRect.left;\n                var height = origRect.bottom - origRect.top;\n                if (\n                // must be within the element's bounds\n                positionLeft >= 0 && positionLeft < width &&\n                    positionTop >= 0 && positionTop < height) {\n                    var hit = component.queryHit(positionLeft, positionTop, width, height);\n                    if (hit && (\n                    // make sure the hit is within activeRange, meaning it's not a dead cell\n                    rangeContainsRange(hit.dateProfile.activeRange, hit.dateSpan.range)) &&\n                        (!bestHit || hit.layer > bestHit.layer)) {\n                        hit.componentId = id;\n                        hit.context = component.context;\n                        // TODO: better way to re-orient rectangle\n                        hit.rect.left += originLeft;\n                        hit.rect.right += originLeft;\n                        hit.rect.top += originTop;\n                        hit.rect.bottom += originTop;\n                        bestHit = hit;\n                    }\n                }\n            }\n        }\n        return bestHit;\n    };\n    return HitDragging;\n}());\nfunction isHitsEqual(hit0, hit1) {\n    if (!hit0 && !hit1) {\n        return true;\n    }\n    if (Boolean(hit0) !== Boolean(hit1)) {\n        return false;\n    }\n    return isDateSpansEqual(hit0.dateSpan, hit1.dateSpan);\n}\n\nfunction buildDatePointApiWithContext(dateSpan, context) {\n    var props = {};\n    for (var _i = 0, _a = context.pluginHooks.datePointTransforms; _i < _a.length; _i++) {\n        var transform = _a[_i];\n        __assign(props, transform(dateSpan, context));\n    }\n    __assign(props, buildDatePointApi(dateSpan, context.dateEnv));\n    return props;\n}\nfunction buildDatePointApi(span, dateEnv) {\n    return {\n        date: dateEnv.toDate(span.range.start),\n        dateStr: dateEnv.formatIso(span.range.start, { omitTime: span.allDay }),\n        allDay: span.allDay,\n    };\n}\n\n/*\nMonitors when the user clicks on a specific date/time of a component.\nA pointerdown+pointerup on the same \"hit\" constitutes a click.\n*/\nvar DateClicking = /** @class */ (function (_super) {\n    __extends(DateClicking, _super);\n    function DateClicking(settings) {\n        var _this = _super.call(this, settings) || this;\n        _this.handlePointerDown = function (pev) {\n            var dragging = _this.dragging;\n            var downEl = pev.origEvent.target;\n            // do this in pointerdown (not dragend) because DOM might be mutated by the time dragend is fired\n            dragging.setIgnoreMove(!_this.component.isValidDateDownEl(downEl));\n        };\n        // won't even fire if moving was ignored\n        _this.handleDragEnd = function (ev) {\n            var component = _this.component;\n            var pointer = _this.dragging.pointer;\n            if (!pointer.wasTouchScroll) {\n                var _a = _this.hitDragging, initialHit = _a.initialHit, finalHit = _a.finalHit;\n                if (initialHit && finalHit && isHitsEqual(initialHit, finalHit)) {\n                    var context = component.context;\n                    var arg = __assign(__assign({}, buildDatePointApiWithContext(initialHit.dateSpan, context)), { dayEl: initialHit.dayEl, jsEvent: ev.origEvent, view: context.viewApi || context.calendarApi.view });\n                    context.emitter.trigger('dateClick', arg);\n                }\n            }\n        };\n        // we DO want to watch pointer moves because otherwise finalHit won't get populated\n        _this.dragging = new FeaturefulElementDragging(settings.el);\n        _this.dragging.autoScroller.isEnabled = false;\n        var hitDragging = _this.hitDragging = new HitDragging(_this.dragging, interactionSettingsToStore(settings));\n        hitDragging.emitter.on('pointerdown', _this.handlePointerDown);\n        hitDragging.emitter.on('dragend', _this.handleDragEnd);\n        return _this;\n    }\n    DateClicking.prototype.destroy = function () {\n        this.dragging.destroy();\n    };\n    return DateClicking;\n}(Interaction));\n\n/*\nTracks when the user selects a portion of time of a component,\nconstituted by a drag over date cells, with a possible delay at the beginning of the drag.\n*/\nvar DateSelecting = /** @class */ (function (_super) {\n    __extends(DateSelecting, _super);\n    function DateSelecting(settings) {\n        var _this = _super.call(this, settings) || this;\n        _this.dragSelection = null;\n        _this.handlePointerDown = function (ev) {\n            var _a = _this, component = _a.component, dragging = _a.dragging;\n            var options = component.context.options;\n            var canSelect = options.selectable &&\n                component.isValidDateDownEl(ev.origEvent.target);\n            // don't bother to watch expensive moves if component won't do selection\n            dragging.setIgnoreMove(!canSelect);\n            // if touch, require user to hold down\n            dragging.delay = ev.isTouch ? getComponentTouchDelay$1(component) : null;\n        };\n        _this.handleDragStart = function (ev) {\n            _this.component.context.calendarApi.unselect(ev); // unselect previous selections\n        };\n        _this.handleHitUpdate = function (hit, isFinal) {\n            var context = _this.component.context;\n            var dragSelection = null;\n            var isInvalid = false;\n            if (hit) {\n                var initialHit = _this.hitDragging.initialHit;\n                var disallowed = hit.componentId === initialHit.componentId\n                    && _this.isHitComboAllowed\n                    && !_this.isHitComboAllowed(initialHit, hit);\n                if (!disallowed) {\n                    dragSelection = joinHitsIntoSelection(initialHit, hit, context.pluginHooks.dateSelectionTransformers);\n                }\n                if (!dragSelection || !isDateSelectionValid(dragSelection, hit.dateProfile, context)) {\n                    isInvalid = true;\n                    dragSelection = null;\n                }\n            }\n            if (dragSelection) {\n                context.dispatch({ type: 'SELECT_DATES', selection: dragSelection });\n            }\n            else if (!isFinal) { // only unselect if moved away while dragging\n                context.dispatch({ type: 'UNSELECT_DATES' });\n            }\n            if (!isInvalid) {\n                enableCursor();\n            }\n            else {\n                disableCursor();\n            }\n            if (!isFinal) {\n                _this.dragSelection = dragSelection; // only clear if moved away from all hits while dragging\n            }\n        };\n        _this.handlePointerUp = function (pev) {\n            if (_this.dragSelection) {\n                // selection is already rendered, so just need to report selection\n                triggerDateSelect(_this.dragSelection, pev, _this.component.context);\n                _this.dragSelection = null;\n            }\n        };\n        var component = settings.component;\n        var options = component.context.options;\n        var dragging = _this.dragging = new FeaturefulElementDragging(settings.el);\n        dragging.touchScrollAllowed = false;\n        dragging.minDistance = options.selectMinDistance || 0;\n        dragging.autoScroller.isEnabled = options.dragScroll;\n        var hitDragging = _this.hitDragging = new HitDragging(_this.dragging, interactionSettingsToStore(settings));\n        hitDragging.emitter.on('pointerdown', _this.handlePointerDown);\n        hitDragging.emitter.on('dragstart', _this.handleDragStart);\n        hitDragging.emitter.on('hitupdate', _this.handleHitUpdate);\n        hitDragging.emitter.on('pointerup', _this.handlePointerUp);\n        return _this;\n    }\n    DateSelecting.prototype.destroy = function () {\n        this.dragging.destroy();\n    };\n    return DateSelecting;\n}(Interaction));\nfunction getComponentTouchDelay$1(component) {\n    var options = component.context.options;\n    var delay = options.selectLongPressDelay;\n    if (delay == null) {\n        delay = options.longPressDelay;\n    }\n    return delay;\n}\nfunction joinHitsIntoSelection(hit0, hit1, dateSelectionTransformers) {\n    var dateSpan0 = hit0.dateSpan;\n    var dateSpan1 = hit1.dateSpan;\n    var ms = [\n        dateSpan0.range.start,\n        dateSpan0.range.end,\n        dateSpan1.range.start,\n        dateSpan1.range.end,\n    ];\n    ms.sort(compareNumbers);\n    var props = {};\n    for (var _i = 0, dateSelectionTransformers_1 = dateSelectionTransformers; _i < dateSelectionTransformers_1.length; _i++) {\n        var transformer = dateSelectionTransformers_1[_i];\n        var res = transformer(hit0, hit1);\n        if (res === false) {\n            return null;\n        }\n        if (res) {\n            __assign(props, res);\n        }\n    }\n    props.range = { start: ms[0], end: ms[3] };\n    props.allDay = dateSpan0.allDay;\n    return props;\n}\n\nvar EventDragging = /** @class */ (function (_super) {\n    __extends(EventDragging, _super);\n    function EventDragging(settings) {\n        var _this = _super.call(this, settings) || this;\n        // internal state\n        _this.subjectEl = null;\n        _this.subjectSeg = null; // the seg being selected/dragged\n        _this.isDragging = false;\n        _this.eventRange = null;\n        _this.relevantEvents = null; // the events being dragged\n        _this.receivingContext = null;\n        _this.validMutation = null;\n        _this.mutatedRelevantEvents = null;\n        _this.handlePointerDown = function (ev) {\n            var origTarget = ev.origEvent.target;\n            var _a = _this, component = _a.component, dragging = _a.dragging;\n            var mirror = dragging.mirror;\n            var options = component.context.options;\n            var initialContext = component.context;\n            _this.subjectEl = ev.subjectEl;\n            var subjectSeg = _this.subjectSeg = getElSeg(ev.subjectEl);\n            var eventRange = _this.eventRange = subjectSeg.eventRange;\n            var eventInstanceId = eventRange.instance.instanceId;\n            _this.relevantEvents = getRelevantEvents(initialContext.getCurrentData().eventStore, eventInstanceId);\n            dragging.minDistance = ev.isTouch ? 0 : options.eventDragMinDistance;\n            dragging.delay =\n                // only do a touch delay if touch and this event hasn't been selected yet\n                (ev.isTouch && eventInstanceId !== component.props.eventSelection) ?\n                    getComponentTouchDelay(component) :\n                    null;\n            if (options.fixedMirrorParent) {\n                mirror.parentNode = options.fixedMirrorParent;\n            }\n            else {\n                mirror.parentNode = elementClosest(origTarget, '.fc');\n            }\n            mirror.revertDuration = options.dragRevertDuration;\n            var isValid = component.isValidSegDownEl(origTarget) &&\n                !elementClosest(origTarget, '.fc-event-resizer'); // NOT on a resizer\n            dragging.setIgnoreMove(!isValid);\n            // disable dragging for elements that are resizable (ie, selectable)\n            // but are not draggable\n            _this.isDragging = isValid &&\n                ev.subjectEl.classList.contains('fc-event-draggable');\n        };\n        _this.handleDragStart = function (ev) {\n            var initialContext = _this.component.context;\n            var eventRange = _this.eventRange;\n            var eventInstanceId = eventRange.instance.instanceId;\n            if (ev.isTouch) {\n                // need to select a different event?\n                if (eventInstanceId !== _this.component.props.eventSelection) {\n                    initialContext.dispatch({ type: 'SELECT_EVENT', eventInstanceId: eventInstanceId });\n                }\n            }\n            else {\n                // if now using mouse, but was previous touch interaction, clear selected event\n                initialContext.dispatch({ type: 'UNSELECT_EVENT' });\n            }\n            if (_this.isDragging) {\n                initialContext.calendarApi.unselect(ev); // unselect *date* selection\n                initialContext.emitter.trigger('eventDragStart', {\n                    el: _this.subjectEl,\n                    event: new EventApi(initialContext, eventRange.def, eventRange.instance),\n                    jsEvent: ev.origEvent,\n                    view: initialContext.viewApi,\n                });\n            }\n        };\n        _this.handleHitUpdate = function (hit, isFinal) {\n            if (!_this.isDragging) {\n                return;\n            }\n            var relevantEvents = _this.relevantEvents;\n            var initialHit = _this.hitDragging.initialHit;\n            var initialContext = _this.component.context;\n            // states based on new hit\n            var receivingContext = null;\n            var mutation = null;\n            var mutatedRelevantEvents = null;\n            var isInvalid = false;\n            var interaction = {\n                affectedEvents: relevantEvents,\n                mutatedEvents: createEmptyEventStore(),\n                isEvent: true,\n            };\n            if (hit) {\n                receivingContext = hit.context;\n                var receivingOptions = receivingContext.options;\n                if (initialContext === receivingContext ||\n                    (receivingOptions.editable && receivingOptions.droppable)) {\n                    mutation = computeEventMutation(initialHit, hit, receivingContext.getCurrentData().pluginHooks.eventDragMutationMassagers);\n                    if (mutation) {\n                        mutatedRelevantEvents = applyMutationToEventStore(relevantEvents, receivingContext.getCurrentData().eventUiBases, mutation, receivingContext);\n                        interaction.mutatedEvents = mutatedRelevantEvents;\n                        if (!isInteractionValid(interaction, hit.dateProfile, receivingContext)) {\n                            isInvalid = true;\n                            mutation = null;\n                            mutatedRelevantEvents = null;\n                            interaction.mutatedEvents = createEmptyEventStore();\n                        }\n                    }\n                }\n                else {\n                    receivingContext = null;\n                }\n            }\n            _this.displayDrag(receivingContext, interaction);\n            if (!isInvalid) {\n                enableCursor();\n            }\n            else {\n                disableCursor();\n            }\n            if (!isFinal) {\n                if (initialContext === receivingContext && // TODO: write test for this\n                    isHitsEqual(initialHit, hit)) {\n                    mutation = null;\n                }\n                _this.dragging.setMirrorNeedsRevert(!mutation);\n                // render the mirror if no already-rendered mirror\n                // TODO: wish we could somehow wait for dispatch to guarantee render\n                _this.dragging.setMirrorIsVisible(!hit || !document.querySelector('.fc-event-mirror'));\n                // assign states based on new hit\n                _this.receivingContext = receivingContext;\n                _this.validMutation = mutation;\n                _this.mutatedRelevantEvents = mutatedRelevantEvents;\n            }\n        };\n        _this.handlePointerUp = function () {\n            if (!_this.isDragging) {\n                _this.cleanup(); // because handleDragEnd won't fire\n            }\n        };\n        _this.handleDragEnd = function (ev) {\n            if (_this.isDragging) {\n                var initialContext_1 = _this.component.context;\n                var initialView = initialContext_1.viewApi;\n                var _a = _this, receivingContext_1 = _a.receivingContext, validMutation = _a.validMutation;\n                var eventDef = _this.eventRange.def;\n                var eventInstance = _this.eventRange.instance;\n                var eventApi = new EventApi(initialContext_1, eventDef, eventInstance);\n                var relevantEvents_1 = _this.relevantEvents;\n                var mutatedRelevantEvents_1 = _this.mutatedRelevantEvents;\n                var finalHit = _this.hitDragging.finalHit;\n                _this.clearDrag(); // must happen after revert animation\n                initialContext_1.emitter.trigger('eventDragStop', {\n                    el: _this.subjectEl,\n                    event: eventApi,\n                    jsEvent: ev.origEvent,\n                    view: initialView,\n                });\n                if (validMutation) {\n                    // dropped within same calendar\n                    if (receivingContext_1 === initialContext_1) {\n                        var updatedEventApi = new EventApi(initialContext_1, mutatedRelevantEvents_1.defs[eventDef.defId], eventInstance ? mutatedRelevantEvents_1.instances[eventInstance.instanceId] : null);\n                        initialContext_1.dispatch({\n                            type: 'MERGE_EVENTS',\n                            eventStore: mutatedRelevantEvents_1,\n                        });\n                        var eventChangeArg = {\n                            oldEvent: eventApi,\n                            event: updatedEventApi,\n                            relatedEvents: buildEventApis(mutatedRelevantEvents_1, initialContext_1, eventInstance),\n                            revert: function () {\n                                initialContext_1.dispatch({\n                                    type: 'MERGE_EVENTS',\n                                    eventStore: relevantEvents_1, // the pre-change data\n                                });\n                            },\n                        };\n                        var transformed = {};\n                        for (var _i = 0, _b = initialContext_1.getCurrentData().pluginHooks.eventDropTransformers; _i < _b.length; _i++) {\n                            var transformer = _b[_i];\n                            __assign(transformed, transformer(validMutation, initialContext_1));\n                        }\n                        initialContext_1.emitter.trigger('eventDrop', __assign(__assign(__assign({}, eventChangeArg), transformed), { el: ev.subjectEl, delta: validMutation.datesDelta, jsEvent: ev.origEvent, view: initialView }));\n                        initialContext_1.emitter.trigger('eventChange', eventChangeArg);\n                        // dropped in different calendar\n                    }\n                    else if (receivingContext_1) {\n                        var eventRemoveArg = {\n                            event: eventApi,\n                            relatedEvents: buildEventApis(relevantEvents_1, initialContext_1, eventInstance),\n                            revert: function () {\n                                initialContext_1.dispatch({\n                                    type: 'MERGE_EVENTS',\n                                    eventStore: relevantEvents_1,\n                                });\n                            },\n                        };\n                        initialContext_1.emitter.trigger('eventLeave', __assign(__assign({}, eventRemoveArg), { draggedEl: ev.subjectEl, view: initialView }));\n                        initialContext_1.dispatch({\n                            type: 'REMOVE_EVENTS',\n                            eventStore: relevantEvents_1,\n                        });\n                        initialContext_1.emitter.trigger('eventRemove', eventRemoveArg);\n                        var addedEventDef = mutatedRelevantEvents_1.defs[eventDef.defId];\n                        var addedEventInstance = mutatedRelevantEvents_1.instances[eventInstance.instanceId];\n                        var addedEventApi = new EventApi(receivingContext_1, addedEventDef, addedEventInstance);\n                        receivingContext_1.dispatch({\n                            type: 'MERGE_EVENTS',\n                            eventStore: mutatedRelevantEvents_1,\n                        });\n                        var eventAddArg = {\n                            event: addedEventApi,\n                            relatedEvents: buildEventApis(mutatedRelevantEvents_1, receivingContext_1, addedEventInstance),\n                            revert: function () {\n                                receivingContext_1.dispatch({\n                                    type: 'REMOVE_EVENTS',\n                                    eventStore: mutatedRelevantEvents_1,\n                                });\n                            },\n                        };\n                        receivingContext_1.emitter.trigger('eventAdd', eventAddArg);\n                        if (ev.isTouch) {\n                            receivingContext_1.dispatch({\n                                type: 'SELECT_EVENT',\n                                eventInstanceId: eventInstance.instanceId,\n                            });\n                        }\n                        receivingContext_1.emitter.trigger('drop', __assign(__assign({}, buildDatePointApiWithContext(finalHit.dateSpan, receivingContext_1)), { draggedEl: ev.subjectEl, jsEvent: ev.origEvent, view: finalHit.context.viewApi }));\n                        receivingContext_1.emitter.trigger('eventReceive', __assign(__assign({}, eventAddArg), { draggedEl: ev.subjectEl, view: finalHit.context.viewApi }));\n                    }\n                }\n                else {\n                    initialContext_1.emitter.trigger('_noEventDrop');\n                }\n            }\n            _this.cleanup();\n        };\n        var component = _this.component;\n        var options = component.context.options;\n        var dragging = _this.dragging = new FeaturefulElementDragging(settings.el);\n        dragging.pointer.selector = EventDragging.SELECTOR;\n        dragging.touchScrollAllowed = false;\n        dragging.autoScroller.isEnabled = options.dragScroll;\n        var hitDragging = _this.hitDragging = new HitDragging(_this.dragging, interactionSettingsStore);\n        hitDragging.useSubjectCenter = settings.useEventCenter;\n        hitDragging.emitter.on('pointerdown', _this.handlePointerDown);\n        hitDragging.emitter.on('dragstart', _this.handleDragStart);\n        hitDragging.emitter.on('hitupdate', _this.handleHitUpdate);\n        hitDragging.emitter.on('pointerup', _this.handlePointerUp);\n        hitDragging.emitter.on('dragend', _this.handleDragEnd);\n        return _this;\n    }\n    EventDragging.prototype.destroy = function () {\n        this.dragging.destroy();\n    };\n    // render a drag state on the next receivingCalendar\n    EventDragging.prototype.displayDrag = function (nextContext, state) {\n        var initialContext = this.component.context;\n        var prevContext = this.receivingContext;\n        // does the previous calendar need to be cleared?\n        if (prevContext && prevContext !== nextContext) {\n            // does the initial calendar need to be cleared?\n            // if so, don't clear all the way. we still need to to hide the affectedEvents\n            if (prevContext === initialContext) {\n                prevContext.dispatch({\n                    type: 'SET_EVENT_DRAG',\n                    state: {\n                        affectedEvents: state.affectedEvents,\n                        mutatedEvents: createEmptyEventStore(),\n                        isEvent: true,\n                    },\n                });\n                // completely clear the old calendar if it wasn't the initial\n            }\n            else {\n                prevContext.dispatch({ type: 'UNSET_EVENT_DRAG' });\n            }\n        }\n        if (nextContext) {\n            nextContext.dispatch({ type: 'SET_EVENT_DRAG', state: state });\n        }\n    };\n    EventDragging.prototype.clearDrag = function () {\n        var initialCalendar = this.component.context;\n        var receivingContext = this.receivingContext;\n        if (receivingContext) {\n            receivingContext.dispatch({ type: 'UNSET_EVENT_DRAG' });\n        }\n        // the initial calendar might have an dummy drag state from displayDrag\n        if (initialCalendar !== receivingContext) {\n            initialCalendar.dispatch({ type: 'UNSET_EVENT_DRAG' });\n        }\n    };\n    EventDragging.prototype.cleanup = function () {\n        this.subjectSeg = null;\n        this.isDragging = false;\n        this.eventRange = null;\n        this.relevantEvents = null;\n        this.receivingContext = null;\n        this.validMutation = null;\n        this.mutatedRelevantEvents = null;\n    };\n    // TODO: test this in IE11\n    // QUESTION: why do we need it on the resizable???\n    EventDragging.SELECTOR = '.fc-event-draggable, .fc-event-resizable';\n    return EventDragging;\n}(Interaction));\nfunction computeEventMutation(hit0, hit1, massagers) {\n    var dateSpan0 = hit0.dateSpan;\n    var dateSpan1 = hit1.dateSpan;\n    var date0 = dateSpan0.range.start;\n    var date1 = dateSpan1.range.start;\n    var standardProps = {};\n    if (dateSpan0.allDay !== dateSpan1.allDay) {\n        standardProps.allDay = dateSpan1.allDay;\n        standardProps.hasEnd = hit1.context.options.allDayMaintainDuration;\n        if (dateSpan1.allDay) {\n            // means date1 is already start-of-day,\n            // but date0 needs to be converted\n            date0 = startOfDay(date0);\n        }\n    }\n    var delta = diffDates(date0, date1, hit0.context.dateEnv, hit0.componentId === hit1.componentId ?\n        hit0.largeUnit :\n        null);\n    if (delta.milliseconds) { // has hours/minutes/seconds\n        standardProps.allDay = false;\n    }\n    var mutation = {\n        datesDelta: delta,\n        standardProps: standardProps,\n    };\n    for (var _i = 0, massagers_1 = massagers; _i < massagers_1.length; _i++) {\n        var massager = massagers_1[_i];\n        massager(mutation, hit0, hit1);\n    }\n    return mutation;\n}\nfunction getComponentTouchDelay(component) {\n    var options = component.context.options;\n    var delay = options.eventLongPressDelay;\n    if (delay == null) {\n        delay = options.longPressDelay;\n    }\n    return delay;\n}\n\nvar EventResizing = /** @class */ (function (_super) {\n    __extends(EventResizing, _super);\n    function EventResizing(settings) {\n        var _this = _super.call(this, settings) || this;\n        // internal state\n        _this.draggingSegEl = null;\n        _this.draggingSeg = null; // TODO: rename to resizingSeg? subjectSeg?\n        _this.eventRange = null;\n        _this.relevantEvents = null;\n        _this.validMutation = null;\n        _this.mutatedRelevantEvents = null;\n        _this.handlePointerDown = function (ev) {\n            var component = _this.component;\n            var segEl = _this.querySegEl(ev);\n            var seg = getElSeg(segEl);\n            var eventRange = _this.eventRange = seg.eventRange;\n            _this.dragging.minDistance = component.context.options.eventDragMinDistance;\n            // if touch, need to be working with a selected event\n            _this.dragging.setIgnoreMove(!_this.component.isValidSegDownEl(ev.origEvent.target) ||\n                (ev.isTouch && _this.component.props.eventSelection !== eventRange.instance.instanceId));\n        };\n        _this.handleDragStart = function (ev) {\n            var context = _this.component.context;\n            var eventRange = _this.eventRange;\n            _this.relevantEvents = getRelevantEvents(context.getCurrentData().eventStore, _this.eventRange.instance.instanceId);\n            var segEl = _this.querySegEl(ev);\n            _this.draggingSegEl = segEl;\n            _this.draggingSeg = getElSeg(segEl);\n            context.calendarApi.unselect();\n            context.emitter.trigger('eventResizeStart', {\n                el: segEl,\n                event: new EventApi(context, eventRange.def, eventRange.instance),\n                jsEvent: ev.origEvent,\n                view: context.viewApi,\n            });\n        };\n        _this.handleHitUpdate = function (hit, isFinal, ev) {\n            var context = _this.component.context;\n            var relevantEvents = _this.relevantEvents;\n            var initialHit = _this.hitDragging.initialHit;\n            var eventInstance = _this.eventRange.instance;\n            var mutation = null;\n            var mutatedRelevantEvents = null;\n            var isInvalid = false;\n            var interaction = {\n                affectedEvents: relevantEvents,\n                mutatedEvents: createEmptyEventStore(),\n                isEvent: true,\n            };\n            if (hit) {\n                var disallowed = hit.componentId === initialHit.componentId\n                    && _this.isHitComboAllowed\n                    && !_this.isHitComboAllowed(initialHit, hit);\n                if (!disallowed) {\n                    mutation = computeMutation(initialHit, hit, ev.subjectEl.classList.contains('fc-event-resizer-start'), eventInstance.range);\n                }\n            }\n            if (mutation) {\n                mutatedRelevantEvents = applyMutationToEventStore(relevantEvents, context.getCurrentData().eventUiBases, mutation, context);\n                interaction.mutatedEvents = mutatedRelevantEvents;\n                if (!isInteractionValid(interaction, hit.dateProfile, context)) {\n                    isInvalid = true;\n                    mutation = null;\n                    mutatedRelevantEvents = null;\n                    interaction.mutatedEvents = null;\n                }\n            }\n            if (mutatedRelevantEvents) {\n                context.dispatch({\n                    type: 'SET_EVENT_RESIZE',\n                    state: interaction,\n                });\n            }\n            else {\n                context.dispatch({ type: 'UNSET_EVENT_RESIZE' });\n            }\n            if (!isInvalid) {\n                enableCursor();\n            }\n            else {\n                disableCursor();\n            }\n            if (!isFinal) {\n                if (mutation && isHitsEqual(initialHit, hit)) {\n                    mutation = null;\n                }\n                _this.validMutation = mutation;\n                _this.mutatedRelevantEvents = mutatedRelevantEvents;\n            }\n        };\n        _this.handleDragEnd = function (ev) {\n            var context = _this.component.context;\n            var eventDef = _this.eventRange.def;\n            var eventInstance = _this.eventRange.instance;\n            var eventApi = new EventApi(context, eventDef, eventInstance);\n            var relevantEvents = _this.relevantEvents;\n            var mutatedRelevantEvents = _this.mutatedRelevantEvents;\n            context.emitter.trigger('eventResizeStop', {\n                el: _this.draggingSegEl,\n                event: eventApi,\n                jsEvent: ev.origEvent,\n                view: context.viewApi,\n            });\n            if (_this.validMutation) {\n                var updatedEventApi = new EventApi(context, mutatedRelevantEvents.defs[eventDef.defId], eventInstance ? mutatedRelevantEvents.instances[eventInstance.instanceId] : null);\n                context.dispatch({\n                    type: 'MERGE_EVENTS',\n                    eventStore: mutatedRelevantEvents,\n                });\n                var eventChangeArg = {\n                    oldEvent: eventApi,\n                    event: updatedEventApi,\n                    relatedEvents: buildEventApis(mutatedRelevantEvents, context, eventInstance),\n                    revert: function () {\n                        context.dispatch({\n                            type: 'MERGE_EVENTS',\n                            eventStore: relevantEvents, // the pre-change events\n                        });\n                    },\n                };\n                context.emitter.trigger('eventResize', __assign(__assign({}, eventChangeArg), { el: _this.draggingSegEl, startDelta: _this.validMutation.startDelta || createDuration(0), endDelta: _this.validMutation.endDelta || createDuration(0), jsEvent: ev.origEvent, view: context.viewApi }));\n                context.emitter.trigger('eventChange', eventChangeArg);\n            }\n            else {\n                context.emitter.trigger('_noEventResize');\n            }\n            // reset all internal state\n            _this.draggingSeg = null;\n            _this.relevantEvents = null;\n            _this.validMutation = null;\n            // okay to keep eventInstance around. useful to set it in handlePointerDown\n        };\n        var component = settings.component;\n        var dragging = _this.dragging = new FeaturefulElementDragging(settings.el);\n        dragging.pointer.selector = '.fc-event-resizer';\n        dragging.touchScrollAllowed = false;\n        dragging.autoScroller.isEnabled = component.context.options.dragScroll;\n        var hitDragging = _this.hitDragging = new HitDragging(_this.dragging, interactionSettingsToStore(settings));\n        hitDragging.emitter.on('pointerdown', _this.handlePointerDown);\n        hitDragging.emitter.on('dragstart', _this.handleDragStart);\n        hitDragging.emitter.on('hitupdate', _this.handleHitUpdate);\n        hitDragging.emitter.on('dragend', _this.handleDragEnd);\n        return _this;\n    }\n    EventResizing.prototype.destroy = function () {\n        this.dragging.destroy();\n    };\n    EventResizing.prototype.querySegEl = function (ev) {\n        return elementClosest(ev.subjectEl, '.fc-event');\n    };\n    return EventResizing;\n}(Interaction));\nfunction computeMutation(hit0, hit1, isFromStart, instanceRange) {\n    var dateEnv = hit0.context.dateEnv;\n    var date0 = hit0.dateSpan.range.start;\n    var date1 = hit1.dateSpan.range.start;\n    var delta = diffDates(date0, date1, dateEnv, hit0.largeUnit);\n    if (isFromStart) {\n        if (dateEnv.add(instanceRange.start, delta) < instanceRange.end) {\n            return { startDelta: delta };\n        }\n    }\n    else if (dateEnv.add(instanceRange.end, delta) > instanceRange.start) {\n        return { endDelta: delta };\n    }\n    return null;\n}\n\nvar UnselectAuto = /** @class */ (function () {\n    function UnselectAuto(context) {\n        var _this = this;\n        this.context = context;\n        this.isRecentPointerDateSelect = false; // wish we could use a selector to detect date selection, but uses hit system\n        this.matchesCancel = false;\n        this.matchesEvent = false;\n        this.onSelect = function (selectInfo) {\n            if (selectInfo.jsEvent) {\n                _this.isRecentPointerDateSelect = true;\n            }\n        };\n        this.onDocumentPointerDown = function (pev) {\n            var unselectCancel = _this.context.options.unselectCancel;\n            var downEl = pev.origEvent.target;\n            _this.matchesCancel = !!elementClosest(downEl, unselectCancel);\n            _this.matchesEvent = !!elementClosest(downEl, EventDragging.SELECTOR); // interaction started on an event?\n        };\n        this.onDocumentPointerUp = function (pev) {\n            var context = _this.context;\n            var documentPointer = _this.documentPointer;\n            var calendarState = context.getCurrentData();\n            // touch-scrolling should never unfocus any type of selection\n            if (!documentPointer.wasTouchScroll) {\n                if (calendarState.dateSelection && // an existing date selection?\n                    !_this.isRecentPointerDateSelect // a new pointer-initiated date selection since last onDocumentPointerUp?\n                ) {\n                    var unselectAuto = context.options.unselectAuto;\n                    if (unselectAuto && (!unselectAuto || !_this.matchesCancel)) {\n                        context.calendarApi.unselect(pev);\n                    }\n                }\n                if (calendarState.eventSelection && // an existing event selected?\n                    !_this.matchesEvent // interaction DIDN'T start on an event\n                ) {\n                    context.dispatch({ type: 'UNSELECT_EVENT' });\n                }\n            }\n            _this.isRecentPointerDateSelect = false;\n        };\n        var documentPointer = this.documentPointer = new PointerDragging(document);\n        documentPointer.shouldIgnoreMove = true;\n        documentPointer.shouldWatchScroll = false;\n        documentPointer.emitter.on('pointerdown', this.onDocumentPointerDown);\n        documentPointer.emitter.on('pointerup', this.onDocumentPointerUp);\n        /*\n        TODO: better way to know about whether there was a selection with the pointer\n        */\n        context.emitter.on('select', this.onSelect);\n    }\n    UnselectAuto.prototype.destroy = function () {\n        this.context.emitter.off('select', this.onSelect);\n        this.documentPointer.destroy();\n    };\n    return UnselectAuto;\n}());\n\nvar OPTION_REFINERS = {\n    fixedMirrorParent: identity,\n};\nvar LISTENER_REFINERS = {\n    dateClick: identity,\n    eventDragStart: identity,\n    eventDragStop: identity,\n    eventDrop: identity,\n    eventResizeStart: identity,\n    eventResizeStop: identity,\n    eventResize: identity,\n    drop: identity,\n    eventReceive: identity,\n    eventLeave: identity,\n};\n\n/*\nGiven an already instantiated draggable object for one-or-more elements,\nInterprets any dragging as an attempt to drag an events that lives outside\nof a calendar onto a calendar.\n*/\nvar ExternalElementDragging = /** @class */ (function () {\n    function ExternalElementDragging(dragging, suppliedDragMeta) {\n        var _this = this;\n        this.receivingContext = null;\n        this.droppableEvent = null; // will exist for all drags, even if create:false\n        this.suppliedDragMeta = null;\n        this.dragMeta = null;\n        this.handleDragStart = function (ev) {\n            _this.dragMeta = _this.buildDragMeta(ev.subjectEl);\n        };\n        this.handleHitUpdate = function (hit, isFinal, ev) {\n            var dragging = _this.hitDragging.dragging;\n            var receivingContext = null;\n            var droppableEvent = null;\n            var isInvalid = false;\n            var interaction = {\n                affectedEvents: createEmptyEventStore(),\n                mutatedEvents: createEmptyEventStore(),\n                isEvent: _this.dragMeta.create,\n            };\n            if (hit) {\n                receivingContext = hit.context;\n                if (_this.canDropElOnCalendar(ev.subjectEl, receivingContext)) {\n                    droppableEvent = computeEventForDateSpan(hit.dateSpan, _this.dragMeta, receivingContext);\n                    interaction.mutatedEvents = eventTupleToStore(droppableEvent);\n                    isInvalid = !isInteractionValid(interaction, hit.dateProfile, receivingContext);\n                    if (isInvalid) {\n                        interaction.mutatedEvents = createEmptyEventStore();\n                        droppableEvent = null;\n                    }\n                }\n            }\n            _this.displayDrag(receivingContext, interaction);\n            // show mirror if no already-rendered mirror element OR if we are shutting down the mirror (?)\n            // TODO: wish we could somehow wait for dispatch to guarantee render\n            dragging.setMirrorIsVisible(isFinal || !droppableEvent || !document.querySelector('.fc-event-mirror'));\n            if (!isInvalid) {\n                enableCursor();\n            }\n            else {\n                disableCursor();\n            }\n            if (!isFinal) {\n                dragging.setMirrorNeedsRevert(!droppableEvent);\n                _this.receivingContext = receivingContext;\n                _this.droppableEvent = droppableEvent;\n            }\n        };\n        this.handleDragEnd = function (pev) {\n            var _a = _this, receivingContext = _a.receivingContext, droppableEvent = _a.droppableEvent;\n            _this.clearDrag();\n            if (receivingContext && droppableEvent) {\n                var finalHit = _this.hitDragging.finalHit;\n                var finalView = finalHit.context.viewApi;\n                var dragMeta = _this.dragMeta;\n                receivingContext.emitter.trigger('drop', __assign(__assign({}, buildDatePointApiWithContext(finalHit.dateSpan, receivingContext)), { draggedEl: pev.subjectEl, jsEvent: pev.origEvent, view: finalView }));\n                if (dragMeta.create) {\n                    var addingEvents_1 = eventTupleToStore(droppableEvent);\n                    receivingContext.dispatch({\n                        type: 'MERGE_EVENTS',\n                        eventStore: addingEvents_1,\n                    });\n                    if (pev.isTouch) {\n                        receivingContext.dispatch({\n                            type: 'SELECT_EVENT',\n                            eventInstanceId: droppableEvent.instance.instanceId,\n                        });\n                    }\n                    // signal that an external event landed\n                    receivingContext.emitter.trigger('eventReceive', {\n                        event: new EventApi(receivingContext, droppableEvent.def, droppableEvent.instance),\n                        relatedEvents: [],\n                        revert: function () {\n                            receivingContext.dispatch({\n                                type: 'REMOVE_EVENTS',\n                                eventStore: addingEvents_1,\n                            });\n                        },\n                        draggedEl: pev.subjectEl,\n                        view: finalView,\n                    });\n                }\n            }\n            _this.receivingContext = null;\n            _this.droppableEvent = null;\n        };\n        var hitDragging = this.hitDragging = new HitDragging(dragging, interactionSettingsStore);\n        hitDragging.requireInitial = false; // will start outside of a component\n        hitDragging.emitter.on('dragstart', this.handleDragStart);\n        hitDragging.emitter.on('hitupdate', this.handleHitUpdate);\n        hitDragging.emitter.on('dragend', this.handleDragEnd);\n        this.suppliedDragMeta = suppliedDragMeta;\n    }\n    ExternalElementDragging.prototype.buildDragMeta = function (subjectEl) {\n        if (typeof this.suppliedDragMeta === 'object') {\n            return parseDragMeta(this.suppliedDragMeta);\n        }\n        if (typeof this.suppliedDragMeta === 'function') {\n            return parseDragMeta(this.suppliedDragMeta(subjectEl));\n        }\n        return getDragMetaFromEl(subjectEl);\n    };\n    ExternalElementDragging.prototype.displayDrag = function (nextContext, state) {\n        var prevContext = this.receivingContext;\n        if (prevContext && prevContext !== nextContext) {\n            prevContext.dispatch({ type: 'UNSET_EVENT_DRAG' });\n        }\n        if (nextContext) {\n            nextContext.dispatch({ type: 'SET_EVENT_DRAG', state: state });\n        }\n    };\n    ExternalElementDragging.prototype.clearDrag = function () {\n        if (this.receivingContext) {\n            this.receivingContext.dispatch({ type: 'UNSET_EVENT_DRAG' });\n        }\n    };\n    ExternalElementDragging.prototype.canDropElOnCalendar = function (el, receivingContext) {\n        var dropAccept = receivingContext.options.dropAccept;\n        if (typeof dropAccept === 'function') {\n            return dropAccept.call(receivingContext.calendarApi, el);\n        }\n        if (typeof dropAccept === 'string' && dropAccept) {\n            return Boolean(elementMatches(el, dropAccept));\n        }\n        return true;\n    };\n    return ExternalElementDragging;\n}());\n// Utils for computing event store from the DragMeta\n// ----------------------------------------------------------------------------------------------------\nfunction computeEventForDateSpan(dateSpan, dragMeta, context) {\n    var defProps = __assign({}, dragMeta.leftoverProps);\n    for (var _i = 0, _a = context.pluginHooks.externalDefTransforms; _i < _a.length; _i++) {\n        var transform = _a[_i];\n        __assign(defProps, transform(dateSpan, dragMeta));\n    }\n    var _b = refineEventDef(defProps, context), refined = _b.refined, extra = _b.extra;\n    var def = parseEventDef(refined, extra, dragMeta.sourceId, dateSpan.allDay, context.options.forceEventDuration || Boolean(dragMeta.duration), // hasEnd\n    context);\n    var start = dateSpan.range.start;\n    // only rely on time info if drop zone is all-day,\n    // otherwise, we already know the time\n    if (dateSpan.allDay && dragMeta.startTime) {\n        start = context.dateEnv.add(start, dragMeta.startTime);\n    }\n    var end = dragMeta.duration ?\n        context.dateEnv.add(start, dragMeta.duration) :\n        getDefaultEventEnd(dateSpan.allDay, start, context);\n    var instance = createEventInstance(def.defId, { start: start, end: end });\n    return { def: def, instance: instance };\n}\n// Utils for extracting data from element\n// ----------------------------------------------------------------------------------------------------\nfunction getDragMetaFromEl(el) {\n    var str = getEmbeddedElData(el, 'event');\n    var obj = str ?\n        JSON.parse(str) :\n        { create: false }; // if no embedded data, assume no event creation\n    return parseDragMeta(obj);\n}\nconfig.dataAttrPrefix = '';\nfunction getEmbeddedElData(el, name) {\n    var prefix = config.dataAttrPrefix;\n    var prefixedName = (prefix ? prefix + '-' : '') + name;\n    return el.getAttribute('data-' + prefixedName) || '';\n}\n\n/*\nMakes an element (that is *external* to any calendar) draggable.\nCan pass in data that determines how an event will be created when dropped onto a calendar.\nLeverages FullCalendar's internal drag-n-drop functionality WITHOUT a third-party drag system.\n*/\nvar ExternalDraggable = /** @class */ (function () {\n    function ExternalDraggable(el, settings) {\n        var _this = this;\n        if (settings === void 0) { settings = {}; }\n        this.handlePointerDown = function (ev) {\n            var dragging = _this.dragging;\n            var _a = _this.settings, minDistance = _a.minDistance, longPressDelay = _a.longPressDelay;\n            dragging.minDistance =\n                minDistance != null ?\n                    minDistance :\n                    (ev.isTouch ? 0 : BASE_OPTION_DEFAULTS.eventDragMinDistance);\n            dragging.delay =\n                ev.isTouch ? // TODO: eventually read eventLongPressDelay instead vvv\n                    (longPressDelay != null ? longPressDelay : BASE_OPTION_DEFAULTS.longPressDelay) :\n                    0;\n        };\n        this.handleDragStart = function (ev) {\n            if (ev.isTouch &&\n                _this.dragging.delay &&\n                ev.subjectEl.classList.contains('fc-event')) {\n                _this.dragging.mirror.getMirrorEl().classList.add('fc-event-selected');\n            }\n        };\n        this.settings = settings;\n        var dragging = this.dragging = new FeaturefulElementDragging(el);\n        dragging.touchScrollAllowed = false;\n        if (settings.itemSelector != null) {\n            dragging.pointer.selector = settings.itemSelector;\n        }\n        if (settings.appendTo != null) {\n            dragging.mirror.parentNode = settings.appendTo; // TODO: write tests\n        }\n        dragging.emitter.on('pointerdown', this.handlePointerDown);\n        dragging.emitter.on('dragstart', this.handleDragStart);\n        new ExternalElementDragging(dragging, settings.eventData); // eslint-disable-line no-new\n    }\n    ExternalDraggable.prototype.destroy = function () {\n        this.dragging.destroy();\n    };\n    return ExternalDraggable;\n}());\n\n/*\nDetects when a *THIRD-PARTY* drag-n-drop system interacts with elements.\nThe third-party system is responsible for drawing the visuals effects of the drag.\nThis class simply monitors for pointer movements and fires events.\nIt also has the ability to hide the moving element (the \"mirror\") during the drag.\n*/\nvar InferredElementDragging = /** @class */ (function (_super) {\n    __extends(InferredElementDragging, _super);\n    function InferredElementDragging(containerEl) {\n        var _this = _super.call(this, containerEl) || this;\n        _this.shouldIgnoreMove = false;\n        _this.mirrorSelector = '';\n        _this.currentMirrorEl = null;\n        _this.handlePointerDown = function (ev) {\n            _this.emitter.trigger('pointerdown', ev);\n            if (!_this.shouldIgnoreMove) {\n                // fire dragstart right away. does not support delay or min-distance\n                _this.emitter.trigger('dragstart', ev);\n            }\n        };\n        _this.handlePointerMove = function (ev) {\n            if (!_this.shouldIgnoreMove) {\n                _this.emitter.trigger('dragmove', ev);\n            }\n        };\n        _this.handlePointerUp = function (ev) {\n            _this.emitter.trigger('pointerup', ev);\n            if (!_this.shouldIgnoreMove) {\n                // fire dragend right away. does not support a revert animation\n                _this.emitter.trigger('dragend', ev);\n            }\n        };\n        var pointer = _this.pointer = new PointerDragging(containerEl);\n        pointer.emitter.on('pointerdown', _this.handlePointerDown);\n        pointer.emitter.on('pointermove', _this.handlePointerMove);\n        pointer.emitter.on('pointerup', _this.handlePointerUp);\n        return _this;\n    }\n    InferredElementDragging.prototype.destroy = function () {\n        this.pointer.destroy();\n    };\n    InferredElementDragging.prototype.setIgnoreMove = function (bool) {\n        this.shouldIgnoreMove = bool;\n    };\n    InferredElementDragging.prototype.setMirrorIsVisible = function (bool) {\n        if (bool) {\n            // restore a previously hidden element.\n            // use the reference in case the selector class has already been removed.\n            if (this.currentMirrorEl) {\n                this.currentMirrorEl.style.visibility = '';\n                this.currentMirrorEl = null;\n            }\n        }\n        else {\n            var mirrorEl = this.mirrorSelector ?\n                document.querySelector(this.mirrorSelector) :\n                null;\n            if (mirrorEl) {\n                this.currentMirrorEl = mirrorEl;\n                mirrorEl.style.visibility = 'hidden';\n            }\n        }\n    };\n    return InferredElementDragging;\n}(ElementDragging));\n\n/*\nBridges third-party drag-n-drop systems with FullCalendar.\nMust be instantiated and destroyed by caller.\n*/\nvar ThirdPartyDraggable = /** @class */ (function () {\n    function ThirdPartyDraggable(containerOrSettings, settings) {\n        var containerEl = document;\n        if (\n        // wish we could just test instanceof EventTarget, but doesn't work in IE11\n        containerOrSettings === document ||\n            containerOrSettings instanceof Element) {\n            containerEl = containerOrSettings;\n            settings = settings || {};\n        }\n        else {\n            settings = (containerOrSettings || {});\n        }\n        var dragging = this.dragging = new InferredElementDragging(containerEl);\n        if (typeof settings.itemSelector === 'string') {\n            dragging.pointer.selector = settings.itemSelector;\n        }\n        else if (containerEl === document) {\n            dragging.pointer.selector = '[data-event]';\n        }\n        if (typeof settings.mirrorSelector === 'string') {\n            dragging.mirrorSelector = settings.mirrorSelector;\n        }\n        new ExternalElementDragging(dragging, settings.eventData); // eslint-disable-line no-new\n    }\n    ThirdPartyDraggable.prototype.destroy = function () {\n        this.dragging.destroy();\n    };\n    return ThirdPartyDraggable;\n}());\n\nvar main = createPlugin({\n    componentInteractions: [DateClicking, DateSelecting, EventDragging, EventResizing],\n    calendarInteractions: [UnselectAuto],\n    elementDraggingImpl: FeaturefulElementDragging,\n    optionRefiners: OPTION_REFINERS,\n    listenerRefiners: LISTENER_REFINERS,\n});\n\nexport default main;\nexport { ExternalDraggable as Draggable, FeaturefulElementDragging, PointerDragging, ThirdPartyDraggable };\n","/*!\nFullCalendar v5.7.2\nDocs & License: https://fullcalendar.io/\n(c) 2021 Adam Shaw\n*/\nimport './main.css';\n\nimport { getDateMeta, buildNavLinkData, getDayClassNames, createElement, RenderHook, formatDayString, BaseComponent, Fragment, createFormatter, EventRoot, isMultiDayRange, buildSegTimeText, memoize, ViewRoot, Scroller, NowTimer, sortEventSegs, getSegMeta, sliceEventStore, intersectRanges, DateComponent, startOfDay, addDays, identity, createPlugin } from '@fullcalendar/common';\nimport { __extends, __assign } from 'tslib';\n\nvar ListViewHeaderRow = /** @class */ (function (_super) {\n    __extends(ListViewHeaderRow, _super);\n    function ListViewHeaderRow() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    ListViewHeaderRow.prototype.render = function () {\n        var _a = this.props, dayDate = _a.dayDate, todayRange = _a.todayRange;\n        var _b = this.context, theme = _b.theme, dateEnv = _b.dateEnv, options = _b.options, viewApi = _b.viewApi;\n        var dayMeta = getDateMeta(dayDate, todayRange);\n        // will ever be falsy?\n        var text = options.listDayFormat ? dateEnv.format(dayDate, options.listDayFormat) : '';\n        // will ever be falsy? also, BAD NAME \"alt\"\n        var sideText = options.listDaySideFormat ? dateEnv.format(dayDate, options.listDaySideFormat) : '';\n        var navLinkData = options.navLinks\n            ? buildNavLinkData(dayDate)\n            : null;\n        var hookProps = __assign({ date: dateEnv.toDate(dayDate), view: viewApi, text: text,\n            sideText: sideText,\n            navLinkData: navLinkData }, dayMeta);\n        var classNames = ['fc-list-day'].concat(getDayClassNames(dayMeta, theme));\n        // TODO: make a reusable HOC for dayHeader (used in daygrid/timegrid too)\n        return (createElement(RenderHook, { hookProps: hookProps, classNames: options.dayHeaderClassNames, content: options.dayHeaderContent, defaultContent: renderInnerContent, didMount: options.dayHeaderDidMount, willUnmount: options.dayHeaderWillUnmount }, function (rootElRef, customClassNames, innerElRef, innerContent) { return (createElement(\"tr\", { ref: rootElRef, className: classNames.concat(customClassNames).join(' '), \"data-date\": formatDayString(dayDate) },\n            createElement(\"th\", { colSpan: 3 },\n                createElement(\"div\", { className: 'fc-list-day-cushion ' + theme.getClass('tableCellShaded'), ref: innerElRef }, innerContent)))); }));\n    };\n    return ListViewHeaderRow;\n}(BaseComponent));\nfunction renderInnerContent(props) {\n    var navLinkAttrs = props.navLinkData // is there a type for this?\n        ? { 'data-navlink': props.navLinkData, tabIndex: 0 }\n        : {};\n    return (createElement(Fragment, null,\n        props.text && (createElement(\"a\", __assign({ className: \"fc-list-day-text\" }, navLinkAttrs), props.text)),\n        props.sideText && (createElement(\"a\", __assign({ className: \"fc-list-day-side-text\" }, navLinkAttrs), props.sideText))));\n}\n\nvar DEFAULT_TIME_FORMAT = createFormatter({\n    hour: 'numeric',\n    minute: '2-digit',\n    meridiem: 'short',\n});\nvar ListViewEventRow = /** @class */ (function (_super) {\n    __extends(ListViewEventRow, _super);\n    function ListViewEventRow() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    ListViewEventRow.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        var seg = props.seg;\n        var timeFormat = context.options.eventTimeFormat || DEFAULT_TIME_FORMAT;\n        return (createElement(EventRoot, { seg: seg, timeText: \"\" // BAD. because of all-day content\n            , disableDragging: true, disableResizing: true, defaultContent: renderEventInnerContent, isPast: props.isPast, isFuture: props.isFuture, isToday: props.isToday, isSelected: props.isSelected, isDragging: props.isDragging, isResizing: props.isResizing, isDateSelecting: props.isDateSelecting }, function (rootElRef, classNames, innerElRef, innerContent, hookProps) { return (createElement(\"tr\", { className: ['fc-list-event', hookProps.event.url ? 'fc-event-forced-url' : ''].concat(classNames).join(' '), ref: rootElRef },\n            buildTimeContent(seg, timeFormat, context),\n            createElement(\"td\", { className: \"fc-list-event-graphic\" },\n                createElement(\"span\", { className: \"fc-list-event-dot\", style: { borderColor: hookProps.borderColor || hookProps.backgroundColor } })),\n            createElement(\"td\", { className: \"fc-list-event-title\", ref: innerElRef }, innerContent))); }));\n    };\n    return ListViewEventRow;\n}(BaseComponent));\nfunction renderEventInnerContent(props) {\n    var event = props.event;\n    var url = event.url;\n    var anchorAttrs = url ? { href: url } : {};\n    return (createElement(\"a\", __assign({}, anchorAttrs), event.title));\n}\nfunction buildTimeContent(seg, timeFormat, context) {\n    var options = context.options;\n    if (options.displayEventTime !== false) {\n        var eventDef = seg.eventRange.def;\n        var eventInstance = seg.eventRange.instance;\n        var doAllDay = false;\n        var timeText = void 0;\n        if (eventDef.allDay) {\n            doAllDay = true;\n        }\n        else if (isMultiDayRange(seg.eventRange.range)) { // TODO: use (!isStart || !isEnd) instead?\n            if (seg.isStart) {\n                timeText = buildSegTimeText(seg, timeFormat, context, null, null, eventInstance.range.start, seg.end);\n            }\n            else if (seg.isEnd) {\n                timeText = buildSegTimeText(seg, timeFormat, context, null, null, seg.start, eventInstance.range.end);\n            }\n            else {\n                doAllDay = true;\n            }\n        }\n        else {\n            timeText = buildSegTimeText(seg, timeFormat, context);\n        }\n        if (doAllDay) {\n            var hookProps = {\n                text: context.options.allDayText,\n                view: context.viewApi,\n            };\n            return (createElement(RenderHook, { hookProps: hookProps, classNames: options.allDayClassNames, content: options.allDayContent, defaultContent: renderAllDayInner, didMount: options.allDayDidMount, willUnmount: options.allDayWillUnmount }, function (rootElRef, classNames, innerElRef, innerContent) { return (createElement(\"td\", { className: ['fc-list-event-time'].concat(classNames).join(' '), ref: rootElRef }, innerContent)); }));\n        }\n        return (createElement(\"td\", { className: \"fc-list-event-time\" }, timeText));\n    }\n    return null;\n}\nfunction renderAllDayInner(hookProps) {\n    return hookProps.text;\n}\n\n/*\nResponsible for the scroller, and forwarding event-related actions into the \"grid\".\n*/\nvar ListView = /** @class */ (function (_super) {\n    __extends(ListView, _super);\n    function ListView() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.computeDateVars = memoize(computeDateVars);\n        _this.eventStoreToSegs = memoize(_this._eventStoreToSegs);\n        _this.setRootEl = function (rootEl) {\n            if (rootEl) {\n                _this.context.registerInteractiveComponent(_this, {\n                    el: rootEl,\n                });\n            }\n            else {\n                _this.context.unregisterInteractiveComponent(_this);\n            }\n        };\n        return _this;\n    }\n    ListView.prototype.render = function () {\n        var _this = this;\n        var _a = this, props = _a.props, context = _a.context;\n        var extraClassNames = [\n            'fc-list',\n            context.theme.getClass('table'),\n            context.options.stickyHeaderDates !== false ? 'fc-list-sticky' : '',\n        ];\n        var _b = this.computeDateVars(props.dateProfile), dayDates = _b.dayDates, dayRanges = _b.dayRanges;\n        var eventSegs = this.eventStoreToSegs(props.eventStore, props.eventUiBases, dayRanges);\n        return (createElement(ViewRoot, { viewSpec: context.viewSpec, elRef: this.setRootEl }, function (rootElRef, classNames) { return (createElement(\"div\", { ref: rootElRef, className: extraClassNames.concat(classNames).join(' ') },\n            createElement(Scroller, { liquid: !props.isHeightAuto, overflowX: props.isHeightAuto ? 'visible' : 'hidden', overflowY: props.isHeightAuto ? 'visible' : 'auto' }, eventSegs.length > 0 ?\n                _this.renderSegList(eventSegs, dayDates) :\n                _this.renderEmptyMessage()))); }));\n    };\n    ListView.prototype.renderEmptyMessage = function () {\n        var _a = this.context, options = _a.options, viewApi = _a.viewApi;\n        var hookProps = {\n            text: options.noEventsText,\n            view: viewApi,\n        };\n        return (createElement(RenderHook, { hookProps: hookProps, classNames: options.noEventsClassNames, content: options.noEventsContent, defaultContent: renderNoEventsInner, didMount: options.noEventsDidMount, willUnmount: options.noEventsWillUnmount }, function (rootElRef, classNames, innerElRef, innerContent) { return (createElement(\"div\", { className: ['fc-list-empty'].concat(classNames).join(' '), ref: rootElRef },\n            createElement(\"div\", { className: \"fc-list-empty-cushion\", ref: innerElRef }, innerContent))); }));\n    };\n    ListView.prototype.renderSegList = function (allSegs, dayDates) {\n        var _a = this.context, theme = _a.theme, options = _a.options;\n        var segsByDay = groupSegsByDay(allSegs); // sparse array\n        return (createElement(NowTimer, { unit: \"day\" }, function (nowDate, todayRange) {\n            var innerNodes = [];\n            for (var dayIndex = 0; dayIndex < segsByDay.length; dayIndex += 1) {\n                var daySegs = segsByDay[dayIndex];\n                if (daySegs) { // sparse array, so might be undefined\n                    var dayStr = dayDates[dayIndex].toISOString();\n                    // append a day header\n                    innerNodes.push(createElement(ListViewHeaderRow, { key: dayStr, dayDate: dayDates[dayIndex], todayRange: todayRange }));\n                    daySegs = sortEventSegs(daySegs, options.eventOrder);\n                    for (var _i = 0, daySegs_1 = daySegs; _i < daySegs_1.length; _i++) {\n                        var seg = daySegs_1[_i];\n                        innerNodes.push(createElement(ListViewEventRow, __assign({ key: dayStr + ':' + seg.eventRange.instance.instanceId /* are multiple segs for an instanceId */, seg: seg, isDragging: false, isResizing: false, isDateSelecting: false, isSelected: false }, getSegMeta(seg, todayRange, nowDate))));\n                    }\n                }\n            }\n            return (createElement(\"table\", { className: 'fc-list-table ' + theme.getClass('table') },\n                createElement(\"tbody\", null, innerNodes)));\n        }));\n    };\n    ListView.prototype._eventStoreToSegs = function (eventStore, eventUiBases, dayRanges) {\n        return this.eventRangesToSegs(sliceEventStore(eventStore, eventUiBases, this.props.dateProfile.activeRange, this.context.options.nextDayThreshold).fg, dayRanges);\n    };\n    ListView.prototype.eventRangesToSegs = function (eventRanges, dayRanges) {\n        var segs = [];\n        for (var _i = 0, eventRanges_1 = eventRanges; _i < eventRanges_1.length; _i++) {\n            var eventRange = eventRanges_1[_i];\n            segs.push.apply(segs, this.eventRangeToSegs(eventRange, dayRanges));\n        }\n        return segs;\n    };\n    ListView.prototype.eventRangeToSegs = function (eventRange, dayRanges) {\n        var dateEnv = this.context.dateEnv;\n        var nextDayThreshold = this.context.options.nextDayThreshold;\n        var range = eventRange.range;\n        var allDay = eventRange.def.allDay;\n        var dayIndex;\n        var segRange;\n        var seg;\n        var segs = [];\n        for (dayIndex = 0; dayIndex < dayRanges.length; dayIndex += 1) {\n            segRange = intersectRanges(range, dayRanges[dayIndex]);\n            if (segRange) {\n                seg = {\n                    component: this,\n                    eventRange: eventRange,\n                    start: segRange.start,\n                    end: segRange.end,\n                    isStart: eventRange.isStart && segRange.start.valueOf() === range.start.valueOf(),\n                    isEnd: eventRange.isEnd && segRange.end.valueOf() === range.end.valueOf(),\n                    dayIndex: dayIndex,\n                };\n                segs.push(seg);\n                // detect when range won't go fully into the next day,\n                // and mutate the latest seg to the be the end.\n                if (!seg.isEnd && !allDay &&\n                    dayIndex + 1 < dayRanges.length &&\n                    range.end <\n                        dateEnv.add(dayRanges[dayIndex + 1].start, nextDayThreshold)) {\n                    seg.end = range.end;\n                    seg.isEnd = true;\n                    break;\n                }\n            }\n        }\n        return segs;\n    };\n    return ListView;\n}(DateComponent));\nfunction renderNoEventsInner(hookProps) {\n    return hookProps.text;\n}\nfunction computeDateVars(dateProfile) {\n    var dayStart = startOfDay(dateProfile.renderRange.start);\n    var viewEnd = dateProfile.renderRange.end;\n    var dayDates = [];\n    var dayRanges = [];\n    while (dayStart < viewEnd) {\n        dayDates.push(dayStart);\n        dayRanges.push({\n            start: dayStart,\n            end: addDays(dayStart, 1),\n        });\n        dayStart = addDays(dayStart, 1);\n    }\n    return { dayDates: dayDates, dayRanges: dayRanges };\n}\n// Returns a sparse array of arrays, segs grouped by their dayIndex\nfunction groupSegsByDay(segs) {\n    var segsByDay = []; // sparse array\n    var i;\n    var seg;\n    for (i = 0; i < segs.length; i += 1) {\n        seg = segs[i];\n        (segsByDay[seg.dayIndex] || (segsByDay[seg.dayIndex] = []))\n            .push(seg);\n    }\n    return segsByDay;\n}\n\nvar OPTION_REFINERS = {\n    listDayFormat: createFalsableFormatter,\n    listDaySideFormat: createFalsableFormatter,\n    noEventsClassNames: identity,\n    noEventsContent: identity,\n    noEventsDidMount: identity,\n    noEventsWillUnmount: identity,\n    // noEventsText is defined in base options\n};\nfunction createFalsableFormatter(input) {\n    return input === false ? null : createFormatter(input);\n}\n\nvar main = createPlugin({\n    optionRefiners: OPTION_REFINERS,\n    views: {\n        list: {\n            component: ListView,\n            buttonTextKey: 'list',\n            listDayFormat: { month: 'long', day: 'numeric', year: 'numeric' }, // like \"January 1, 2016\"\n        },\n        listDay: {\n            type: 'list',\n            duration: { days: 1 },\n            listDayFormat: { weekday: 'long' }, // day-of-week is all we need. full date is probably in headerToolbar\n        },\n        listWeek: {\n            type: 'list',\n            duration: { weeks: 1 },\n            listDayFormat: { weekday: 'long' },\n            listDaySideFormat: { month: 'long', day: 'numeric', year: 'numeric' },\n        },\n        listMonth: {\n            type: 'list',\n            duration: { month: 1 },\n            listDaySideFormat: { weekday: 'long' }, // day-of-week is nice-to-have\n        },\n        listYear: {\n            type: 'list',\n            duration: { year: 1 },\n            listDaySideFormat: { weekday: 'long' }, // day-of-week is nice-to-have\n        },\n    },\n});\n\nexport default main;\nexport { ListView };\n","/*!\nFullCalendar v5.7.2\nDocs & License: https://fullcalendar.io/\n(c) 2021 Adam Shaw\n*/\nimport './main.css';\n\nimport { hasBgRendering, Splitter, createFormatter, createElement, ViewContextType, RenderHook, BaseComponent, createRef, diffDays, buildNavLinkData, WeekNumberRoot, getStickyHeaderDates, ViewRoot, SimpleScrollGrid, getStickyFooterScrollbar, NowTimer, NowIndicatorRoot, renderScrollShim, DateComponent, rangeContainsMarker, startOfDay, asRoughMs, createDuration, RefMap, PositionCache, MoreLinkRoot, setRef, SegHierarchy, groupIntersectingEntries, buildEntryKey, binarySearch, getEntrySpanEnd, StandardEvent, DayCellContent, Fragment, getSegMeta, memoize, sortEventSegs, DayCellRoot, buildIsoString, computeEarliestSegStart, buildEventRangeKey, BgEvent, renderFill, addDurations, multiplyDuration, wholeDivideDurations, intersectRanges, Slicer, formatIsoTimeString, DayHeader, DaySeriesModel, DayTableModel, createPlugin } from '@fullcalendar/common';\nimport { __extends, __assign } from 'tslib';\nimport { DayTable } from '@fullcalendar/daygrid';\n\nvar AllDaySplitter = /** @class */ (function (_super) {\n    __extends(AllDaySplitter, _super);\n    function AllDaySplitter() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    AllDaySplitter.prototype.getKeyInfo = function () {\n        return {\n            allDay: {},\n            timed: {},\n        };\n    };\n    AllDaySplitter.prototype.getKeysForDateSpan = function (dateSpan) {\n        if (dateSpan.allDay) {\n            return ['allDay'];\n        }\n        return ['timed'];\n    };\n    AllDaySplitter.prototype.getKeysForEventDef = function (eventDef) {\n        if (!eventDef.allDay) {\n            return ['timed'];\n        }\n        if (hasBgRendering(eventDef)) {\n            return ['timed', 'allDay'];\n        }\n        return ['allDay'];\n    };\n    return AllDaySplitter;\n}(Splitter));\n\nvar DEFAULT_SLAT_LABEL_FORMAT = createFormatter({\n    hour: 'numeric',\n    minute: '2-digit',\n    omitZeroMinute: true,\n    meridiem: 'short',\n});\nfunction TimeColsAxisCell(props) {\n    var classNames = [\n        'fc-timegrid-slot',\n        'fc-timegrid-slot-label',\n        props.isLabeled ? 'fc-scrollgrid-shrink' : 'fc-timegrid-slot-minor',\n    ];\n    return (createElement(ViewContextType.Consumer, null, function (context) {\n        if (!props.isLabeled) {\n            return (createElement(\"td\", { className: classNames.join(' '), \"data-time\": props.isoTimeStr }));\n        }\n        var dateEnv = context.dateEnv, options = context.options, viewApi = context.viewApi;\n        var labelFormat = // TODO: fully pre-parse\n         options.slotLabelFormat == null ? DEFAULT_SLAT_LABEL_FORMAT :\n            Array.isArray(options.slotLabelFormat) ? createFormatter(options.slotLabelFormat[0]) :\n                createFormatter(options.slotLabelFormat);\n        var hookProps = {\n            level: 0,\n            time: props.time,\n            date: dateEnv.toDate(props.date),\n            view: viewApi,\n            text: dateEnv.format(props.date, labelFormat),\n        };\n        return (createElement(RenderHook, { hookProps: hookProps, classNames: options.slotLabelClassNames, content: options.slotLabelContent, defaultContent: renderInnerContent, didMount: options.slotLabelDidMount, willUnmount: options.slotLabelWillUnmount }, function (rootElRef, customClassNames, innerElRef, innerContent) { return (createElement(\"td\", { ref: rootElRef, className: classNames.concat(customClassNames).join(' '), \"data-time\": props.isoTimeStr },\n            createElement(\"div\", { className: \"fc-timegrid-slot-label-frame fc-scrollgrid-shrink-frame\" },\n                createElement(\"div\", { className: \"fc-timegrid-slot-label-cushion fc-scrollgrid-shrink-cushion\", ref: innerElRef }, innerContent)))); }));\n    }));\n}\nfunction renderInnerContent(props) {\n    return props.text;\n}\n\nvar TimeBodyAxis = /** @class */ (function (_super) {\n    __extends(TimeBodyAxis, _super);\n    function TimeBodyAxis() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TimeBodyAxis.prototype.render = function () {\n        return this.props.slatMetas.map(function (slatMeta) { return (createElement(\"tr\", { key: slatMeta.key },\n            createElement(TimeColsAxisCell, __assign({}, slatMeta)))); });\n    };\n    return TimeBodyAxis;\n}(BaseComponent));\n\nvar DEFAULT_WEEK_NUM_FORMAT = createFormatter({ week: 'short' });\nvar AUTO_ALL_DAY_MAX_EVENT_ROWS = 5;\nvar TimeColsView = /** @class */ (function (_super) {\n    __extends(TimeColsView, _super);\n    function TimeColsView() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.allDaySplitter = new AllDaySplitter(); // for use by subclasses\n        _this.headerElRef = createRef();\n        _this.rootElRef = createRef();\n        _this.scrollerElRef = createRef();\n        _this.state = {\n            slatCoords: null,\n        };\n        _this.handleScrollTopRequest = function (scrollTop) {\n            var scrollerEl = _this.scrollerElRef.current;\n            if (scrollerEl) { // TODO: not sure how this could ever be null. weirdness with the reducer\n                scrollerEl.scrollTop = scrollTop;\n            }\n        };\n        /* Header Render Methods\n        ------------------------------------------------------------------------------------------------------------------*/\n        _this.renderHeadAxis = function (rowKey, frameHeight) {\n            if (frameHeight === void 0) { frameHeight = ''; }\n            var options = _this.context.options;\n            var dateProfile = _this.props.dateProfile;\n            var range = dateProfile.renderRange;\n            var dayCnt = diffDays(range.start, range.end);\n            var navLinkAttrs = (options.navLinks && dayCnt === 1) // only do in day views (to avoid doing in week views that dont need it)\n                ? { 'data-navlink': buildNavLinkData(range.start, 'week'), tabIndex: 0 }\n                : {};\n            if (options.weekNumbers && rowKey === 'day') {\n                return (createElement(WeekNumberRoot, { date: range.start, defaultFormat: DEFAULT_WEEK_NUM_FORMAT }, function (rootElRef, classNames, innerElRef, innerContent) { return (createElement(\"th\", { ref: rootElRef, className: [\n                        'fc-timegrid-axis',\n                        'fc-scrollgrid-shrink',\n                    ].concat(classNames).join(' ') },\n                    createElement(\"div\", { className: \"fc-timegrid-axis-frame fc-scrollgrid-shrink-frame fc-timegrid-axis-frame-liquid\", style: { height: frameHeight } },\n                        createElement(\"a\", __assign({ ref: innerElRef, className: \"fc-timegrid-axis-cushion fc-scrollgrid-shrink-cushion fc-scrollgrid-sync-inner\" }, navLinkAttrs), innerContent)))); }));\n            }\n            return (createElement(\"th\", { className: \"fc-timegrid-axis\" },\n                createElement(\"div\", { className: \"fc-timegrid-axis-frame\", style: { height: frameHeight } })));\n        };\n        /* Table Component Render Methods\n        ------------------------------------------------------------------------------------------------------------------*/\n        // only a one-way height sync. we don't send the axis inner-content height to the DayGrid,\n        // but DayGrid still needs to have classNames on inner elements in order to measure.\n        _this.renderTableRowAxis = function (rowHeight) {\n            var _a = _this.context, options = _a.options, viewApi = _a.viewApi;\n            var hookProps = {\n                text: options.allDayText,\n                view: viewApi,\n            };\n            return (\n            // TODO: make reusable hook. used in list view too\n            createElement(RenderHook, { hookProps: hookProps, classNames: options.allDayClassNames, content: options.allDayContent, defaultContent: renderAllDayInner, didMount: options.allDayDidMount, willUnmount: options.allDayWillUnmount }, function (rootElRef, classNames, innerElRef, innerContent) { return (createElement(\"td\", { ref: rootElRef, className: [\n                    'fc-timegrid-axis',\n                    'fc-scrollgrid-shrink',\n                ].concat(classNames).join(' ') },\n                createElement(\"div\", { className: 'fc-timegrid-axis-frame fc-scrollgrid-shrink-frame' + (rowHeight == null ? ' fc-timegrid-axis-frame-liquid' : ''), style: { height: rowHeight } },\n                    createElement(\"span\", { className: \"fc-timegrid-axis-cushion fc-scrollgrid-shrink-cushion fc-scrollgrid-sync-inner\", ref: innerElRef }, innerContent)))); }));\n        };\n        _this.handleSlatCoords = function (slatCoords) {\n            _this.setState({ slatCoords: slatCoords });\n        };\n        return _this;\n    }\n    // rendering\n    // ----------------------------------------------------------------------------------------------------\n    TimeColsView.prototype.renderSimpleLayout = function (headerRowContent, allDayContent, timeContent) {\n        var _a = this, context = _a.context, props = _a.props;\n        var sections = [];\n        var stickyHeaderDates = getStickyHeaderDates(context.options);\n        if (headerRowContent) {\n            sections.push({\n                type: 'header',\n                key: 'header',\n                isSticky: stickyHeaderDates,\n                chunk: {\n                    elRef: this.headerElRef,\n                    tableClassName: 'fc-col-header',\n                    rowContent: headerRowContent,\n                },\n            });\n        }\n        if (allDayContent) {\n            sections.push({\n                type: 'body',\n                key: 'all-day',\n                chunk: { content: allDayContent },\n            });\n            sections.push({\n                type: 'body',\n                key: 'all-day-divider',\n                outerContent: ( // TODO: rename to cellContent so don't need to define <tr>?\n                createElement(\"tr\", { className: \"fc-scrollgrid-section\" },\n                    createElement(\"td\", { className: 'fc-timegrid-divider ' + context.theme.getClass('tableCellShaded') }))),\n            });\n        }\n        sections.push({\n            type: 'body',\n            key: 'body',\n            liquid: true,\n            expandRows: Boolean(context.options.expandRows),\n            chunk: {\n                scrollerElRef: this.scrollerElRef,\n                content: timeContent,\n            },\n        });\n        return (createElement(ViewRoot, { viewSpec: context.viewSpec, elRef: this.rootElRef }, function (rootElRef, classNames) { return (createElement(\"div\", { className: ['fc-timegrid'].concat(classNames).join(' '), ref: rootElRef },\n            createElement(SimpleScrollGrid, { liquid: !props.isHeightAuto && !props.forPrint, collapsibleWidth: props.forPrint, cols: [{ width: 'shrink' }], sections: sections }))); }));\n    };\n    TimeColsView.prototype.renderHScrollLayout = function (headerRowContent, allDayContent, timeContent, colCnt, dayMinWidth, slatMetas, slatCoords) {\n        var _this = this;\n        var ScrollGrid = this.context.pluginHooks.scrollGridImpl;\n        if (!ScrollGrid) {\n            throw new Error('No ScrollGrid implementation');\n        }\n        var _a = this, context = _a.context, props = _a.props;\n        var stickyHeaderDates = !props.forPrint && getStickyHeaderDates(context.options);\n        var stickyFooterScrollbar = !props.forPrint && getStickyFooterScrollbar(context.options);\n        var sections = [];\n        if (headerRowContent) {\n            sections.push({\n                type: 'header',\n                key: 'header',\n                isSticky: stickyHeaderDates,\n                syncRowHeights: true,\n                chunks: [\n                    {\n                        key: 'axis',\n                        rowContent: function (arg) { return (createElement(\"tr\", null, _this.renderHeadAxis('day', arg.rowSyncHeights[0]))); },\n                    },\n                    {\n                        key: 'cols',\n                        elRef: this.headerElRef,\n                        tableClassName: 'fc-col-header',\n                        rowContent: headerRowContent,\n                    },\n                ],\n            });\n        }\n        if (allDayContent) {\n            sections.push({\n                type: 'body',\n                key: 'all-day',\n                syncRowHeights: true,\n                chunks: [\n                    {\n                        key: 'axis',\n                        rowContent: function (contentArg) { return (createElement(\"tr\", null, _this.renderTableRowAxis(contentArg.rowSyncHeights[0]))); },\n                    },\n                    {\n                        key: 'cols',\n                        content: allDayContent,\n                    },\n                ],\n            });\n            sections.push({\n                key: 'all-day-divider',\n                type: 'body',\n                outerContent: ( // TODO: rename to cellContent so don't need to define <tr>?\n                createElement(\"tr\", { className: \"fc-scrollgrid-section\" },\n                    createElement(\"td\", { colSpan: 2, className: 'fc-timegrid-divider ' + context.theme.getClass('tableCellShaded') }))),\n            });\n        }\n        var isNowIndicator = context.options.nowIndicator;\n        sections.push({\n            type: 'body',\n            key: 'body',\n            liquid: true,\n            expandRows: Boolean(context.options.expandRows),\n            chunks: [\n                {\n                    key: 'axis',\n                    content: function (arg) { return (\n                    // TODO: make this now-indicator arrow more DRY with TimeColsContent\n                    createElement(\"div\", { className: \"fc-timegrid-axis-chunk\" },\n                        createElement(\"table\", { style: { height: arg.expandRows ? arg.clientHeight : '' } },\n                            arg.tableColGroupNode,\n                            createElement(\"tbody\", null,\n                                createElement(TimeBodyAxis, { slatMetas: slatMetas }))),\n                        createElement(\"div\", { className: \"fc-timegrid-now-indicator-container\" },\n                            createElement(NowTimer, { unit: isNowIndicator ? 'minute' : 'day' /* hacky */ }, function (nowDate) {\n                                var nowIndicatorTop = isNowIndicator &&\n                                    slatCoords &&\n                                    slatCoords.safeComputeTop(nowDate); // might return void\n                                if (typeof nowIndicatorTop === 'number') {\n                                    return (createElement(NowIndicatorRoot, { isAxis: true, date: nowDate }, function (rootElRef, classNames, innerElRef, innerContent) { return (createElement(\"div\", { ref: rootElRef, className: ['fc-timegrid-now-indicator-arrow'].concat(classNames).join(' '), style: { top: nowIndicatorTop } }, innerContent)); }));\n                                }\n                                return null;\n                            })))); },\n                },\n                {\n                    key: 'cols',\n                    scrollerElRef: this.scrollerElRef,\n                    content: timeContent,\n                },\n            ],\n        });\n        if (stickyFooterScrollbar) {\n            sections.push({\n                key: 'footer',\n                type: 'footer',\n                isSticky: true,\n                chunks: [\n                    {\n                        key: 'axis',\n                        content: renderScrollShim,\n                    },\n                    {\n                        key: 'cols',\n                        content: renderScrollShim,\n                    },\n                ],\n            });\n        }\n        return (createElement(ViewRoot, { viewSpec: context.viewSpec, elRef: this.rootElRef }, function (rootElRef, classNames) { return (createElement(\"div\", { className: ['fc-timegrid'].concat(classNames).join(' '), ref: rootElRef },\n            createElement(ScrollGrid, { liquid: !props.isHeightAuto && !props.forPrint, collapsibleWidth: false, colGroups: [\n                    { width: 'shrink', cols: [{ width: 'shrink' }] },\n                    { cols: [{ span: colCnt, minWidth: dayMinWidth }] },\n                ], sections: sections }))); }));\n    };\n    /* Dimensions\n    ------------------------------------------------------------------------------------------------------------------*/\n    TimeColsView.prototype.getAllDayMaxEventProps = function () {\n        var _a = this.context.options, dayMaxEvents = _a.dayMaxEvents, dayMaxEventRows = _a.dayMaxEventRows;\n        if (dayMaxEvents === true || dayMaxEventRows === true) { // is auto?\n            dayMaxEvents = undefined;\n            dayMaxEventRows = AUTO_ALL_DAY_MAX_EVENT_ROWS; // make sure \"auto\" goes to a real number\n        }\n        return { dayMaxEvents: dayMaxEvents, dayMaxEventRows: dayMaxEventRows };\n    };\n    return TimeColsView;\n}(DateComponent));\nfunction renderAllDayInner(hookProps) {\n    return hookProps.text;\n}\n\nvar TimeColsSlatsCoords = /** @class */ (function () {\n    function TimeColsSlatsCoords(positions, dateProfile, slotDuration) {\n        this.positions = positions;\n        this.dateProfile = dateProfile;\n        this.slotDuration = slotDuration;\n    }\n    TimeColsSlatsCoords.prototype.safeComputeTop = function (date) {\n        var dateProfile = this.dateProfile;\n        if (rangeContainsMarker(dateProfile.currentRange, date)) {\n            var startOfDayDate = startOfDay(date);\n            var timeMs = date.valueOf() - startOfDayDate.valueOf();\n            if (timeMs >= asRoughMs(dateProfile.slotMinTime) &&\n                timeMs < asRoughMs(dateProfile.slotMaxTime)) {\n                return this.computeTimeTop(createDuration(timeMs));\n            }\n        }\n        return null;\n    };\n    // Computes the top coordinate, relative to the bounds of the grid, of the given date.\n    // A `startOfDayDate` must be given for avoiding ambiguity over how to treat midnight.\n    TimeColsSlatsCoords.prototype.computeDateTop = function (when, startOfDayDate) {\n        if (!startOfDayDate) {\n            startOfDayDate = startOfDay(when);\n        }\n        return this.computeTimeTop(createDuration(when.valueOf() - startOfDayDate.valueOf()));\n    };\n    // Computes the top coordinate, relative to the bounds of the grid, of the given time (a Duration).\n    // This is a makeshify way to compute the time-top. Assumes all slatMetas dates are uniform.\n    // Eventually allow computation with arbirary slat dates.\n    TimeColsSlatsCoords.prototype.computeTimeTop = function (duration) {\n        var _a = this, positions = _a.positions, dateProfile = _a.dateProfile;\n        var len = positions.els.length;\n        // floating-point value of # of slots covered\n        var slatCoverage = (duration.milliseconds - asRoughMs(dateProfile.slotMinTime)) / asRoughMs(this.slotDuration);\n        var slatIndex;\n        var slatRemainder;\n        // compute a floating-point number for how many slats should be progressed through.\n        // from 0 to number of slats (inclusive)\n        // constrained because slotMinTime/slotMaxTime might be customized.\n        slatCoverage = Math.max(0, slatCoverage);\n        slatCoverage = Math.min(len, slatCoverage);\n        // an integer index of the furthest whole slat\n        // from 0 to number slats (*exclusive*, so len-1)\n        slatIndex = Math.floor(slatCoverage);\n        slatIndex = Math.min(slatIndex, len - 1);\n        // how much further through the slatIndex slat (from 0.0-1.0) must be covered in addition.\n        // could be 1.0 if slatCoverage is covering *all* the slots\n        slatRemainder = slatCoverage - slatIndex;\n        return positions.tops[slatIndex] +\n            positions.getHeight(slatIndex) * slatRemainder;\n    };\n    return TimeColsSlatsCoords;\n}());\n\nvar TimeColsSlatsBody = /** @class */ (function (_super) {\n    __extends(TimeColsSlatsBody, _super);\n    function TimeColsSlatsBody() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TimeColsSlatsBody.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        var options = context.options;\n        var slatElRefs = props.slatElRefs;\n        return (createElement(\"tbody\", null, props.slatMetas.map(function (slatMeta, i) {\n            var hookProps = {\n                time: slatMeta.time,\n                date: context.dateEnv.toDate(slatMeta.date),\n                view: context.viewApi,\n            };\n            var classNames = [\n                'fc-timegrid-slot',\n                'fc-timegrid-slot-lane',\n                slatMeta.isLabeled ? '' : 'fc-timegrid-slot-minor',\n            ];\n            return (createElement(\"tr\", { key: slatMeta.key, ref: slatElRefs.createRef(slatMeta.key) },\n                props.axis && (createElement(TimeColsAxisCell, __assign({}, slatMeta))),\n                createElement(RenderHook, { hookProps: hookProps, classNames: options.slotLaneClassNames, content: options.slotLaneContent, didMount: options.slotLaneDidMount, willUnmount: options.slotLaneWillUnmount }, function (rootElRef, customClassNames, innerElRef, innerContent) { return (createElement(\"td\", { ref: rootElRef, className: classNames.concat(customClassNames).join(' '), \"data-time\": slatMeta.isoTimeStr }, innerContent)); })));\n        })));\n    };\n    return TimeColsSlatsBody;\n}(BaseComponent));\n\n/*\nfor the horizontal \"slats\" that run width-wise. Has a time axis on a side. Depends on RTL.\n*/\nvar TimeColsSlats = /** @class */ (function (_super) {\n    __extends(TimeColsSlats, _super);\n    function TimeColsSlats() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.rootElRef = createRef();\n        _this.slatElRefs = new RefMap();\n        return _this;\n    }\n    TimeColsSlats.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        return (createElement(\"div\", { className: \"fc-timegrid-slots\", ref: this.rootElRef },\n            createElement(\"table\", { className: context.theme.getClass('table'), style: {\n                    minWidth: props.tableMinWidth,\n                    width: props.clientWidth,\n                    height: props.minHeight,\n                } },\n                props.tableColGroupNode /* relies on there only being a single <col> for the axis */,\n                createElement(TimeColsSlatsBody, { slatElRefs: this.slatElRefs, axis: props.axis, slatMetas: props.slatMetas }))));\n    };\n    TimeColsSlats.prototype.componentDidMount = function () {\n        this.updateSizing();\n    };\n    TimeColsSlats.prototype.componentDidUpdate = function () {\n        this.updateSizing();\n    };\n    TimeColsSlats.prototype.componentWillUnmount = function () {\n        if (this.props.onCoords) {\n            this.props.onCoords(null);\n        }\n    };\n    TimeColsSlats.prototype.updateSizing = function () {\n        var _a = this, context = _a.context, props = _a.props;\n        if (props.onCoords &&\n            props.clientWidth !== null // means sizing has stabilized\n        ) {\n            var rootEl = this.rootElRef.current;\n            if (rootEl.offsetHeight) { // not hidden by css\n                props.onCoords(new TimeColsSlatsCoords(new PositionCache(this.rootElRef.current, collectSlatEls(this.slatElRefs.currentMap, props.slatMetas), false, true), this.props.dateProfile, context.options.slotDuration));\n            }\n        }\n    };\n    return TimeColsSlats;\n}(BaseComponent));\nfunction collectSlatEls(elMap, slatMetas) {\n    return slatMetas.map(function (slatMeta) { return elMap[slatMeta.key]; });\n}\n\nfunction splitSegsByCol(segs, colCnt) {\n    var segsByCol = [];\n    var i;\n    for (i = 0; i < colCnt; i += 1) {\n        segsByCol.push([]);\n    }\n    if (segs) {\n        for (i = 0; i < segs.length; i += 1) {\n            segsByCol[segs[i].col].push(segs[i]);\n        }\n    }\n    return segsByCol;\n}\nfunction splitInteractionByCol(ui, colCnt) {\n    var byRow = [];\n    if (!ui) {\n        for (var i = 0; i < colCnt; i += 1) {\n            byRow[i] = null;\n        }\n    }\n    else {\n        for (var i = 0; i < colCnt; i += 1) {\n            byRow[i] = {\n                affectedInstances: ui.affectedInstances,\n                isEvent: ui.isEvent,\n                segs: [],\n            };\n        }\n        for (var _i = 0, _a = ui.segs; _i < _a.length; _i++) {\n            var seg = _a[_i];\n            byRow[seg.col].segs.push(seg);\n        }\n    }\n    return byRow;\n}\n\nvar TimeColMoreLink = /** @class */ (function (_super) {\n    __extends(TimeColMoreLink, _super);\n    function TimeColMoreLink() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.rootElRef = createRef();\n        return _this;\n    }\n    TimeColMoreLink.prototype.render = function () {\n        var _this = this;\n        var props = this.props;\n        return (createElement(MoreLinkRoot, { allDayDate: null, moreCnt: props.hiddenSegs.length, allSegs: props.hiddenSegs, hiddenSegs: props.hiddenSegs, alignmentElRef: this.rootElRef, defaultContent: renderMoreLinkInner, extraDateSpan: props.extraDateSpan, dateProfile: props.dateProfile, todayRange: props.todayRange, popoverContent: function () { return renderPlainFgSegs(props.hiddenSegs, props); } }, function (rootElRef, classNames, innerElRef, innerContent, handleClick) { return (createElement(\"a\", { ref: function (el) {\n                setRef(rootElRef, el);\n                setRef(_this.rootElRef, el);\n            }, className: ['fc-timegrid-more-link'].concat(classNames).join(' '), style: { top: props.top, bottom: props.bottom }, onClick: handleClick },\n            createElement(\"div\", { ref: innerElRef, className: \"fc-timegrid-more-link-inner fc-sticky\" }, innerContent))); }));\n    };\n    return TimeColMoreLink;\n}(BaseComponent));\nfunction renderMoreLinkInner(props) {\n    return props.shortText;\n}\n\n// segInputs assumed sorted\nfunction computeFgSegPlacements(segInputs, strictOrder, maxStackCnt) {\n    var hierarchy = new SegHierarchy();\n    if (strictOrder != null) {\n        hierarchy.strictOrder = strictOrder;\n    }\n    if (maxStackCnt != null) {\n        hierarchy.maxStackCnt = maxStackCnt;\n    }\n    var hiddenEntries = hierarchy.addSegs(segInputs);\n    var hiddenGroups = groupIntersectingEntries(hiddenEntries);\n    var web = buildWeb(hierarchy);\n    web = stretchWeb(web, 1); // all levelCoords/thickness will have 0.0-1.0\n    var segRects = webToRects(web);\n    return { segRects: segRects, hiddenGroups: hiddenGroups };\n}\nfunction buildWeb(hierarchy) {\n    var entriesByLevel = hierarchy.entriesByLevel;\n    var buildNode = cacheable(function (level, lateral) { return level + ':' + lateral; }, function (level, lateral) {\n        var siblingRange = findNextLevelSegs(hierarchy, level, lateral);\n        var nextLevelRes = buildNodes(siblingRange, buildNode);\n        var entry = entriesByLevel[level][lateral];\n        return [\n            __assign(__assign({}, entry), { nextLevelNodes: nextLevelRes[0] }),\n            entry.thickness + nextLevelRes[1], // the pressure builds\n        ];\n    });\n    return buildNodes(entriesByLevel.length\n        ? { level: 0, lateralStart: 0, lateralEnd: entriesByLevel[0].length }\n        : null, buildNode)[0];\n}\nfunction buildNodes(siblingRange, buildNode) {\n    if (!siblingRange) {\n        return [[], 0];\n    }\n    var level = siblingRange.level, lateralStart = siblingRange.lateralStart, lateralEnd = siblingRange.lateralEnd;\n    var lateral = lateralStart;\n    var pairs = [];\n    while (lateral < lateralEnd) {\n        pairs.push(buildNode(level, lateral));\n        lateral += 1;\n    }\n    pairs.sort(cmpDescPressures);\n    return [\n        pairs.map(extractNode),\n        pairs[0][1], // first item's pressure\n    ];\n}\nfunction cmpDescPressures(a, b) {\n    return b[1] - a[1];\n}\nfunction extractNode(a) {\n    return a[0];\n}\nfunction findNextLevelSegs(hierarchy, subjectLevel, subjectLateral) {\n    var levelCoords = hierarchy.levelCoords, entriesByLevel = hierarchy.entriesByLevel;\n    var subjectEntry = entriesByLevel[subjectLevel][subjectLateral];\n    var afterSubject = levelCoords[subjectLevel] + subjectEntry.thickness;\n    var levelCnt = levelCoords.length;\n    var level = subjectLevel;\n    // skip past levels that are too high up\n    for (; level < levelCnt && levelCoords[level] < afterSubject; level += 1)\n        ; // do nothing\n    for (; level < levelCnt; level += 1) {\n        var entries = entriesByLevel[level];\n        var entry = void 0;\n        var searchIndex = binarySearch(entries, subjectEntry.spanStart, getEntrySpanEnd);\n        var lateralStart = searchIndex[0] + searchIndex[1]; // if exact match (which doesn't collide), go to next one\n        var lateralEnd = lateralStart;\n        while ( // loop through entries that horizontally intersect\n        (entry = entries[lateralEnd]) && // but not past the whole seg list\n            entry.spanStart < subjectEntry.spanEnd) {\n            lateralEnd += 1;\n        }\n        if (lateralStart < lateralEnd) {\n            return { level: level, lateralStart: lateralStart, lateralEnd: lateralEnd };\n        }\n    }\n    return null;\n}\nfunction stretchWeb(topLevelNodes, totalThickness) {\n    var stretchNode = cacheable(function (node, startCoord, prevThickness) { return buildEntryKey(node); }, function (node, startCoord, prevThickness) {\n        var nextLevelNodes = node.nextLevelNodes, thickness = node.thickness;\n        var allThickness = thickness + prevThickness;\n        var thicknessFraction = thickness / allThickness;\n        var endCoord;\n        var newChildren = [];\n        if (!nextLevelNodes.length) {\n            endCoord = totalThickness;\n        }\n        else {\n            for (var _i = 0, nextLevelNodes_1 = nextLevelNodes; _i < nextLevelNodes_1.length; _i++) {\n                var childNode = nextLevelNodes_1[_i];\n                if (endCoord === undefined) {\n                    var res = stretchNode(childNode, startCoord, allThickness);\n                    endCoord = res[0];\n                    newChildren.push(res[1]);\n                }\n                else {\n                    var res = stretchNode(childNode, endCoord, 0);\n                    newChildren.push(res[1]);\n                }\n            }\n        }\n        var newThickness = (endCoord - startCoord) * thicknessFraction;\n        return [endCoord - newThickness, __assign(__assign({}, node), { thickness: newThickness, nextLevelNodes: newChildren })];\n    });\n    return topLevelNodes.map(function (node) { return stretchNode(node, 0, 0)[1]; });\n}\n// not sorted in any particular order\nfunction webToRects(topLevelNodes) {\n    var rects = [];\n    var processNode = cacheable(function (node, levelCoord, stackDepth) { return buildEntryKey(node); }, function (node, levelCoord, stackDepth) {\n        var rect = __assign(__assign({}, node), { levelCoord: levelCoord,\n            stackDepth: stackDepth, stackForward: 0 });\n        rects.push(rect);\n        return (rect.stackForward = processNodes(node.nextLevelNodes, levelCoord + node.thickness, stackDepth + 1) + 1);\n    });\n    function processNodes(nodes, levelCoord, stackDepth) {\n        var stackForward = 0;\n        for (var _i = 0, nodes_1 = nodes; _i < nodes_1.length; _i++) {\n            var node = nodes_1[_i];\n            stackForward = Math.max(processNode(node, levelCoord, stackDepth), stackForward);\n        }\n        return stackForward;\n    }\n    processNodes(topLevelNodes, 0, 0);\n    return rects; // TODO: sort rects by levelCoord to be consistent with toRects?\n}\n// TODO: move to general util\nfunction cacheable(keyFunc, workFunc) {\n    var cache = {};\n    return function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        var key = keyFunc.apply(void 0, args);\n        return (key in cache)\n            ? cache[key]\n            : (cache[key] = workFunc.apply(void 0, args));\n    };\n}\n\nvar DEFAULT_TIME_FORMAT = createFormatter({\n    hour: 'numeric',\n    minute: '2-digit',\n    meridiem: false,\n});\nvar TimeColEvent = /** @class */ (function (_super) {\n    __extends(TimeColEvent, _super);\n    function TimeColEvent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TimeColEvent.prototype.render = function () {\n        var classNames = [\n            'fc-timegrid-event',\n            'fc-v-event',\n        ];\n        if (this.props.isShort) {\n            classNames.push('fc-timegrid-event-short');\n        }\n        return (createElement(StandardEvent, __assign({}, this.props, { defaultTimeFormat: DEFAULT_TIME_FORMAT, extraClassNames: classNames })));\n    };\n    return TimeColEvent;\n}(BaseComponent));\n\nvar TimeColMisc = /** @class */ (function (_super) {\n    __extends(TimeColMisc, _super);\n    function TimeColMisc() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TimeColMisc.prototype.render = function () {\n        var props = this.props;\n        return (createElement(DayCellContent, { date: props.date, dateProfile: props.dateProfile, todayRange: props.todayRange, extraHookProps: props.extraHookProps }, function (innerElRef, innerContent) { return (innerContent &&\n            createElement(\"div\", { className: \"fc-timegrid-col-misc\", ref: innerElRef }, innerContent)); }));\n    };\n    return TimeColMisc;\n}(BaseComponent));\n\nvar TimeCol = /** @class */ (function (_super) {\n    __extends(TimeCol, _super);\n    function TimeCol() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.sortEventSegs = memoize(sortEventSegs);\n        _this.computeFgSegPlacements = memoize(computeFgSegPlacements); // only for non-print, non-mirror\n        return _this;\n    }\n    TimeCol.prototype.render = function () {\n        var _this = this;\n        var _a = this, props = _a.props, context = _a.context;\n        var isSelectMirror = context.options.selectMirror;\n        var mirrorSegs = (props.eventDrag && props.eventDrag.segs) ||\n            (props.eventResize && props.eventResize.segs) ||\n            (isSelectMirror && props.dateSelectionSegs) ||\n            [];\n        var interactionAffectedInstances = // TODO: messy way to compute this\n         (props.eventDrag && props.eventDrag.affectedInstances) ||\n            (props.eventResize && props.eventResize.affectedInstances) ||\n            {};\n        var sortedFgSegs = this.sortEventSegs(props.fgEventSegs, context.options.eventOrder);\n        return (createElement(DayCellRoot, { elRef: props.elRef, date: props.date, dateProfile: props.dateProfile, todayRange: props.todayRange, extraHookProps: props.extraHookProps }, function (rootElRef, classNames, dataAttrs) { return (createElement(\"td\", __assign({ ref: rootElRef, className: ['fc-timegrid-col'].concat(classNames, props.extraClassNames || []).join(' ') }, dataAttrs, props.extraDataAttrs),\n            createElement(\"div\", { className: \"fc-timegrid-col-frame\" },\n                createElement(\"div\", { className: \"fc-timegrid-col-bg\" },\n                    _this.renderFillSegs(props.businessHourSegs, 'non-business'),\n                    _this.renderFillSegs(props.bgEventSegs, 'bg-event'),\n                    _this.renderFillSegs(props.dateSelectionSegs, 'highlight')),\n                createElement(\"div\", { className: \"fc-timegrid-col-events\" }, _this.renderFgSegs(sortedFgSegs, interactionAffectedInstances)),\n                createElement(\"div\", { className: \"fc-timegrid-col-events\" }, _this.renderFgSegs(mirrorSegs, {}, Boolean(props.eventDrag), Boolean(props.eventResize), Boolean(isSelectMirror))),\n                createElement(\"div\", { className: \"fc-timegrid-now-indicator-container\" }, _this.renderNowIndicator(props.nowIndicatorSegs)),\n                createElement(TimeColMisc, { date: props.date, dateProfile: props.dateProfile, todayRange: props.todayRange, extraHookProps: props.extraHookProps })))); }));\n    };\n    TimeCol.prototype.renderFgSegs = function (sortedFgSegs, segIsInvisible, isDragging, isResizing, isDateSelecting) {\n        var props = this.props;\n        if (props.forPrint) {\n            return renderPlainFgSegs(sortedFgSegs, props);\n        }\n        if (props.slatCoords) {\n            return this.renderPositionedFgSegs(sortedFgSegs, segIsInvisible, isDragging, isResizing, isDateSelecting);\n        }\n        return null;\n    };\n    TimeCol.prototype.renderPositionedFgSegs = function (segs, // if not mirror, needs to be sorted\n    segIsInvisible, isDragging, isResizing, isDateSelecting) {\n        var _this = this;\n        var _a = this.context.options, eventMaxStack = _a.eventMaxStack, eventShortHeight = _a.eventShortHeight, eventOrderStrict = _a.eventOrderStrict;\n        var _b = this.props, eventSelection = _b.eventSelection, todayRange = _b.todayRange, nowDate = _b.nowDate;\n        var isMirror = isDragging || isResizing || isDateSelecting;\n        var segInputs = this.buildSegInputs(segs);\n        var _c = isMirror ? computeFgSegPlacements(segInputs) : // don't use memoized\n            this.computeFgSegPlacements(segInputs, eventOrderStrict, eventMaxStack), segRects = _c.segRects, hiddenGroups = _c.hiddenGroups;\n        return (createElement(Fragment, null,\n            this.renderHiddenGroups(hiddenGroups, segs),\n            segRects.map(function (segRect) {\n                var seg = segs[segRect.segInput.index];\n                var instanceId = seg.eventRange.instance.instanceId;\n                var positionCss = __assign(__assign({}, _this.computeSegTopBottomCss(segRect.segInput)), (isMirror ? { left: 0, right: 0 } : _this.computeSegLeftRightCss(segRect)));\n                return (createElement(\"div\", { className: 'fc-timegrid-event-harness' + (segRect.stackForward > 0 ? ' fc-timegrid-event-harness-inset' : ''), key: instanceId, style: __assign({ visibility: segIsInvisible[instanceId] ? 'hidden' : '' }, positionCss) },\n                    createElement(TimeColEvent, __assign({ seg: seg, isDragging: isDragging, isResizing: isResizing, isDateSelecting: isDateSelecting, isSelected: instanceId === eventSelection, isShort: (segRect.spanEnd - segRect.spanStart) < eventShortHeight }, getSegMeta(seg, todayRange, nowDate)))));\n            })));\n    };\n    // will already have eventMinHeight applied because segInputs already had it\n    TimeCol.prototype.renderHiddenGroups = function (hiddenGroups, segs) {\n        var _this = this;\n        var _a = this.props, extraDateSpan = _a.extraDateSpan, dateProfile = _a.dateProfile, todayRange = _a.todayRange, nowDate = _a.nowDate, eventSelection = _a.eventSelection, eventDrag = _a.eventDrag, eventResize = _a.eventResize;\n        return (createElement(Fragment, null, hiddenGroups.map(function (hiddenGroup) {\n            var positionCss = _this.computeSegTopBottomCss(hiddenGroup);\n            var hiddenSegs = compileSegsFromEntries(hiddenGroup.entries, segs);\n            return (createElement(TimeColMoreLink, { key: buildIsoString(computeEarliestSegStart(hiddenSegs)), hiddenSegs: hiddenSegs, top: positionCss.top, bottom: positionCss.bottom, extraDateSpan: extraDateSpan, dateProfile: dateProfile, todayRange: todayRange, nowDate: nowDate, eventSelection: eventSelection, eventDrag: eventDrag, eventResize: eventResize }));\n        })));\n    };\n    TimeCol.prototype.buildSegInputs = function (segs) {\n        var _a = this.props, date = _a.date, slatCoords = _a.slatCoords;\n        var eventMinHeight = this.context.options.eventMinHeight;\n        var segInputs = [];\n        for (var i = 0; i < segs.length; i += 1) {\n            var seg = segs[i];\n            var spanStart = slatCoords.computeDateTop(seg.start, date);\n            var spanEnd = Math.max(spanStart + (eventMinHeight || 0), // yuck\n            slatCoords.computeDateTop(seg.end, date));\n            segInputs.push({\n                index: i,\n                spanStart: Math.round(spanStart),\n                spanEnd: Math.round(spanEnd),\n                thickness: 1,\n            });\n        }\n        return segInputs;\n    };\n    TimeCol.prototype.renderFillSegs = function (segs, fillType) {\n        var _this = this;\n        var props = this.props;\n        if (!props.slatCoords) {\n            return null;\n        }\n        var segInputs = this.buildSegInputs(segs);\n        var children = segInputs.map(function (segInput) {\n            var seg = segs[segInput.index];\n            return (createElement(\"div\", { key: buildEventRangeKey(seg.eventRange), className: \"fc-timegrid-bg-harness\", style: _this.computeSegTopBottomCss(segInput) }, fillType === 'bg-event' ?\n                createElement(BgEvent, __assign({ seg: seg }, getSegMeta(seg, props.todayRange, props.nowDate))) :\n                renderFill(fillType)));\n        });\n        return createElement(Fragment, null, children);\n    };\n    TimeCol.prototype.renderNowIndicator = function (segs) {\n        var _a = this.props, slatCoords = _a.slatCoords, date = _a.date;\n        if (!slatCoords) {\n            return null;\n        }\n        return segs.map(function (seg, i) { return (createElement(NowIndicatorRoot, { isAxis: false, date: date, \n            // key doesn't matter. will only ever be one\n            key: i }, function (rootElRef, classNames, innerElRef, innerContent) { return (createElement(\"div\", { ref: rootElRef, className: ['fc-timegrid-now-indicator-line'].concat(classNames).join(' '), style: { top: slatCoords.computeDateTop(seg.start, date) } }, innerContent)); })); });\n    };\n    TimeCol.prototype.computeSegTopBottomCss = function (segLike) {\n        return {\n            top: segLike.spanStart,\n            bottom: -segLike.spanEnd,\n        };\n    };\n    TimeCol.prototype.computeSegLeftRightCss = function (segRect) {\n        var _a = this.context, isRtl = _a.isRtl, options = _a.options;\n        var shouldOverlap = options.slotEventOverlap;\n        var nearCoord = segRect.levelCoord; // the left side if LTR. the right side if RTL. floating-point\n        var farCoord = segRect.levelCoord + segRect.thickness; // the right side if LTR. the left side if RTL. floating-point\n        var left; // amount of space from left edge, a fraction of the total width\n        var right; // amount of space from right edge, a fraction of the total width\n        if (shouldOverlap) {\n            // double the width, but don't go beyond the maximum forward coordinate (1.0)\n            farCoord = Math.min(1, nearCoord + (farCoord - nearCoord) * 2);\n        }\n        if (isRtl) {\n            left = 1 - farCoord;\n            right = nearCoord;\n        }\n        else {\n            left = nearCoord;\n            right = 1 - farCoord;\n        }\n        var props = {\n            zIndex: segRect.stackDepth + 1,\n            left: left * 100 + '%',\n            right: right * 100 + '%',\n        };\n        if (shouldOverlap && !segRect.stackForward) {\n            // add padding to the edge so that forward stacked events don't cover the resizer's icon\n            props[isRtl ? 'marginLeft' : 'marginRight'] = 10 * 2; // 10 is a guesstimate of the icon's width\n        }\n        return props;\n    };\n    return TimeCol;\n}(BaseComponent));\nfunction renderPlainFgSegs(sortedFgSegs, _a) {\n    var todayRange = _a.todayRange, nowDate = _a.nowDate, eventSelection = _a.eventSelection, eventDrag = _a.eventDrag, eventResize = _a.eventResize;\n    var hiddenInstances = (eventDrag ? eventDrag.affectedInstances : null) ||\n        (eventResize ? eventResize.affectedInstances : null) ||\n        {};\n    return (createElement(Fragment, null, sortedFgSegs.map(function (seg) {\n        var instanceId = seg.eventRange.instance.instanceId;\n        return (createElement(\"div\", { key: instanceId, style: { visibility: hiddenInstances[instanceId] ? 'hidden' : '' } },\n            createElement(TimeColEvent, __assign({ seg: seg, isDragging: false, isResizing: false, isDateSelecting: false, isSelected: instanceId === eventSelection, isShort: false }, getSegMeta(seg, todayRange, nowDate)))));\n    })));\n}\nfunction compileSegsFromEntries(segEntries, allSegs) {\n    return segEntries.map(function (segEntry) { return allSegs[segEntry.segInput.index]; });\n}\n\nvar TimeColsContent = /** @class */ (function (_super) {\n    __extends(TimeColsContent, _super);\n    function TimeColsContent() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.splitFgEventSegs = memoize(splitSegsByCol);\n        _this.splitBgEventSegs = memoize(splitSegsByCol);\n        _this.splitBusinessHourSegs = memoize(splitSegsByCol);\n        _this.splitNowIndicatorSegs = memoize(splitSegsByCol);\n        _this.splitDateSelectionSegs = memoize(splitSegsByCol);\n        _this.splitEventDrag = memoize(splitInteractionByCol);\n        _this.splitEventResize = memoize(splitInteractionByCol);\n        _this.rootElRef = createRef();\n        _this.cellElRefs = new RefMap();\n        return _this;\n    }\n    TimeColsContent.prototype.render = function () {\n        var _this = this;\n        var _a = this, props = _a.props, context = _a.context;\n        var nowIndicatorTop = context.options.nowIndicator &&\n            props.slatCoords &&\n            props.slatCoords.safeComputeTop(props.nowDate); // might return void\n        var colCnt = props.cells.length;\n        var fgEventSegsByRow = this.splitFgEventSegs(props.fgEventSegs, colCnt);\n        var bgEventSegsByRow = this.splitBgEventSegs(props.bgEventSegs, colCnt);\n        var businessHourSegsByRow = this.splitBusinessHourSegs(props.businessHourSegs, colCnt);\n        var nowIndicatorSegsByRow = this.splitNowIndicatorSegs(props.nowIndicatorSegs, colCnt);\n        var dateSelectionSegsByRow = this.splitDateSelectionSegs(props.dateSelectionSegs, colCnt);\n        var eventDragByRow = this.splitEventDrag(props.eventDrag, colCnt);\n        var eventResizeByRow = this.splitEventResize(props.eventResize, colCnt);\n        return (createElement(\"div\", { className: \"fc-timegrid-cols\", ref: this.rootElRef },\n            createElement(\"table\", { style: {\n                    minWidth: props.tableMinWidth,\n                    width: props.clientWidth,\n                } },\n                props.tableColGroupNode,\n                createElement(\"tbody\", null,\n                    createElement(\"tr\", null,\n                        props.axis && (createElement(\"td\", { className: \"fc-timegrid-col fc-timegrid-axis\" },\n                            createElement(\"div\", { className: \"fc-timegrid-col-frame\" },\n                                createElement(\"div\", { className: \"fc-timegrid-now-indicator-container\" }, typeof nowIndicatorTop === 'number' && (createElement(NowIndicatorRoot, { isAxis: true, date: props.nowDate }, function (rootElRef, classNames, innerElRef, innerContent) { return (createElement(\"div\", { ref: rootElRef, className: ['fc-timegrid-now-indicator-arrow'].concat(classNames).join(' '), style: { top: nowIndicatorTop } }, innerContent)); })))))),\n                        props.cells.map(function (cell, i) { return (createElement(TimeCol, { key: cell.key, elRef: _this.cellElRefs.createRef(cell.key), dateProfile: props.dateProfile, date: cell.date, nowDate: props.nowDate, todayRange: props.todayRange, extraHookProps: cell.extraHookProps, extraDataAttrs: cell.extraDataAttrs, extraClassNames: cell.extraClassNames, extraDateSpan: cell.extraDateSpan, fgEventSegs: fgEventSegsByRow[i], bgEventSegs: bgEventSegsByRow[i], businessHourSegs: businessHourSegsByRow[i], nowIndicatorSegs: nowIndicatorSegsByRow[i], dateSelectionSegs: dateSelectionSegsByRow[i], eventDrag: eventDragByRow[i], eventResize: eventResizeByRow[i], slatCoords: props.slatCoords, eventSelection: props.eventSelection, forPrint: props.forPrint })); }))))));\n    };\n    TimeColsContent.prototype.componentDidMount = function () {\n        this.updateCoords();\n    };\n    TimeColsContent.prototype.componentDidUpdate = function () {\n        this.updateCoords();\n    };\n    TimeColsContent.prototype.updateCoords = function () {\n        var props = this.props;\n        if (props.onColCoords &&\n            props.clientWidth !== null // means sizing has stabilized\n        ) {\n            props.onColCoords(new PositionCache(this.rootElRef.current, collectCellEls(this.cellElRefs.currentMap, props.cells), true, // horizontal\n            false));\n        }\n    };\n    return TimeColsContent;\n}(BaseComponent));\nfunction collectCellEls(elMap, cells) {\n    return cells.map(function (cell) { return elMap[cell.key]; });\n}\n\n/* A component that renders one or more columns of vertical time slots\n----------------------------------------------------------------------------------------------------------------------*/\nvar TimeCols = /** @class */ (function (_super) {\n    __extends(TimeCols, _super);\n    function TimeCols() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.processSlotOptions = memoize(processSlotOptions);\n        _this.state = {\n            slatCoords: null,\n        };\n        _this.handleRootEl = function (el) {\n            if (el) {\n                _this.context.registerInteractiveComponent(_this, {\n                    el: el,\n                    isHitComboAllowed: _this.props.isHitComboAllowed,\n                });\n            }\n            else {\n                _this.context.unregisterInteractiveComponent(_this);\n            }\n        };\n        _this.handleScrollRequest = function (request) {\n            var onScrollTopRequest = _this.props.onScrollTopRequest;\n            var slatCoords = _this.state.slatCoords;\n            if (onScrollTopRequest && slatCoords) {\n                if (request.time) {\n                    var top_1 = slatCoords.computeTimeTop(request.time);\n                    top_1 = Math.ceil(top_1); // zoom can give weird floating-point values. rather scroll a little bit further\n                    if (top_1) {\n                        top_1 += 1; // to overcome top border that slots beyond the first have. looks better\n                    }\n                    onScrollTopRequest(top_1);\n                }\n                return true;\n            }\n            return false;\n        };\n        _this.handleColCoords = function (colCoords) {\n            _this.colCoords = colCoords;\n        };\n        _this.handleSlatCoords = function (slatCoords) {\n            _this.setState({ slatCoords: slatCoords });\n            if (_this.props.onSlatCoords) {\n                _this.props.onSlatCoords(slatCoords);\n            }\n        };\n        return _this;\n    }\n    TimeCols.prototype.render = function () {\n        var _a = this, props = _a.props, state = _a.state;\n        return (createElement(\"div\", { className: \"fc-timegrid-body\", ref: this.handleRootEl, style: {\n                // these props are important to give this wrapper correct dimensions for interactions\n                // TODO: if we set it here, can we avoid giving to inner tables?\n                width: props.clientWidth,\n                minWidth: props.tableMinWidth,\n            } },\n            createElement(TimeColsSlats, { axis: props.axis, dateProfile: props.dateProfile, slatMetas: props.slatMetas, clientWidth: props.clientWidth, minHeight: props.expandRows ? props.clientHeight : '', tableMinWidth: props.tableMinWidth, tableColGroupNode: props.axis ? props.tableColGroupNode : null /* axis depends on the colgroup's shrinking */, onCoords: this.handleSlatCoords }),\n            createElement(TimeColsContent, { cells: props.cells, axis: props.axis, dateProfile: props.dateProfile, businessHourSegs: props.businessHourSegs, bgEventSegs: props.bgEventSegs, fgEventSegs: props.fgEventSegs, dateSelectionSegs: props.dateSelectionSegs, eventSelection: props.eventSelection, eventDrag: props.eventDrag, eventResize: props.eventResize, todayRange: props.todayRange, nowDate: props.nowDate, nowIndicatorSegs: props.nowIndicatorSegs, clientWidth: props.clientWidth, tableMinWidth: props.tableMinWidth, tableColGroupNode: props.tableColGroupNode, slatCoords: state.slatCoords, onColCoords: this.handleColCoords, forPrint: props.forPrint })));\n    };\n    TimeCols.prototype.componentDidMount = function () {\n        this.scrollResponder = this.context.createScrollResponder(this.handleScrollRequest);\n    };\n    TimeCols.prototype.componentDidUpdate = function (prevProps) {\n        this.scrollResponder.update(prevProps.dateProfile !== this.props.dateProfile);\n    };\n    TimeCols.prototype.componentWillUnmount = function () {\n        this.scrollResponder.detach();\n    };\n    TimeCols.prototype.queryHit = function (positionLeft, positionTop) {\n        var _a = this.context, dateEnv = _a.dateEnv, options = _a.options;\n        var colCoords = this.colCoords;\n        var dateProfile = this.props.dateProfile;\n        var slatCoords = this.state.slatCoords;\n        var _b = this.processSlotOptions(this.props.slotDuration, options.snapDuration), snapDuration = _b.snapDuration, snapsPerSlot = _b.snapsPerSlot;\n        var colIndex = colCoords.leftToIndex(positionLeft);\n        var slatIndex = slatCoords.positions.topToIndex(positionTop);\n        if (colIndex != null && slatIndex != null) {\n            var cell = this.props.cells[colIndex];\n            var slatTop = slatCoords.positions.tops[slatIndex];\n            var slatHeight = slatCoords.positions.getHeight(slatIndex);\n            var partial = (positionTop - slatTop) / slatHeight; // floating point number between 0 and 1\n            var localSnapIndex = Math.floor(partial * snapsPerSlot); // the snap # relative to start of slat\n            var snapIndex = slatIndex * snapsPerSlot + localSnapIndex;\n            var dayDate = this.props.cells[colIndex].date;\n            var time = addDurations(dateProfile.slotMinTime, multiplyDuration(snapDuration, snapIndex));\n            var start = dateEnv.add(dayDate, time);\n            var end = dateEnv.add(start, snapDuration);\n            return {\n                dateProfile: dateProfile,\n                dateSpan: __assign({ range: { start: start, end: end }, allDay: false }, cell.extraDateSpan),\n                dayEl: colCoords.els[colIndex],\n                rect: {\n                    left: colCoords.lefts[colIndex],\n                    right: colCoords.rights[colIndex],\n                    top: slatTop,\n                    bottom: slatTop + slatHeight,\n                },\n                layer: 0,\n            };\n        }\n        return null;\n    };\n    return TimeCols;\n}(DateComponent));\nfunction processSlotOptions(slotDuration, snapDurationOverride) {\n    var snapDuration = snapDurationOverride || slotDuration;\n    var snapsPerSlot = wholeDivideDurations(slotDuration, snapDuration);\n    if (snapsPerSlot === null) {\n        snapDuration = slotDuration;\n        snapsPerSlot = 1;\n        // TODO: say warning?\n    }\n    return { snapDuration: snapDuration, snapsPerSlot: snapsPerSlot };\n}\n\nvar DayTimeColsSlicer = /** @class */ (function (_super) {\n    __extends(DayTimeColsSlicer, _super);\n    function DayTimeColsSlicer() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    DayTimeColsSlicer.prototype.sliceRange = function (range, dayRanges) {\n        var segs = [];\n        for (var col = 0; col < dayRanges.length; col += 1) {\n            var segRange = intersectRanges(range, dayRanges[col]);\n            if (segRange) {\n                segs.push({\n                    start: segRange.start,\n                    end: segRange.end,\n                    isStart: segRange.start.valueOf() === range.start.valueOf(),\n                    isEnd: segRange.end.valueOf() === range.end.valueOf(),\n                    col: col,\n                });\n            }\n        }\n        return segs;\n    };\n    return DayTimeColsSlicer;\n}(Slicer));\n\nvar DayTimeCols = /** @class */ (function (_super) {\n    __extends(DayTimeCols, _super);\n    function DayTimeCols() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.buildDayRanges = memoize(buildDayRanges);\n        _this.slicer = new DayTimeColsSlicer();\n        _this.timeColsRef = createRef();\n        return _this;\n    }\n    DayTimeCols.prototype.render = function () {\n        var _this = this;\n        var _a = this, props = _a.props, context = _a.context;\n        var dateProfile = props.dateProfile, dayTableModel = props.dayTableModel;\n        var isNowIndicator = context.options.nowIndicator;\n        var dayRanges = this.buildDayRanges(dayTableModel, dateProfile, context.dateEnv);\n        // give it the first row of cells\n        // TODO: would move this further down hierarchy, but sliceNowDate needs it\n        return (createElement(NowTimer, { unit: isNowIndicator ? 'minute' : 'day' }, function (nowDate, todayRange) { return (createElement(TimeCols, __assign({ ref: _this.timeColsRef }, _this.slicer.sliceProps(props, dateProfile, null, context, dayRanges), { forPrint: props.forPrint, axis: props.axis, dateProfile: dateProfile, slatMetas: props.slatMetas, slotDuration: props.slotDuration, cells: dayTableModel.cells[0], tableColGroupNode: props.tableColGroupNode, tableMinWidth: props.tableMinWidth, clientWidth: props.clientWidth, clientHeight: props.clientHeight, expandRows: props.expandRows, nowDate: nowDate, nowIndicatorSegs: isNowIndicator && _this.slicer.sliceNowDate(nowDate, context, dayRanges), todayRange: todayRange, onScrollTopRequest: props.onScrollTopRequest, onSlatCoords: props.onSlatCoords }))); }));\n    };\n    return DayTimeCols;\n}(DateComponent));\nfunction buildDayRanges(dayTableModel, dateProfile, dateEnv) {\n    var ranges = [];\n    for (var _i = 0, _a = dayTableModel.headerDates; _i < _a.length; _i++) {\n        var date = _a[_i];\n        ranges.push({\n            start: dateEnv.add(date, dateProfile.slotMinTime),\n            end: dateEnv.add(date, dateProfile.slotMaxTime),\n        });\n    }\n    return ranges;\n}\n\n// potential nice values for the slot-duration and interval-duration\n// from largest to smallest\nvar STOCK_SUB_DURATIONS = [\n    { hours: 1 },\n    { minutes: 30 },\n    { minutes: 15 },\n    { seconds: 30 },\n    { seconds: 15 },\n];\nfunction buildSlatMetas(slotMinTime, slotMaxTime, explicitLabelInterval, slotDuration, dateEnv) {\n    var dayStart = new Date(0);\n    var slatTime = slotMinTime;\n    var slatIterator = createDuration(0);\n    var labelInterval = explicitLabelInterval || computeLabelInterval(slotDuration);\n    var metas = [];\n    while (asRoughMs(slatTime) < asRoughMs(slotMaxTime)) {\n        var date = dateEnv.add(dayStart, slatTime);\n        var isLabeled = wholeDivideDurations(slatIterator, labelInterval) !== null;\n        metas.push({\n            date: date,\n            time: slatTime,\n            key: date.toISOString(),\n            isoTimeStr: formatIsoTimeString(date),\n            isLabeled: isLabeled,\n        });\n        slatTime = addDurations(slatTime, slotDuration);\n        slatIterator = addDurations(slatIterator, slotDuration);\n    }\n    return metas;\n}\n// Computes an automatic value for slotLabelInterval\nfunction computeLabelInterval(slotDuration) {\n    var i;\n    var labelInterval;\n    var slotsPerLabel;\n    // find the smallest stock label interval that results in more than one slots-per-label\n    for (i = STOCK_SUB_DURATIONS.length - 1; i >= 0; i -= 1) {\n        labelInterval = createDuration(STOCK_SUB_DURATIONS[i]);\n        slotsPerLabel = wholeDivideDurations(labelInterval, slotDuration);\n        if (slotsPerLabel !== null && slotsPerLabel > 1) {\n            return labelInterval;\n        }\n    }\n    return slotDuration; // fall back\n}\n\nvar DayTimeColsView = /** @class */ (function (_super) {\n    __extends(DayTimeColsView, _super);\n    function DayTimeColsView() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.buildTimeColsModel = memoize(buildTimeColsModel);\n        _this.buildSlatMetas = memoize(buildSlatMetas);\n        return _this;\n    }\n    DayTimeColsView.prototype.render = function () {\n        var _this = this;\n        var _a = this.context, options = _a.options, dateEnv = _a.dateEnv, dateProfileGenerator = _a.dateProfileGenerator;\n        var props = this.props;\n        var dateProfile = props.dateProfile;\n        var dayTableModel = this.buildTimeColsModel(dateProfile, dateProfileGenerator);\n        var splitProps = this.allDaySplitter.splitProps(props);\n        var slatMetas = this.buildSlatMetas(dateProfile.slotMinTime, dateProfile.slotMaxTime, options.slotLabelInterval, options.slotDuration, dateEnv);\n        var dayMinWidth = options.dayMinWidth;\n        var hasAttachedAxis = !dayMinWidth;\n        var hasDetachedAxis = dayMinWidth;\n        var headerContent = options.dayHeaders && (createElement(DayHeader, { dates: dayTableModel.headerDates, dateProfile: dateProfile, datesRepDistinctDays: true, renderIntro: hasAttachedAxis ? this.renderHeadAxis : null }));\n        var allDayContent = (options.allDaySlot !== false) && (function (contentArg) { return (createElement(DayTable, __assign({}, splitProps.allDay, { dateProfile: dateProfile, dayTableModel: dayTableModel, nextDayThreshold: options.nextDayThreshold, tableMinWidth: contentArg.tableMinWidth, colGroupNode: contentArg.tableColGroupNode, renderRowIntro: hasAttachedAxis ? _this.renderTableRowAxis : null, showWeekNumbers: false, expandRows: false, headerAlignElRef: _this.headerElRef, clientWidth: contentArg.clientWidth, clientHeight: contentArg.clientHeight, forPrint: props.forPrint }, _this.getAllDayMaxEventProps()))); });\n        var timeGridContent = function (contentArg) { return (createElement(DayTimeCols, __assign({}, splitProps.timed, { dayTableModel: dayTableModel, dateProfile: dateProfile, axis: hasAttachedAxis, slotDuration: options.slotDuration, slatMetas: slatMetas, forPrint: props.forPrint, tableColGroupNode: contentArg.tableColGroupNode, tableMinWidth: contentArg.tableMinWidth, clientWidth: contentArg.clientWidth, clientHeight: contentArg.clientHeight, onSlatCoords: _this.handleSlatCoords, expandRows: contentArg.expandRows, onScrollTopRequest: _this.handleScrollTopRequest }))); };\n        return hasDetachedAxis\n            ? this.renderHScrollLayout(headerContent, allDayContent, timeGridContent, dayTableModel.colCnt, dayMinWidth, slatMetas, this.state.slatCoords)\n            : this.renderSimpleLayout(headerContent, allDayContent, timeGridContent);\n    };\n    return DayTimeColsView;\n}(TimeColsView));\nfunction buildTimeColsModel(dateProfile, dateProfileGenerator) {\n    var daySeries = new DaySeriesModel(dateProfile.renderRange, dateProfileGenerator);\n    return new DayTableModel(daySeries, false);\n}\n\nvar OPTION_REFINERS = {\n    allDaySlot: Boolean,\n};\n\nvar main = createPlugin({\n    initialView: 'timeGridWeek',\n    optionRefiners: OPTION_REFINERS,\n    views: {\n        timeGrid: {\n            component: DayTimeColsView,\n            usesMinMaxTime: true,\n            allDaySlot: true,\n            slotDuration: '00:30:00',\n            slotEventOverlap: true, // a bad name. confused with overlap/constraint system\n        },\n        timeGridDay: {\n            type: 'timeGrid',\n            duration: { days: 1 },\n        },\n        timeGridWeek: {\n            type: 'timeGrid',\n            duration: { weeks: 1 },\n        },\n    },\n});\n\nexport default main;\nexport { DayTimeCols, DayTimeColsSlicer, DayTimeColsView, TimeCols, TimeColsSlatsCoords, TimeColsView, buildDayRanges, buildSlatMetas, buildTimeColsModel };\n","'use strict';\n\n// do not edit .js files directly - edit src/index.jst\n\n\n\nmodule.exports = function equal(a, b) {\n  if (a === b) return true;\n\n  if (a && b && typeof a == 'object' && typeof b == 'object') {\n    if (a.constructor !== b.constructor) return false;\n\n    var length, i, keys;\n    if (Array.isArray(a)) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (!equal(a[i], b[i])) return false;\n      return true;\n    }\n\n\n\n    if (a.constructor === RegExp) return a.source === b.source && a.flags === b.flags;\n    if (a.valueOf !== Object.prototype.valueOf) return a.valueOf() === b.valueOf();\n    if (a.toString !== Object.prototype.toString) return a.toString() === b.toString();\n\n    keys = Object.keys(a);\n    length = keys.length;\n    if (length !== Object.keys(b).length) return false;\n\n    for (i = length; i-- !== 0;)\n      if (!Object.prototype.hasOwnProperty.call(b, keys[i])) return false;\n\n    for (i = length; i-- !== 0;) {\n      var key = keys[i];\n\n      if (!equal(a[key], b[key])) return false;\n    }\n\n    return true;\n  }\n\n  // true if both NaN, false otherwise\n  return a!==a && b!==b;\n};\n","import{Component as n,createElement as t,options as e,toChildArray as r,Fragment as u,render as o,hydrate as i,createContext as l,createRef as c,cloneElement as f}from\"preact\";export{Component,Fragment,createContext,createElement,createRef}from\"preact\";import{useState as a,useLayoutEffect as s,useEffect as h,useCallback as v,useContext as d,useDebugValue as m,useId as p,useImperativeHandle as y,useMemo as _,useReducer as b,useRef as S}from\"preact/hooks\";export*from\"preact/hooks\";function g(n,t){for(var e in t)n[e]=t[e];return n}function E(n,t){for(var e in n)if(\"__source\"!==e&&!(e in t))return!0;for(var r in t)if(\"__source\"!==r&&n[r]!==t[r])return!0;return!1}function C(n,t){var e=t(),r=a({t:{__:e,u:t}}),u=r[0].t,o=r[1];return s(function(){u.__=e,u.u=t,x(u)&&o({t:u})},[n,e,t]),h(function(){return x(u)&&o({t:u}),n(function(){x(u)&&o({t:u})})},[n]),e}function x(n){var t,e,r=n.u,u=n.__;try{var o=r();return!((t=u)===(e=o)&&(0!==t||1/t==1/e)||t!=t&&e!=e)}catch(n){return!0}}function R(n){n()}function w(n){return n}function k(){return[!1,R]}var I=s;function N(n,t){this.props=n,this.context=t}function M(n,e){function r(n){var t=this.props.ref,r=t==n.ref;return!r&&t&&(t.call?t(null):t.current=null),e?!e(this.props,n)||!r:E(this.props,n)}function u(e){return this.shouldComponentUpdate=r,t(n,e)}return u.displayName=\"Memo(\"+(n.displayName||n.name)+\")\",u.prototype.isReactComponent=!0,u.__f=!0,u}(N.prototype=new n).isPureReactComponent=!0,N.prototype.shouldComponentUpdate=function(n,t){return E(this.props,n)||E(this.state,t)};var T=e.__b;e.__b=function(n){n.type&&n.type.__f&&n.ref&&(n.props.ref=n.ref,n.ref=null),T&&T(n)};var A=\"undefined\"!=typeof Symbol&&Symbol.for&&Symbol.for(\"react.forward_ref\")||3911;function D(n){function t(t){var e=g({},t);return delete e.ref,n(e,t.ref||null)}return t.$$typeof=A,t.render=t,t.prototype.isReactComponent=t.__f=!0,t.displayName=\"ForwardRef(\"+(n.displayName||n.name)+\")\",t}var L=function(n,t){return null==n?null:r(r(n).map(t))},O={map:L,forEach:L,count:function(n){return n?r(n).length:0},only:function(n){var t=r(n);if(1!==t.length)throw\"Children.only\";return t[0]},toArray:r},F=e.__e;e.__e=function(n,t,e,r){if(n.then)for(var u,o=t;o=o.__;)if((u=o.__c)&&u.__c)return null==t.__e&&(t.__e=e.__e,t.__k=e.__k),u.__c(n,t);F(n,t,e,r)};var U=e.unmount;function V(n,t,e){return n&&(n.__c&&n.__c.__H&&(n.__c.__H.__.forEach(function(n){\"function\"==typeof n.__c&&n.__c()}),n.__c.__H=null),null!=(n=g({},n)).__c&&(n.__c.__P===e&&(n.__c.__P=t),n.__c.__e=!0,n.__c=null),n.__k=n.__k&&n.__k.map(function(n){return V(n,t,e)})),n}function W(n,t,e){return n&&e&&(n.__v=null,n.__k=n.__k&&n.__k.map(function(n){return W(n,t,e)}),n.__c&&n.__c.__P===t&&(n.__e&&e.appendChild(n.__e),n.__c.__e=!0,n.__c.__P=e)),n}function P(){this.__u=0,this.o=null,this.__b=null}function j(n){var t=n.__.__c;return t&&t.__a&&t.__a(n)}function z(n){var e,r,u;function o(o){if(e||(e=n()).then(function(n){r=n.default||n},function(n){u=n}),u)throw u;if(!r)throw e;return t(r,o)}return o.displayName=\"Lazy\",o.__f=!0,o}function B(){this.i=null,this.l=null}e.unmount=function(n){var t=n.__c;t&&t.__R&&t.__R(),t&&32&n.__u&&(n.type=null),U&&U(n)},(P.prototype=new n).__c=function(n,t){var e=t.__c,r=this;null==r.o&&(r.o=[]),r.o.push(e);var u=j(r.__v),o=!1,i=function(){o||(o=!0,e.__R=null,u?u(l):l())};e.__R=i;var l=function(){if(!--r.__u){if(r.state.__a){var n=r.state.__a;r.__v.__k[0]=W(n,n.__c.__P,n.__c.__O)}var t;for(r.setState({__a:r.__b=null});t=r.o.pop();)t.forceUpdate()}};r.__u++||32&t.__u||r.setState({__a:r.__b=r.__v.__k[0]}),n.then(i,i)},P.prototype.componentWillUnmount=function(){this.o=[]},P.prototype.render=function(n,e){if(this.__b){if(this.__v.__k){var r=document.createElement(\"div\"),o=this.__v.__k[0].__c;this.__v.__k[0]=V(this.__b,r,o.__O=o.__P)}this.__b=null}var i=e.__a&&t(u,null,n.fallback);return i&&(i.__u&=-33),[t(u,null,e.__a?null:n.children),i]};var H=function(n,t,e){if(++e[1]===e[0]&&n.l.delete(t),n.props.revealOrder&&(\"t\"!==n.props.revealOrder[0]||!n.l.size))for(e=n.i;e;){for(;e.length>3;)e.pop()();if(e[1]<e[0])break;n.i=e=e[2]}};function Z(n){return this.getChildContext=function(){return n.context},n.children}function Y(n){var e=this,r=n.h;if(e.componentWillUnmount=function(){o(null,e.v),e.v=null,e.h=null},e.h&&e.h!==r&&e.componentWillUnmount(),!e.v){for(var u=e.__v;null!==u&&!u.__m&&null!==u.__;)u=u.__;e.h=r,e.v={nodeType:1,parentNode:r,childNodes:[],__k:{__m:u.__m},contains:function(){return!0},appendChild:function(n){this.childNodes.push(n),e.h.appendChild(n)},insertBefore:function(n,t){this.childNodes.push(n),e.h.insertBefore(n,t)},removeChild:function(n){this.childNodes.splice(this.childNodes.indexOf(n)>>>1,1),e.h.removeChild(n)}}}o(t(Z,{context:e.context},n.__v),e.v)}function $(n,e){var r=t(Y,{__v:n,h:e});return r.containerInfo=e,r}(B.prototype=new n).__a=function(n){var t=this,e=j(t.__v),r=t.l.get(n);return r[0]++,function(u){var o=function(){t.props.revealOrder?(r.push(u),H(t,n,r)):u()};e?e(o):o()}},B.prototype.render=function(n){this.i=null,this.l=new Map;var t=r(n.children);n.revealOrder&&\"b\"===n.revealOrder[0]&&t.reverse();for(var e=t.length;e--;)this.l.set(t[e],this.i=[1,0,this.i]);return n.children},B.prototype.componentDidUpdate=B.prototype.componentDidMount=function(){var n=this;this.l.forEach(function(t,e){H(n,e,t)})};var q=\"undefined\"!=typeof Symbol&&Symbol.for&&Symbol.for(\"react.element\")||60103,G=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,J=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,K=/[A-Z0-9]/g,Q=\"undefined\"!=typeof document,X=function(n){return(\"undefined\"!=typeof Symbol&&\"symbol\"==typeof Symbol()?/fil|che|rad/:/fil|che|ra/).test(n)};function nn(n,t,e){return null==t.__k&&(t.textContent=\"\"),o(n,t),\"function\"==typeof e&&e(),n?n.__c:null}function tn(n,t,e){return i(n,t),\"function\"==typeof e&&e(),n?n.__c:null}n.prototype.isReactComponent={},[\"componentWillMount\",\"componentWillReceiveProps\",\"componentWillUpdate\"].forEach(function(t){Object.defineProperty(n.prototype,t,{configurable:!0,get:function(){return this[\"UNSAFE_\"+t]},set:function(n){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:n})}})});var en=e.event;function rn(){}function un(){return this.cancelBubble}function on(){return this.defaultPrevented}e.event=function(n){return en&&(n=en(n)),n.persist=rn,n.isPropagationStopped=un,n.isDefaultPrevented=on,n.nativeEvent=n};var ln,cn={enumerable:!1,configurable:!0,get:function(){return this.class}},fn=e.vnode;e.vnode=function(n){\"string\"==typeof n.type&&function(n){var t=n.props,e=n.type,u={},o=-1===e.indexOf(\"-\");for(var i in t){var l=t[i];if(!(\"value\"===i&&\"defaultValue\"in t&&null==l||Q&&\"children\"===i&&\"noscript\"===e||\"class\"===i||\"className\"===i)){var c=i.toLowerCase();\"defaultValue\"===i&&\"value\"in t&&null==t.value?i=\"value\":\"download\"===i&&!0===l?l=\"\":\"translate\"===c&&\"no\"===l?l=!1:\"o\"===c[0]&&\"n\"===c[1]?\"ondoubleclick\"===c?i=\"ondblclick\":\"onchange\"!==c||\"input\"!==e&&\"textarea\"!==e||X(t.type)?\"onfocus\"===c?i=\"onfocusin\":\"onblur\"===c?i=\"onfocusout\":J.test(i)&&(i=c):c=i=\"oninput\":o&&G.test(i)?i=i.replace(K,\"-$&\").toLowerCase():null===l&&(l=void 0),\"oninput\"===c&&u[i=c]&&(i=\"oninputCapture\"),u[i]=l}}\"select\"==e&&u.multiple&&Array.isArray(u.value)&&(u.value=r(t.children).forEach(function(n){n.props.selected=-1!=u.value.indexOf(n.props.value)})),\"select\"==e&&null!=u.defaultValue&&(u.value=r(t.children).forEach(function(n){n.props.selected=u.multiple?-1!=u.defaultValue.indexOf(n.props.value):u.defaultValue==n.props.value})),t.class&&!t.className?(u.class=t.class,Object.defineProperty(u,\"className\",cn)):(t.className&&!t.class||t.class&&t.className)&&(u.class=u.className=t.className),n.props=u}(n),n.$$typeof=q,fn&&fn(n)};var an=e.__r;e.__r=function(n){an&&an(n),ln=n.__c};var sn=e.diffed;e.diffed=function(n){sn&&sn(n);var t=n.props,e=n.__e;null!=e&&\"textarea\"===n.type&&\"value\"in t&&t.value!==e.value&&(e.value=null==t.value?\"\":t.value),ln=null};var hn={ReactCurrentDispatcher:{current:{readContext:function(n){return ln.__n[n.__c].props.value},useCallback:v,useContext:d,useDebugValue:m,useDeferredValue:w,useEffect:h,useId:p,useImperativeHandle:y,useInsertionEffect:I,useLayoutEffect:s,useMemo:_,useReducer:b,useRef:S,useState:a,useSyncExternalStore:C,useTransition:k}}},vn=\"18.3.1\";function dn(n){return t.bind(null,n)}function mn(n){return!!n&&n.$$typeof===q}function pn(n){return mn(n)&&n.type===u}function yn(n){return!!n&&!!n.displayName&&(\"string\"==typeof n.displayName||n.displayName instanceof String)&&n.displayName.startsWith(\"Memo(\")}function _n(n){return mn(n)?f.apply(null,arguments):n}function bn(n){return!!n.__k&&(o(null,n),!0)}function Sn(n){return n&&(n.base||1===n.nodeType&&n)||null}var gn=function(n,t){return n(t)},En=function(n,t){return n(t)},Cn=u,xn=mn,Rn={useState:a,useId:p,useReducer:b,useEffect:h,useLayoutEffect:s,useInsertionEffect:I,useTransition:k,useDeferredValue:w,useSyncExternalStore:C,startTransition:R,useRef:S,useImperativeHandle:y,useMemo:_,useCallback:v,useContext:d,useDebugValue:m,version:\"18.3.1\",Children:O,render:nn,hydrate:tn,unmountComponentAtNode:bn,createPortal:$,createElement:t,createContext:l,createFactory:dn,cloneElement:_n,createRef:c,Fragment:u,isValidElement:mn,isElement:xn,isFragment:pn,isMemo:yn,findDOMNode:Sn,Component:n,PureComponent:N,memo:M,forwardRef:D,flushSync:En,unstable_batchedUpdates:gn,StrictMode:Cn,Suspense:P,SuspenseList:B,lazy:z,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:hn};export{O as Children,N as PureComponent,Cn as StrictMode,P as Suspense,B as SuspenseList,hn as __SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_n as cloneElement,dn as createFactory,$ as createPortal,Rn as default,Sn as findDOMNode,En as flushSync,D as forwardRef,tn as hydrate,xn as isElement,pn as isFragment,yn as isMemo,mn as isValidElement,z as lazy,M as memo,nn as render,R as startTransition,bn as unmountComponentAtNode,gn as unstable_batchedUpdates,w as useDeferredValue,I as useInsertionEffect,C as useSyncExternalStore,k as useTransition,vn as version};\n","var n,l,u,t,i,r,o,e,f,c,s,a,h,p={},y=[],v=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,w=Array.isArray;function d(n,l){for(var u in l)n[u]=l[u];return n}function g(n){n&&n.parentNode&&n.parentNode.removeChild(n)}function _(l,u,t){var i,r,o,e={};for(o in u)\"key\"==o?i=u[o]:\"ref\"==o?r=u[o]:e[o]=u[o];if(arguments.length>2&&(e.children=arguments.length>3?n.call(arguments,2):t),\"function\"==typeof l&&null!=l.defaultProps)for(o in l.defaultProps)null==e[o]&&(e[o]=l.defaultProps[o]);return m(l,e,i,r,null)}function m(n,t,i,r,o){var e={type:n,props:t,key:i,ref:r,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:null==o?++u:o,__i:-1,__u:0};return null==o&&null!=l.vnode&&l.vnode(e),e}function b(){return{current:null}}function k(n){return n.children}function x(n,l){this.props=n,this.context=l}function S(n,l){if(null==l)return n.__?S(n.__,n.__i+1):null;for(var u;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e)return u.__e;return\"function\"==typeof n.type?S(n):null}function C(n){var l,u;if(null!=(n=n.__)&&null!=n.__c){for(n.__e=n.__c.base=null,l=0;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e){n.__e=n.__c.base=u.__e;break}return C(n)}}function M(n){(!n.__d&&(n.__d=!0)&&i.push(n)&&!$.__r++||r!=l.debounceRendering)&&((r=l.debounceRendering)||o)($)}function $(){for(var n,u,t,r,o,f,c,s=1;i.length;)i.length>s&&i.sort(e),n=i.shift(),s=i.length,n.__d&&(t=void 0,o=(r=(u=n).__v).__e,f=[],c=[],u.__P&&((t=d({},r)).__v=r.__v+1,l.vnode&&l.vnode(t),O(u.__P,t,r,u.__n,u.__P.namespaceURI,32&r.__u?[o]:null,f,null==o?S(r):o,!!(32&r.__u),c),t.__v=r.__v,t.__.__k[t.__i]=t,z(f,t,c),t.__e!=o&&C(t)));$.__r=0}function I(n,l,u,t,i,r,o,e,f,c,s){var a,h,v,w,d,g,_=t&&t.__k||y,m=l.length;for(f=P(u,l,_,f,m),a=0;a<m;a++)null!=(v=u.__k[a])&&(h=-1==v.__i?p:_[v.__i]||p,v.__i=a,g=O(n,v,h,i,r,o,e,f,c,s),w=v.__e,v.ref&&h.ref!=v.ref&&(h.ref&&q(h.ref,null,v),s.push(v.ref,v.__c||w,v)),null==d&&null!=w&&(d=w),4&v.__u||h.__k===v.__k?f=A(v,f,n):\"function\"==typeof v.type&&void 0!==g?f=g:w&&(f=w.nextSibling),v.__u&=-7);return u.__e=d,f}function P(n,l,u,t,i){var r,o,e,f,c,s=u.length,a=s,h=0;for(n.__k=new Array(i),r=0;r<i;r++)null!=(o=l[r])&&\"boolean\"!=typeof o&&\"function\"!=typeof o?(f=r+h,(o=n.__k[r]=\"string\"==typeof o||\"number\"==typeof o||\"bigint\"==typeof o||o.constructor==String?m(null,o,null,null,null):w(o)?m(k,{children:o},null,null,null):null==o.constructor&&o.__b>0?m(o.type,o.props,o.key,o.ref?o.ref:null,o.__v):o).__=n,o.__b=n.__b+1,e=null,-1!=(c=o.__i=L(o,u,f,a))&&(a--,(e=u[c])&&(e.__u|=2)),null==e||null==e.__v?(-1==c&&(i>s?h--:i<s&&h++),\"function\"!=typeof o.type&&(o.__u|=4)):c!=f&&(c==f-1?h--:c==f+1?h++:(c>f?h--:h++,o.__u|=4))):n.__k[r]=null;if(a)for(r=0;r<s;r++)null!=(e=u[r])&&0==(2&e.__u)&&(e.__e==t&&(t=S(e)),B(e,e));return t}function A(n,l,u){var t,i;if(\"function\"==typeof n.type){for(t=n.__k,i=0;t&&i<t.length;i++)t[i]&&(t[i].__=n,l=A(t[i],l,u));return l}n.__e!=l&&(l&&n.type&&!u.contains(l)&&(l=S(n)),u.insertBefore(n.__e,l||null),l=n.__e);do{l=l&&l.nextSibling}while(null!=l&&8==l.nodeType);return l}function H(n,l){return l=l||[],null==n||\"boolean\"==typeof n||(w(n)?n.some(function(n){H(n,l)}):l.push(n)),l}function L(n,l,u,t){var i,r,o=n.key,e=n.type,f=l[u];if(null===f&&null==n.key||f&&o==f.key&&e==f.type&&0==(2&f.__u))return u;if(t>(null!=f&&0==(2&f.__u)?1:0))for(i=u-1,r=u+1;i>=0||r<l.length;){if(i>=0){if((f=l[i])&&0==(2&f.__u)&&o==f.key&&e==f.type)return i;i--}if(r<l.length){if((f=l[r])&&0==(2&f.__u)&&o==f.key&&e==f.type)return r;r++}}return-1}function T(n,l,u){\"-\"==l[0]?n.setProperty(l,null==u?\"\":u):n[l]=null==u?\"\":\"number\"!=typeof u||v.test(l)?u:u+\"px\"}function j(n,l,u,t,i){var r;n:if(\"style\"==l)if(\"string\"==typeof u)n.style.cssText=u;else{if(\"string\"==typeof t&&(n.style.cssText=t=\"\"),t)for(l in t)u&&l in u||T(n.style,l,\"\");if(u)for(l in u)t&&u[l]==t[l]||T(n.style,l,u[l])}else if(\"o\"==l[0]&&\"n\"==l[1])r=l!=(l=l.replace(f,\"$1\")),l=l.toLowerCase()in n||\"onFocusOut\"==l||\"onFocusIn\"==l?l.toLowerCase().slice(2):l.slice(2),n.l||(n.l={}),n.l[l+r]=u,u?t?u.u=t.u:(u.u=c,n.addEventListener(l,r?a:s,r)):n.removeEventListener(l,r?a:s,r);else{if(\"http://www.w3.org/2000/svg\"==i)l=l.replace(/xlink(H|:h)/,\"h\").replace(/sName$/,\"s\");else if(\"width\"!=l&&\"height\"!=l&&\"href\"!=l&&\"list\"!=l&&\"form\"!=l&&\"tabIndex\"!=l&&\"download\"!=l&&\"rowSpan\"!=l&&\"colSpan\"!=l&&\"role\"!=l&&\"popover\"!=l&&l in n)try{n[l]=null==u?\"\":u;break n}catch(n){}\"function\"==typeof u||(null==u||!1===u&&\"-\"!=l[4]?n.removeAttribute(l):n.setAttribute(l,\"popover\"==l&&1==u?\"\":u))}}function F(n){return function(u){if(this.l){var t=this.l[u.type+n];if(null==u.t)u.t=c++;else if(u.t<t.u)return;return t(l.event?l.event(u):u)}}}function O(n,u,t,i,r,o,e,f,c,s){var a,h,p,y,v,_,m,b,S,C,M,$,P,A,H,L,T,j=u.type;if(null!=u.constructor)return null;128&t.__u&&(c=!!(32&t.__u),o=[f=u.__e=t.__e]),(a=l.__b)&&a(u);n:if(\"function\"==typeof j)try{if(b=u.props,S=\"prototype\"in j&&j.prototype.render,C=(a=j.contextType)&&i[a.__c],M=a?C?C.props.value:a.__:i,t.__c?m=(h=u.__c=t.__c).__=h.__E:(S?u.__c=h=new j(b,M):(u.__c=h=new x(b,M),h.constructor=j,h.render=D),C&&C.sub(h),h.props=b,h.state||(h.state={}),h.context=M,h.__n=i,p=h.__d=!0,h.__h=[],h._sb=[]),S&&null==h.__s&&(h.__s=h.state),S&&null!=j.getDerivedStateFromProps&&(h.__s==h.state&&(h.__s=d({},h.__s)),d(h.__s,j.getDerivedStateFromProps(b,h.__s))),y=h.props,v=h.state,h.__v=u,p)S&&null==j.getDerivedStateFromProps&&null!=h.componentWillMount&&h.componentWillMount(),S&&null!=h.componentDidMount&&h.__h.push(h.componentDidMount);else{if(S&&null==j.getDerivedStateFromProps&&b!==y&&null!=h.componentWillReceiveProps&&h.componentWillReceiveProps(b,M),!h.__e&&null!=h.shouldComponentUpdate&&!1===h.shouldComponentUpdate(b,h.__s,M)||u.__v==t.__v){for(u.__v!=t.__v&&(h.props=b,h.state=h.__s,h.__d=!1),u.__e=t.__e,u.__k=t.__k,u.__k.some(function(n){n&&(n.__=u)}),$=0;$<h._sb.length;$++)h.__h.push(h._sb[$]);h._sb=[],h.__h.length&&e.push(h);break n}null!=h.componentWillUpdate&&h.componentWillUpdate(b,h.__s,M),S&&null!=h.componentDidUpdate&&h.__h.push(function(){h.componentDidUpdate(y,v,_)})}if(h.context=M,h.props=b,h.__P=n,h.__e=!1,P=l.__r,A=0,S){for(h.state=h.__s,h.__d=!1,P&&P(u),a=h.render(h.props,h.state,h.context),H=0;H<h._sb.length;H++)h.__h.push(h._sb[H]);h._sb=[]}else do{h.__d=!1,P&&P(u),a=h.render(h.props,h.state,h.context),h.state=h.__s}while(h.__d&&++A<25);h.state=h.__s,null!=h.getChildContext&&(i=d(d({},i),h.getChildContext())),S&&!p&&null!=h.getSnapshotBeforeUpdate&&(_=h.getSnapshotBeforeUpdate(y,v)),L=a,null!=a&&a.type===k&&null==a.key&&(L=N(a.props.children)),f=I(n,w(L)?L:[L],u,t,i,r,o,e,f,c,s),h.base=u.__e,u.__u&=-161,h.__h.length&&e.push(h),m&&(h.__E=h.__=null)}catch(n){if(u.__v=null,c||null!=o)if(n.then){for(u.__u|=c?160:128;f&&8==f.nodeType&&f.nextSibling;)f=f.nextSibling;o[o.indexOf(f)]=null,u.__e=f}else for(T=o.length;T--;)g(o[T]);else u.__e=t.__e,u.__k=t.__k;l.__e(n,u,t)}else null==o&&u.__v==t.__v?(u.__k=t.__k,u.__e=t.__e):f=u.__e=V(t.__e,u,t,i,r,o,e,c,s);return(a=l.diffed)&&a(u),128&u.__u?void 0:f}function z(n,u,t){for(var i=0;i<t.length;i++)q(t[i],t[++i],t[++i]);l.__c&&l.__c(u,n),n.some(function(u){try{n=u.__h,u.__h=[],n.some(function(n){n.call(u)})}catch(n){l.__e(n,u.__v)}})}function N(n){return\"object\"!=typeof n||null==n||n.__b&&n.__b>0?n:w(n)?n.map(N):d({},n)}function V(u,t,i,r,o,e,f,c,s){var a,h,y,v,d,_,m,b=i.props,k=t.props,x=t.type;if(\"svg\"==x?o=\"http://www.w3.org/2000/svg\":\"math\"==x?o=\"http://www.w3.org/1998/Math/MathML\":o||(o=\"http://www.w3.org/1999/xhtml\"),null!=e)for(a=0;a<e.length;a++)if((d=e[a])&&\"setAttribute\"in d==!!x&&(x?d.localName==x:3==d.nodeType)){u=d,e[a]=null;break}if(null==u){if(null==x)return document.createTextNode(k);u=document.createElementNS(o,x,k.is&&k),c&&(l.__m&&l.__m(t,e),c=!1),e=null}if(null==x)b===k||c&&u.data==k||(u.data=k);else{if(e=e&&n.call(u.childNodes),b=i.props||p,!c&&null!=e)for(b={},a=0;a<u.attributes.length;a++)b[(d=u.attributes[a]).name]=d.value;for(a in b)if(d=b[a],\"children\"==a);else if(\"dangerouslySetInnerHTML\"==a)y=d;else if(!(a in k)){if(\"value\"==a&&\"defaultValue\"in k||\"checked\"==a&&\"defaultChecked\"in k)continue;j(u,a,null,d,o)}for(a in k)d=k[a],\"children\"==a?v=d:\"dangerouslySetInnerHTML\"==a?h=d:\"value\"==a?_=d:\"checked\"==a?m=d:c&&\"function\"!=typeof d||b[a]===d||j(u,a,d,b[a],o);if(h)c||y&&(h.__html==y.__html||h.__html==u.innerHTML)||(u.innerHTML=h.__html),t.__k=[];else if(y&&(u.innerHTML=\"\"),I(\"template\"==t.type?u.content:u,w(v)?v:[v],t,i,r,\"foreignObject\"==x?\"http://www.w3.org/1999/xhtml\":o,e,f,e?e[0]:i.__k&&S(i,0),c,s),null!=e)for(a=e.length;a--;)g(e[a]);c||(a=\"value\",\"progress\"==x&&null==_?u.removeAttribute(\"value\"):null!=_&&(_!==u[a]||\"progress\"==x&&!_||\"option\"==x&&_!=b[a])&&j(u,a,_,b[a],o),a=\"checked\",null!=m&&m!=u[a]&&j(u,a,m,b[a],o))}return u}function q(n,u,t){try{if(\"function\"==typeof n){var i=\"function\"==typeof n.__u;i&&n.__u(),i&&null==u||(n.__u=n(u))}else n.current=u}catch(n){l.__e(n,t)}}function B(n,u,t){var i,r;if(l.unmount&&l.unmount(n),(i=n.ref)&&(i.current&&i.current!=n.__e||q(i,null,u)),null!=(i=n.__c)){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(n){l.__e(n,u)}i.base=i.__P=null}if(i=n.__k)for(r=0;r<i.length;r++)i[r]&&B(i[r],u,t||\"function\"!=typeof n.type);t||g(n.__e),n.__c=n.__=n.__e=void 0}function D(n,l,u){return this.constructor(n,u)}function E(u,t,i){var r,o,e,f;t==document&&(t=document.documentElement),l.__&&l.__(u,t),o=(r=\"function\"==typeof i)?null:i&&i.__k||t.__k,e=[],f=[],O(t,u=(!r&&i||t).__k=_(k,null,[u]),o||p,p,t.namespaceURI,!r&&i?[i]:o?null:t.firstChild?n.call(t.childNodes):null,e,!r&&i?i:o?o.__e:t.firstChild,r,f),z(e,u,f)}function G(n,l){E(n,l,G)}function J(l,u,t){var i,r,o,e,f=d({},l.props);for(o in l.type&&l.type.defaultProps&&(e=l.type.defaultProps),u)\"key\"==o?i=u[o]:\"ref\"==o?r=u[o]:f[o]=null==u[o]&&null!=e?e[o]:u[o];return arguments.length>2&&(f.children=arguments.length>3?n.call(arguments,2):t),m(l.type,f,i||l.key,r||l.ref,null)}function K(n){function l(n){var u,t;return this.getChildContext||(u=new Set,(t={})[l.__c]=this,this.getChildContext=function(){return t},this.componentWillUnmount=function(){u=null},this.shouldComponentUpdate=function(n){this.props.value!=n.value&&u.forEach(function(n){n.__e=!0,M(n)})},this.sub=function(n){u.add(n);var l=n.componentWillUnmount;n.componentWillUnmount=function(){u&&u.delete(n),l&&l.call(n)}}),n.children}return l.__c=\"__cC\"+h++,l.__=n,l.Provider=l.__l=(l.Consumer=function(n,l){return n.children(l)}).contextType=l,l}n=y.slice,l={__e:function(n,l,u,t){for(var i,r,o;l=l.__;)if((i=l.__c)&&!i.__)try{if((r=i.constructor)&&null!=r.getDerivedStateFromError&&(i.setState(r.getDerivedStateFromError(n)),o=i.__d),null!=i.componentDidCatch&&(i.componentDidCatch(n,t||{}),o=i.__d),o)return i.__E=i}catch(l){n=l}throw n}},u=0,t=function(n){return null!=n&&null==n.constructor},x.prototype.setState=function(n,l){var u;u=null!=this.__s&&this.__s!=this.state?this.__s:this.__s=d({},this.state),\"function\"==typeof n&&(n=n(d({},u),this.props)),n&&d(u,n),null!=n&&this.__v&&(l&&this._sb.push(l),M(this))},x.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),M(this))},x.prototype.render=k,i=[],o=\"function\"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,e=function(n,l){return n.__v.__b-l.__v.__b},$.__r=0,f=/(PointerCapture)$|Capture$/i,c=0,s=F(!1),a=F(!0),h=0;export{x as Component,k as Fragment,J as cloneElement,K as createContext,_ as createElement,b as createRef,_ as h,G as hydrate,t as isValidElement,l as options,E as render,H as toChildArray};\n","import{options as n}from\"preact\";var t,r,u,i,o=0,f=[],c=n,e=c.__b,a=c.__r,v=c.diffed,l=c.__c,m=c.unmount,s=c.__;function p(n,t){c.__h&&c.__h(r,n,o||t),o=0;var u=r.__H||(r.__H={__:[],__h:[]});return n>=u.__.length&&u.__.push({}),u.__[n]}function d(n){return o=1,h(D,n)}function h(n,u,i){var o=p(t++,2);if(o.t=n,!o.__c&&(o.__=[i?i(u):D(void 0,u),function(n){var t=o.__N?o.__N[0]:o.__[0],r=o.t(t,n);t!==r&&(o.__N=[r,o.__[1]],o.__c.setState({}))}],o.__c=r,!r.__f)){var f=function(n,t,r){if(!o.__c.__H)return!0;var u=o.__c.__H.__.filter(function(n){return!!n.__c});if(u.every(function(n){return!n.__N}))return!c||c.call(this,n,t,r);var i=o.__c.props!==n;return u.forEach(function(n){if(n.__N){var t=n.__[0];n.__=n.__N,n.__N=void 0,t!==n.__[0]&&(i=!0)}}),c&&c.call(this,n,t,r)||i};r.__f=!0;var c=r.shouldComponentUpdate,e=r.componentWillUpdate;r.componentWillUpdate=function(n,t,r){if(this.__e){var u=c;c=void 0,f(n,t,r),c=u}e&&e.call(this,n,t,r)},r.shouldComponentUpdate=f}return o.__N||o.__}function y(n,u){var i=p(t++,3);!c.__s&&C(i.__H,u)&&(i.__=n,i.u=u,r.__H.__h.push(i))}function _(n,u){var i=p(t++,4);!c.__s&&C(i.__H,u)&&(i.__=n,i.u=u,r.__h.push(i))}function A(n){return o=5,T(function(){return{current:n}},[])}function F(n,t,r){o=6,_(function(){if(\"function\"==typeof n){var r=n(t());return function(){n(null),r&&\"function\"==typeof r&&r()}}if(n)return n.current=t(),function(){return n.current=null}},null==r?r:r.concat(n))}function T(n,r){var u=p(t++,7);return C(u.__H,r)&&(u.__=n(),u.__H=r,u.__h=n),u.__}function q(n,t){return o=8,T(function(){return n},t)}function x(n){var u=r.context[n.__c],i=p(t++,9);return i.c=n,u?(null==i.__&&(i.__=!0,u.sub(r)),u.props.value):n.__}function P(n,t){c.useDebugValue&&c.useDebugValue(t?t(n):n)}function b(n){var u=p(t++,10),i=d();return u.__=n,r.componentDidCatch||(r.componentDidCatch=function(n,t){u.__&&u.__(n,t),i[1](n)}),[i[0],function(){i[1](void 0)}]}function g(){var n=p(t++,11);if(!n.__){for(var u=r.__v;null!==u&&!u.__m&&null!==u.__;)u=u.__;var i=u.__m||(u.__m=[0,0]);n.__=\"P\"+i[0]+\"-\"+i[1]++}return n.__}function j(){for(var n;n=f.shift();)if(n.__P&&n.__H)try{n.__H.__h.forEach(z),n.__H.__h.forEach(B),n.__H.__h=[]}catch(t){n.__H.__h=[],c.__e(t,n.__v)}}c.__b=function(n){r=null,e&&e(n)},c.__=function(n,t){n&&t.__k&&t.__k.__m&&(n.__m=t.__k.__m),s&&s(n,t)},c.__r=function(n){a&&a(n),t=0;var i=(r=n.__c).__H;i&&(u===r?(i.__h=[],r.__h=[],i.__.forEach(function(n){n.__N&&(n.__=n.__N),n.u=n.__N=void 0})):(i.__h.forEach(z),i.__h.forEach(B),i.__h=[],t=0)),u=r},c.diffed=function(n){v&&v(n);var t=n.__c;t&&t.__H&&(t.__H.__h.length&&(1!==f.push(t)&&i===c.requestAnimationFrame||((i=c.requestAnimationFrame)||w)(j)),t.__H.__.forEach(function(n){n.u&&(n.__H=n.u),n.u=void 0})),u=r=null},c.__c=function(n,t){t.some(function(n){try{n.__h.forEach(z),n.__h=n.__h.filter(function(n){return!n.__||B(n)})}catch(r){t.some(function(n){n.__h&&(n.__h=[])}),t=[],c.__e(r,n.__v)}}),l&&l(n,t)},c.unmount=function(n){m&&m(n);var t,r=n.__c;r&&r.__H&&(r.__H.__.forEach(function(n){try{z(n)}catch(n){t=n}}),r.__H=void 0,t&&c.__e(t,r.__v))};var k=\"function\"==typeof requestAnimationFrame;function w(n){var t,r=function(){clearTimeout(u),k&&cancelAnimationFrame(t),setTimeout(n)},u=setTimeout(r,100);k&&(t=requestAnimationFrame(r))}function z(n){var t=r,u=n.__c;\"function\"==typeof u&&(n.__c=void 0,u()),r=t}function B(n){var t=r;n.__c=n.__(),r=t}function C(n,t){return!n||n.length!==t.length||t.some(function(t,r){return t!==n[r]})}function D(n,t){return\"function\"==typeof t?t(n):t}export{q as useCallback,x as useContext,P as useDebugValue,y as useEffect,b as useErrorBoundary,g as useId,F as useImperativeHandle,_ as useLayoutEffect,T as useMemo,h as useReducer,A as useRef,d as useState};\n","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};"],"names":["deepEqual","Component","ViewEncapsulation","ElementRef","Input","NgModule","Calendar","globalPlugins","ɵngcc0","hasOwnProperty","Object","prototype","deepCopy","input","Array","isArray","map","Date","valueOf","mapHash","shallowCopy","val","slice","call","assign","func","output","key","OPTION_IS_DEEP","headerToolbar","footerToolbar","events","eventSources","resources","FullCalendarComponent","constructor","element","optionSnapshot","ngAfterViewInit","deepChangeDetection","options","optionVal","optionName","calendar","nativeElement","render","ngDoCheck","newOptions","newProcessedOptions","anyChanges","oldOptionNames","keys","pauseRendering","resetOptions","ngAfterContentChecked","resumeRendering","ngOnDestroy","destroy","getApi","ɵfac","FullCalendarComponent_Factory","t","ɵɵdirectiveInject","ɵcmp","ɵɵdefineComponent","type","selectors","inputs","decls","vars","template","FullCalendarComponent_Template","rf","ctx","styles","encapsulation","ctorParameters","propDecorators","ngDevMode","ɵsetClassMetadata","args","selector","None","FullCalendarModule","registerPlugins","plugins","push","FullCalendarModule_Factory","ɵmod","ɵɵdefineNgModule","ɵinj","ɵɵdefineInjector","declarations","imports","exports","ngJitMode","ɵɵsetNgModuleScope","__assign","__spreadArray","__extends","createContext","createRef","createElement","Fragment","createPortal","EventSourceApi","context","internalEventSource","remove","dispatch","sourceId","refetch","sourceIds","isRefetch","defineProperty","get","publicId","enumerable","configurable","meta","url","format","removeElement","el","parentNode","removeChild","elementClosest","closest","document","documentElement","contains","elementMatches","parentElement","nodeType","method","matches","matchesSelector","msMatchesSelector","findElements","container","containers","HTMLElement","allMatches","i","length","querySelectorAll","j","findDirectChildren","parent","parents","childNodes","children","childNode","PIXEL_PROP_RE","applyStyle","props","propName","applyStyleProp","name","style","test","getEventTargetViaRoot","ev","_a","_b","composedPath","target","preventDefault","buildDelegationHandler","handler","matchedChild","listenBySelector","eventType","attachedHandler","addEventListener","removeEventListener","listenToHoverBySelector","onMouseEnter","onMouseLeave","currentMatchedChild","mouseOverEv","realOnMouseLeave_1","mouseLeaveEv","transitionEventNames","whenTransitionDone","callback","realCallback","forEach","eventName","guidNumber","guid","String","disableCursor","body","classList","add","enableCursor","preventSelection","allowSelection","preventContextMenu","allowContextMenu","parseFieldSpecs","specs","tokens","token","split","charAt","field","substring","order","compareByFieldSpecs","obj0","obj1","fieldSpecs","cmp","compareByFieldSpec","fieldSpec","flexibleCompare","a","b","localeCompare","padStart","len","s","substr","compareNumbers","isInt","n","computeSmallestCellWidth","cellEl","allWidthEl","querySelector","contentWidthEl","Error","getBoundingClientRect","width","DAY_IDS","addWeeks","m","dateToUtcArray","arrayToUtcDate","addDays","addMs","diffWeeks","m0","m1","diffDays","diffHours","diffMinutes","diffSeconds","diffDayAndTime","m0day","startOfDay","m1day","years","months","days","Math","round","milliseconds","diffWholeWeeks","d","diffWholeDays","timeAsMs","getUTCFullYear","getUTCMonth","getUTCDate","startOfHour","getUTCHours","startOfMinute","getUTCMinutes","startOfSecond","getUTCSeconds","weekOfYear","marker","dow","doy","y","w","weekOfGivenYear","nextW","min","year","firstWeekStart","firstWeekOffset","dayStart","floor","fwd","fwdlw","getUTCDay","dateToLocalArray","date","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","getMilliseconds","arrayToLocalDate","getUTCMilliseconds","concat","UTC","apply","isValidDate","isNaN","createEventInstance","defId","range","forcedStartTzo","forcedEndTzo","instanceId","mergeProps","propObjs","complexPropsMap","dest","name_1","complexObjs","unshift","undefined","name_2","filterHash","hash","filtered","newHash","arrayToHash","_i","a_1","item","buildHashFromArray","tuple","hashValuesToArray","obj","isPropsEqual","getUnequalProps","compareObjs","oldProps","newProps","equalityFuncs","isObjValsEqual","val0","val1","comparator","collectFromHash","startIndex","endIndex","step","res","parseRecurring","refined","defaultAllDay","dateEnv","recurringTypes","parsed","parse","allDay","allDayGuess","duration","typeData","typeId","expandRecurring","eventStore","framingRange","pluginHooks","defs","instances","instance","recurringDef","def","defaultAllDayEventDuration","defaultTimedEventDuration","starts","expandRecurringRanges","starts_1","start","end","eventDef","typeDef","markers","expand","subtract","INTERNAL_UNITS","PARSE_RE","createDuration","unit","parseString","parseObject","exec","sign","parseInt","month","day","hours","hour","minutes","minute","seconds","second","millisecond","ms","weeks","week","specifiedWeeks","durationsEqual","d0","d1","asCleanDays","dur","addDurations","subtractDurations","multiplyDuration","asRoughYears","asRoughDays","asRoughMonths","asRoughMs","asRoughMinutes","asRoughSeconds","wholeDivideDurations","numerator","denominator","localRes","greatestDurationDenominator","value","buildIsoString","timeZoneOffset","stripZeroTime","toISOString","replace","formatTimeZoneOffset","formatDayString","formatIsoTimeString","doIso","abs","mins","removeExact","array","exactVal","removeCnt","splice","isArraysEqual","a0","a1","equalityFunc","memoize","workerFunc","resEquality","teardownFunc","currentArgs","currentRes","newArgs","arguments","memoizeObjArg","_this","currentArg","newArg","memoizeArraylike","currentArgSets","currentResults","newArgSets","currentLen","newLen","memoizeHashlike","currentArgHash","currentResHash","newArgHash","newResHash","EXTENDED_SETTINGS_AND_SEVERITIES","separator","omitZeroMinute","meridiem","omitCommas","STANDARD_DATE_PROP_SEVERITIES","timeZoneName","era","weekday","MERIDIEM_RE","COMMA_RE","MULTI_SPACE_RE","LTR_RE","UTC_RE","NativeFormatter","formatSettings","standardDateProps","extendedSettings","severity","max","buildFormattingFunc","formatRange","betterDefaultSeparator","diffSeverity","computeMarkerDiffSeverity","calendarSystem","biggestUnitForPartial","full0","full1","partialDateProps","computePartialFormattingOptions","partialFormattingFunc","partial0","partial1","insertion","findCommonInsertion","defaultSeparator","before","after","getLargestUnit","standardDatePropCnt","formatWeekNumber","computeWeekNumber","weekText","locale","buildNativeFormattingFunc","sanitizeSettings","timeZone","normalFormat","Intl","DateTimeFormat","codes","zeroFormat","zeroProps","postProcess","injectTzoStr","trim","toLocaleLowerCase","tzoStr","replaced","num","display","parts","simpleNumberFormat","direction","reverse","join","ca","getMarkerYear","getMarkerMonth","getMarkerDay","biggestUnit","partialOptions","i0","found0","indexOf","before0","after0","i1","found1","before1","after1","expandZonedMarker","dateInfo","markerToArray","createVerboseFormattingArg","startInfo","endInfo","localeCodes","CmdFormatter","cmdStr","cmdFormatter","FuncFormatter","createFormatter","BASE_OPTION_REFINERS","navLinkDayClick","identity","navLinkWeekClick","bootstrapFontAwesome","buttonIcons","customButtons","nextDayThreshold","scrollTime","scrollTimeReset","Boolean","slotMinTime","slotMaxTime","dayPopoverFormat","slotDuration","snapDuration","defaultRangeSeparator","titleRangeSeparator","forceEventDuration","dayHeaders","dayHeaderFormat","dayHeaderClassNames","dayHeaderContent","dayHeaderDidMount","dayHeaderWillUnmount","dayCellClassNames","dayCellContent","dayCellDidMount","dayCellWillUnmount","initialView","aspectRatio","Number","weekends","weekNumberCalculation","weekNumbers","weekNumberClassNames","weekNumberContent","weekNumberDidMount","weekNumberWillUnmount","editable","viewClassNames","viewDidMount","viewWillUnmount","nowIndicator","nowIndicatorClassNames","nowIndicatorContent","nowIndicatorDidMount","nowIndicatorWillUnmount","showNonCurrentDates","lazyFetching","startParam","endParam","timeZoneParam","locales","themeSystem","dragRevertDuration","dragScroll","allDayMaintainDuration","unselectAuto","dropAccept","eventOrder","eventOrderStrict","handleWindowResize","windowResizeDelay","longPressDelay","eventDragMinDistance","expandRows","height","contentHeight","weekNumberFormat","eventResizableFromStart","displayEventTime","displayEventEnd","progressiveEventRendering","businessHours","initialDate","now","eventDataTransform","stickyHeaderDates","stickyFooterScrollbar","viewHeight","eventSourceFailure","eventSourceSuccess","eventDisplay","eventStartEditable","eventDurationEditable","eventOverlap","eventConstraint","eventAllow","eventBackgroundColor","eventBorderColor","eventTextColor","eventColor","eventClassNames","eventContent","eventDidMount","eventWillUnmount","selectConstraint","selectOverlap","selectAllow","droppable","unselectCancel","slotLabelFormat","slotLaneClassNames","slotLaneContent","slotLaneDidMount","slotLaneWillUnmount","slotLabelClassNames","slotLabelContent","slotLabelDidMount","slotLabelWillUnmount","dayMaxEvents","dayMaxEventRows","dayMinWidth","slotLabelInterval","allDayText","allDayClassNames","allDayContent","allDayDidMount","allDayWillUnmount","slotMinWidth","navLinks","eventTimeFormat","rerenderDelay","moreLinkText","selectMinDistance","selectable","selectLongPressDelay","eventLongPressDelay","selectMirror","eventMaxStack","eventMinHeight","eventMinWidth","eventShortHeight","slotEventOverlap","firstDay","dayCount","dateAlignment","dateIncrement","hiddenDays","monthMode","fixedWeekCount","validRange","visibleRange","titleFormat","noEventsText","moreLinkClick","moreLinkClassNames","moreLinkContent","moreLinkDidMount","moreLinkWillUnmount","BASE_OPTION_DEFAULTS","center","CALENDAR_LISTENER_REFINERS","datesSet","eventsSet","eventAdd","eventChange","eventRemove","windowResize","eventClick","eventMouseEnter","eventMouseLeave","select","unselect","loading","_unmount","_beforeprint","_afterprint","_noEventDrop","_noEventResize","_resize","_scrollRequest","CALENDAR_OPTION_REFINERS","buttonText","views","initialEvents","COMPLEX_OPTION_COMPARATORS","isBoolComplexEqual","VIEW_OPTION_REFINERS","component","buttonTextKey","dateProfileGeneratorClass","usesMinMaxTime","classNames","content","didMount","willUnmount","mergeRawOptions","optionSets","refineProps","refiners","extra","raw","parseEvents","rawEvents","eventSource","allowOpenRange","createEmptyEventStore","eventRefiners","buildEventRefiners","rawEvents_1","rawEvent","parseEvent","eventTupleToStore","getRelevantEvents","def_1","newStore","filterEventStoreDefs","lookDef","isEventDefsGrouped","def0","def1","groupId","mergeEventStores","store0","store1","filterFunc","excludeSubEventStore","master","sub","filteredDefs","filteredInstances","normalizeConstraint","parseClassNames","EVENT_UI_REFINERS","startEditable","durationEditable","constraint","overlap","allow","className","color","backgroundColor","borderColor","textColor","EMPTY_EVENT_UI","constraints","allows","createEventUi","combineEventUis","uis","reduce","combineTwoEventUis","item0","item1","EVENT_NON_DATE_REFINERS","id","title","EVENT_DATE_REFINERS","EVENT_REFINERS","extendedProps","refineEventDef","computeIsDefaultAllDay","recurringRes","parseEventDef","singleRes","parseSingle","hasEnd","ui","eventDefMemberAdders","memberAdder","freeze","startMeta","startMarker","endMeta","endMarker","startInput","createMarkerMeta","isTimeUnspecified","forcedTzo","computeAlignedDayRange","timedRange","dayCnt","computeVisibleDayRange","startDay","endDay","endTimeMS","isMultiDayRange","diffDates","date0","date1","largeUnit","diffWholeYears","diffWholeMonths","parseRange","createMarker","invertRanges","ranges","constraintRange","invertedRanges","dateRange","sort","compareRanges","range0","range1","intersectRanges","newRange","rangesEqual","rangesIntersect","rangeContainsRange","outerRange","innerRange","rangeContainsMarker","constrainMarkerToRange","sliceEventStore","eventUiBases","inverseBgByGroupId","inverseBgByDefId","defByGroupId","bgRanges","fgRanges","eventUis","compileEventUis","origRange","normalRange","slicedRange","isStart","isEnd","invertedRanges_1","invertedRange","invertedRanges_2","bg","fg","hasBgRendering","setElSeg","seg","fcSeg","getElSeg","eventDefs","compileEventUi","sortEventSegs","segs","eventOrderSpecs","objs","buildSegCompareObj","c","_seg","eventRange","computeSegDraggable","transformers","isDraggableTransformers","transformers_1","transformer","computeSegStartResizable","computeSegEndResizable","buildSegTimeText","timeFormat","defaultDisplayEventTime","defaultDisplayEventEnd","startOverride","endOverride","eventInstance","wholeEventStart","wholeEventEnd","segStart","segEnd","isStartDay","isEndDay","getSegMeta","todayRange","nowDate","segRange","isPast","isFuture","isToday","getEventClassNames","isMirror","isDraggable","isStartResizable","isEndResizable","isDragging","isResizing","isSelected","buildEventRangeKey","STANDARD_PROPS","parseDateSpan","defaultDuration","span","parseOpenDateSpan","standardProps","isDateSpansEqual","span0","span1","isSpanPropsEqual","buildDateSpanApi","buildRangeApi","buildRangeApiWithTimeZone","omitTime","toDate","startStr","formatIso","endStr","fabricateEventRange","dateSpan","triggerDateSelect","selection","pev","emitter","trigger","buildDateSpanApiWithContext","jsEvent","origEvent","view","viewApi","calendarApi","triggerDateUnselect","dateSpanTransforms","transform","getDefaultEventEnd","applyMutationToEventStore","eventConfigBase","mutation","eventConfigs","applyMutationToEventDef","applyMutationToEventInstance","eventConfig","startDelta","endDelta","copy","eventDefMutationAppliers","applier","forceAllDay","clearEnd","datesDelta","ViewApi","getCurrentData","viewTitle","dateProfile","activeRange","currentRange","getOption","EVENT_SOURCE_REFINERS","success","failure","parseEventSource","buildEventSourceRefiners","rawObj","metaRes","buildEventSourceMeta","_raw","isFetching","latestFetchId","fetchRange","sourceDefId","eventSourceRefiners","eventSourceDefs","parseMeta","reduceCurrentDate","currentDate","action","dateMarker","getInitialDate","initialDateInput","getNow","nowInput","createNowMarker","CalendarApi","currentDataManager","batchRendering","updateSize","setOption","rawOptionValue","currentCalendarOptionsInput","getAvailableLocaleCodes","availableRawLocales","on","handlerName","currentCalendarOptionsRefiners","console","warn","off","changeView","viewType","dateOrRange","zoomTo","state","spec","viewSpecs","getUnitViewSpec","toolbarConfig","viewTypes","viewsWithButtons","singleUnit","prev","next","prevYear","addYears","nextYear","today","calendarOptions","gotoDate","zonedDateInput","incrementDate","deltaInput","delta","formatDate","formatter","settings","dateOrObj","endDate","selectionInput","dateSelection","addEvent","eventInput","sourceInput","EventApi","_def","_instance","currentData","triggerEventAdd","sourceApi","getEventSourceById","newEventApi","eventApi","event","relatedEvents","revert","eventApiToStore","getEventById","getEvents","buildEventApis","removeAllEvents","getEventSources","sourceHash","sourceApis","internalId","addEventSource","sources","removeAllEventSources","refetchEvents","scrollToTime","timeInput","time","_context","setProp","mutate","setExtendedProp","setStart","instanceRange","granularity","maintainDuration","setEnd","endInput","setDates","moveStart","moveEnd","moveDates","setAllDay","formatInput","context_1","eventStore_1","relevantEvents","oldEvent","asStore","toPlainObject","collapseColor","collapseExtendedProps","toJSON","excludeInstance","eventApis","excludeInstanceId","calendarSystemClassMap","registerCalendarSystem","theClass","createCalendarSystem","GregorianCalendarSystem","arrayToMarker","arr","ISO_RE","str","DateEnv","isNamedTimeZone","namedTimeZoneImpl","canComputeOffset","weekDow","weekDoy","weekNumberFunc","timestampToMarker","getYear","addMonths","greatestWholeUnit","countDurationsBetween","diff","startOf","startOfYear","startOfMonth","startOfWeek","dateOptions","offsetForMarker","isEndExclusive","extraOptions","omitTimeZoneOffset","timestampToArray","getTimezoneOffset","offsetForArray","globalLocales","RAW_EN_LOCALE","code","list","organizeRawLocales","explicitRawLocales","defaultCode","allRawLocales","rawLocaleMap","en","allRawLocales_1","rawLocale","buildLocale","inputSingular","available","parseLocale","queryLocale","codeArg","queryRawLocale","simpleId","merged","NumberFormat","dateInput","buildDateEnv$1","dateMeta","DEF_DEFAULTS","startTime","endTime","daysOfWeek","parseBusinessHours","refineInputs","rawDefs","filter","rawDef","pointInsideRect","point","rect","left","right","top","bottom","intersectRects","rect1","rect2","translateRect","deltaX","deltaY","constrainPoint","getRectCenter","diffPoints","point1","point2","canVGrowWithinCell","getCanVGrowWithinCell","computeCanVGrowWithinCell","position","innerHTML","appendChild","div","possible","offsetHeight","EMPTY_EVENT_STORE","Splitter","getKeysForEventDefs","_getKeysForEventDefs","splitDateSelection","_splitDateSpan","splitEventStore","_splitEventStore","splitIndividualUi","_splitIndividualUi","splitEventDrag","_splitInteraction","splitEventResize","eventUiBuilders","splitProps","keyInfos","getKeyInfo","defKeys","dateSelections","individualUi","eventStores","eventDrags","eventDrag","eventResizes","eventResize","info","buildEventUiForKey","keyInfo","buildEventUi","eventSelection","dateSpans","getKeysForDateSpan","keys_1","getKeysForEventDef","splitStores","_c","splitHashes","interaction","splitStates","affectedStores_1","affectedEvents","mutatedKeysByDefId","mutatedEvents","mutatedStores_1","populate","isEvent","allUi","eventUiForKey","baseParts","stuff","getDateMeta","isDisabled","isOther","getDayClassNames","theme","getClass","getSlotClassNames","buildNavLinkData","JSON","stringify","_isRtlScrollbarOnLeft","getIsRtlScrollbarOnLeft","computeIsRtlScrollbarOnLeft","outerEl","border","padding","overflow","innerEl","firstChild","_scrollbarWidths","getScrollbarWidths","computeScrollbarWidths","computeScrollbarWidthsForEl","x","clientHeight","offsetWidth","clientWidth","computeEdges","getPadding","computedStyle","window","getComputedStyle","borderLeft","borderLeftWidth","borderRight","borderRightWidth","borderTop","borderTopWidth","borderBottom","borderBottomWidth","badScrollbarWidths","scrollbarLeftRight","scrollbarBottom","scrollbarLeft","scrollbarRight","paddingLeft","paddingRight","paddingTop","paddingBottom","computeInnerRect","goWithinPadding","doFromWindowViewport","outerRect","computeRect","edges","pageXOffset","pageYOffset","computeClippedClientRect","clippingParents","getClippingParents","clippingParents_1","clippingParent","intersection","computeHeightAndMargins","computeVMargins","computed","marginTop","marginBottom","overflowY","overflowX","unpromisify","isResolved","wrappedSuccess","wrappedFailure","then","Emitter","handlers","thisContext","setThisContext","setOptions","addToHash","removeFromHash","attachedHandlers","optionHandler","handlers_1","hasHandlers","PositionCache","originEl","els","isHorizontal","isVertical","originClientRect","buildElHorizontals","buildElVerticals","originClientLeft","lefts","rights","originClientTop","tops","bottoms","leftToIndex","leftPosition","topToIndex","topPosition","getWidth","leftIndex","getHeight","topIndex","ScrollController","getMaxScrollTop","getScrollHeight","getClientHeight","getMaxScrollLeft","getScrollWidth","getClientWidth","canScrollVertically","canScrollHorizontally","canScrollUp","getScrollTop","canScrollDown","canScrollLeft","getScrollLeft","canScrollRight","ElementScrollController","_super","scrollTop","scrollLeft","setScrollTop","setScrollLeft","scrollWidth","scrollHeight","WindowScrollController","scroll","Theme","iconOverrideOption","setIconOverride","iconOverrideHash","iconClassesCopy","buttonName","iconClasses","applyIconOverridePrefix","prefix","iconOverridePrefix","classes","getIconClass","isRtl","rtlIconClasses","baseIconClass","getCustomButtonIconClass","customButtonProps","iconOverrideCustomButtonOption","ScrollResponder","execFunc","handleScrollRequest","request","queuedRequest","drain","fireInitialScroll","detach","update","isDatesNew","ViewContextType","buildViewContext","viewSpec","viewOptions","dateProfileGenerator","registerInteractiveComponent","unregisterInteractiveComponent","addResizeHandler","removeResizeHandler","createScrollResponder","PureComponent","shouldComponentUpdate","nextProps","nextState","debug","log","propEquality","stateEquality","addPropsEquality","addStateEquality","contextType","BaseComponent","create","setRef","ref","current","DateComponent","uid","prepareHits","queryHit","positionLeft","positionTop","elWidth","elHeight","isValidSegDownEl","isValidDateDownEl","createPlugin","deps","reducers","isLoadingFuncs","contextInit","eventDragMutationMassagers","dateSelectionTransformers","datePointTransforms","viewPropsTransformers","isPropsValid","externalDefTransforms","viewContainerAppends","eventDropTransformers","componentInteractions","calendarInteractions","themeClasses","namedTimeZonedImpl","elementDraggingImpl","optionChangeHandlers","scrollGridImpl","contentTypeHandlers","listenerRefiners","optionRefiners","propSetHandlers","buildPluginHooks","pluginDefs","globalDefs","isAdded","hooks","addDefs","defs_1","combineHooks","buildBuildPluginHooks","currentOverrideDefs","currentGlobalDefs","currentHooks","overrideDefs","hooks0","hooks1","StandardTheme","root","tableCellShaded","buttonGroup","button","buttonActive","close","compileViewDefs","defaultConfigs","overrideConfigs","ensureViewDef","viewDef","buildViewDef","defaultConfig","overrideConfig","queryProp","theComponent","superType","superDef","defaults","rawOptions","overrides","RenderHook","rootElRef","handleRootEl","elRef","hookProps","MountHook","ContentHook","defaultContent","backupElRef","innerElRef","innerContent","normalizeClassNames","CustomContentRenderContext","Consumer","renderId","ContentHookInner","renderInnerContent","componentDidMount","updateCustomContent","componentDidUpdate","componentWillUnmount","customContentInfo","rawVal","normalizeContent","innerContentVDom","contentVal","contentKey","rootEl","buildClassNameNormalizer","currentGenerator","currentHookProps","currentClassNames","generator","ViewRoot","customClassNames","parseViewConfigs","parseViewConfig","createViewHookComponent","viewProps","viewElRef","buildViewSpecs","defaultInputs","optionOverrides","dynamicOptionOverrides","localeDefaults","viewDefs","buildViewSpec","durationInput","durationUnit","singleUnitOverrides","createDurationCached","denom","queryButtonText","optionsSubset","buttonTextMap","optionDefaults","buttonTextOverride","buttonTextDefault","durationInputMap","json","DateProfileGenerator","initHiddenDays","buildPrev","currentDateProfile","forceToValid","prevDate","currentRangeUnit","build","buildNext","nextDate","currentInfo","isRangeAllDay","renderRange","isValid","buildValidRange","trimHiddenDays","buildCurrentRangeInfo","buildRenderRange","adjustActiveRange","buildDateIncrement","validRangeInput","simpleInput","refineRange","buildRangeFromDuration","buildRangeFromDayCount","buildCustomVisibleRange","getFallbackDuration","isHiddenDay","skipHiddenDays","computeRes","runningCount","visibleRangeInput","fallback","customAlignment","rangeInput","isHiddenDayHash","inc","isExclusive","reduceViewType","reduceDynamicOptionOverrides","reduceDateProfile","dp","initEventSources","addSources","parseInitialSources","reduceEventSources","removeSource","fetchDirtySources","fetchSourcesByIds","excludeStaticSources","receiveResponse","fetchId","reduceEventSourcesNewTimeZone","computeEventSourcesLoading","eventSourceHash","sources_1","source","isSourceDirty","doesSourceNeedRange","prevSources","sourceIdHash","nextSources","fetchSource","sourceDef","fetch","xhr","error","message","rawSources","rawSources_1","rawSource","ignoreRange","reduceEventStore","receiveRawEvents","excludeEventsBySourceId","subset","transformRawEvents","calEachTransform","sourceEachTransform","transformEachRawEvent","refinedEvents","refinedEvent","expandRange","rezoneEventStoreDates","oldDateEnv","newDateEnv","excludeInstances","removals","reduceDateSelection","currentSelection","reduceSelectedEvent","currentInstanceId","eventInstanceId","reduceEventDrag","currentDrag","newDrag","reduceEventResize","currentResize","newResize","parseToolbars","calendarOptionOverrides","parseToolbar","sectionStrHash","sectionStr","parseSection","calendarCustomButtons","calendarButtonTextOverrides","calendarButtonText","sectionSubstrs","buttonGroupStr","buttonClick","buttonIcon","click","text","eventSourceDef$2","arg","arrayEventSourcePlugin","eventSourceDef$1","bind","funcEventSourcePlugin","requestJson","params","successCallback","failureCallback","toUpperCase","injectQueryStringParams","encodeParams","XMLHttpRequest","open","setRequestHeader","onload","status","responseText","err","onerror","send","encodeURIComponent","JSON_FEED_EVENT_SOURCE_REFINERS","extraParams","eventSourceDef","requestParams","buildRequestParams","errorMessage","jsonFeedEventSourcePlugin","customRequestParams","SIMPLE_RECURRING_REFINERS","startRecur","endRecur","recurring","recurringData","clippedFramingRange","expandRanges","simpleRecurringEventsPlugin","dowHash","dayMarker","instanceStarts","instanceStart","changeHandlerPlugin","handleEventSources","unfoundSources","newInputs","inputs_1","inputFound","unfoundSources_1","unfoundSource","newInputs_1","newInput","handleDateProfile","handleEventStore","html","injectHtml","domNodes","injectDomNodes","oldNodes","newNodes","newNodes_1","newNode","DelayedRunner","drainedOption","isRunning","isDirty","pauseDepths","timeoutId","delay","isPaused","clearTimeout","tryDrain","setTimeout","pause","scope","resume","force","depth","drained","clear","TaskRunner","runTaskOption","queue","delayedRunner","task","completedTasks","shift","runTask","buildTitle","buildTitleFormat","CalendarDataManager","computeOptionsData","_computeOptionsData","computeCurrentViewData","_computeCurrentViewData","buildDateEnv","buildTheme","buildDateProfileGenerator","buildViewApi","buildViewUiProps","buildEventUiBySource","buildEventUiBases","parseContextBusinessHours","actionRunner","_handleAction","updateData","currentCalendarOptionsRefined","currentViewOptionsInput","currentViewOptionsRefined","data","optionsData","currentViewType","currentViewData","calendarContext","initialState","renderableEventStore","selectionConfig","contextAndState","reducer","computeIsLoading","append","isEventsLoading","eventUiSingleBase","eventUiBySource","newState","wasLoading","isLoading","onAction","oldData","changeHandlers","oldCalendarOptions","newCalendarOptions","onData","processRawCalendarOptions","refinedOptions","availableLocaleData","warnUnknownOptions","currentRaw","currentRefined","processRawViewOptions","explicitLocale","ThemeClass","DateProfileGeneratorClass","isLoadingFunc","viewName","CalendarDataProvider","handleData","dataManager","setState","prevProps","newOptionOverrides","sliceEvents","NamedTimeZoneImpl","SegHierarchy","strictOrder","allowReslicing","maxCoord","maxStackCnt","levelCoords","entriesByLevel","stackCnts","addSegs","segInputs","hiddenEntries","segInputs_1","segInput","insertEntry","spanStart","spanEnd","thickness","entry","findInsertion","isInsertionValid","insertEntryAt","handleInvalidInsertion","levelCoord","stackCnt","touchingEntry","splitEntry","barrier","partCnt","splitHiddenEntries","nextLevel","insertAt","lateralEnd","buildEntryKey","newEntry","levelCnt","level","lateralStart","resCoord","entries","searchRes","binarySearch","getEntrySpanEnd","toRects","rects","entries_1","index","groupIntersectingEntries","merges","entries_2","filteredMerges","hungryMerge","merges_1","merge","searchVal","getItemVal","middleIndex","middleVal","Interaction","isHitComboAllowed","parseInteractionSettings","useEventCenter","interactionSettingsToStore","interactionSettingsStore","ElementDragging","setMirrorIsVisible","bool","setMirrorNeedsRevert","setAutoScrollEnabled","config","DRAG_META_REFINERS","parseDragMeta","leftoverProps","ToolbarSection","widgetGroups","widgetGroup","renderWidgetGroup","isOnlyButtons","widgetGroup_1","widget","ariaAttrs","buttonClasses","activeButton","isTodayEnabled","isPrevEnabled","isNextEnabled","disabled","onClick","groupClassName","Toolbar","model","extraClassName","forceLtr","startContent","endContent","centerContent","renderSection","ViewContainer","availableWidth","handleEl","updateAvailableWidth","handleResize","liquid","EventClicking","handleSegClick","segEl","hasUrlContainer","href","defaultPrevented","location","EventHovering","handleEventElRemove","currentSegEl","handleSegLeave","handleSegEnter","triggerEvent","removeHoverListeners","publicEvName","CalendarContent","buildViewPropTransformers","buildToolbarProps","handleNavLinkClick","_handleNavLinkClick","headerRef","footerRef","interactionsStore","settingsInput","DEFAULT_INTERACTIONS","interactionClasses","interactions","TheInteractionClass","listener","resizeRunner","toolbarProps","viewVGrow","viewAspectRatio","isHeightAuto","forPrint","viewContext","Provider","renderView","buildAppendContent","CalendarInteractionClass","anchorEl","navLinkOptions","getAttribute","customAction","ViewComponent","todayInfo","prevInfo","nextInfo","theClasses","TheClass","CalendarRoot","handleBeforePrint","handleAfterPrint","computeFallbackHeaderFormat","datesRepDistinctDays","CLASS_NAME","renderInner$1","TableDateCell","dayMeta","navLinkAttrs","colCnt","tabIndex","extraHookProps","colSpan","extraDataAttrs","isSticky","TableDowCell","extraClassNames","NowTimer","initialNowDate","initialNowQueriedMs","computeTiming","currentState","unroundedNow","currentUnitStart","nextUnitStart","waitMs","buildDayRange","DayHeader","createDayHeaderFormatter","dates","renderIntro","explicitFormat","dateCnt","DaySeriesModel","indices","dayIndex","cnt","sliceRange","firstIndex","getDateDayIndex","lastIndex","clippedFirstIndex","clippedLastIndex","ceil","dayOffset","DayTableModel","daySeries","breakOnWeeks","daysPerRow","rowCnt","cells","buildCells","headerDates","buildHeaderDates","rows","row","col","buildCell","seriesSeg","nextIndex","firstCol","lastCol","Slicer","sliceBusinessHours","_sliceBusinessHours","sliceDateSelection","_sliceDateSpan","_sliceEventStore","sliceEventDrag","_sliceInteraction","sliceEventResize","forceDayIfListItem","sliceProps","extraArgs","eventSegs","dateSelectionSegs","businessHourSegs","fgEventSegs","bgEventSegs","sliceNowDate","computeActiveRange","rangeRes","sliceEventRanges","affectedInstances","segs_1","eventRanges","eventRanges_1","sliceEventRange","segs_2","isComponentAllDay","isInteractionValid","isNewPropsValid","isDateSelectionValid","calendarState","dateSpanMeta","filterConfig","isInteractionPropsValid","isDateSelectionPropsValid","subjectEventStore","subjectDefs","subjectInstances","subjectConfigs","otherEventStore","otherDefs","otherInstances","otherConfigs","subjectInstanceId","subjectInstance","subjectRange","subjectConfig","subjectDef","allConstraintsPass","eventOverlapFunc","otherInstanceId","otherInstance","otherOverlap","calendarEventStore","subjectAllow","subjectDateSpan","origDef","origInstance","relevantEventStore","relevantDefs","relevantInstances","selectionRange","selectOverlapFunc","relevantInstanceId","relevantInstance","selectionAllow","fullDateSpan","businessHoursUnexpanded","constraints_1","anyRangesContainRange","constraintToRanges","eventStoreToRanges","outerRanges","outerRanges_1","VISIBLE_HIDDEN_RE","Scroller","liquidIsAbsolute","isAbsolute","overcomeLeft","overcomeRight","overcomeBottom","marginLeft","marginRight","maxHeight","needsXScrolling","realClientWidth","getYScrollbarWidth","childEl","needsYScrolling","realClientHeight","getXScrollbarWidth","RefMap","masterCallback","currentMap","depths","callbackMap","handleValue","removed","added","refCallback","collect","getAll","computeShrinkWidth","chunkEls","shrinkCells","largestWidth","shrinkCells_1","shrinkCell","getSectionHasLiquidHeight","sectionConfig","getAllowYScrolling","renderChunkContent","chunkConfig","tableClassName","syncRowHeights","minWidth","tableMinWidth","tableColGroupNode","rowContent","isColPropsEqual","cols0","cols1","renderMicroColGroup","cols","shrinkWidth","colNodes","cols_1","colProps","sanitizeShrinkWidth","hasShrinkWidth","cols_2","getScrollGridClassNames","getSectionClassNames","wholeTableVGrow","renderScrollShim","getStickyHeaderDates","getStickyFooterScrollbar","SimpleScrollGrid","processCols","scrollerRefs","scrollerElRefs","_handleScrollerEl","forceYScrollbars","scrollerClientWidths","scrollerClientHeights","handleSizing","computeScrollerDims","sectionConfigs","sections","microColGroupNode","collapsibleWidth","configCnt","configI","currentConfig","headSectionNodes","bodySectionNodes","footSectionNodes","isBuggy","outerContent","renderChunkTd","chunk","isLiquid","sectionKey","rowSyncHeights","reportRowHeightChange","scrollerEl","section","getSectionByKey","scrollerElRef","scrollbarWidth","scroller","harnessEl","sections_1","EventRoot","timeText","disableDragging","disableResizing","isDateSelecting","standardClassNames","StandardEvent","defaultTimeFormat","renderInnerContent$1","getSegAnchorAttrs","innerProps","NowIndicatorRoot","isAxis","DAY_NUM_FORMAT","DayCellContent","refineDayCellHookProps","showDayNumber","extraProps","dayNumberText","DayCellRoot","refineHookProps","dataAttrs","renderFill","fillType","BgEvent","WeekNumberRoot","defaultFormat","renderInner","PADDING_FROM_VIEWPORT","Popover","handleDocumentMousedown","handleCloseClick","onClose","extraAttrs","parentEl","alignmentEl","alignGridTop","alignmentRect","popoverDims","popoverTop","popoverLeft","origin_1","offsetParent","MorePopover","startDate","dayClassNames","extraDateSpan","dayEl","layer","MoreLinkRoot","linkElRef","isPopoverOpen","handleClick","computeRange","buildPublicSeg","allDayDate","allSegs","hiddenSegs","handlePopoverClose","moreCnt","shortText","renderMoreLinkInner","alignmentElRef","popoverContent","updateParentEl","computeEarliestSegStart","computeLatestSegEnd","pickEarliestStart","seg0","seg1","pickLatestEnd","version","parseMarker","FullCalendarVDom","flushToDom","unmountComponentAtNode","isRendering","isRendered","customContentRenderId","handleAction","renderRunner","handleRenderRequest","currentData_1","setClassNames","setHeight","wasRendering","classNames_1","preact","preactCompat","globalObj","globalThis","oldDebounceRendering","debounceRendering","callbackQ","execCallbackSync","FakeComponent","defaultValue","ContextType","origProvider","isNew","getChildContext","subs_1","_props","forceUpdate","old","node","TableView","headerElRef","renderSimpleLayout","headerRowContent","bodyContent","renderHScrollLayout","ScrollGrid","chunks","colGroups","splitSegsByRow","byRow","splitSegsByFirstCol","byCol","splitInteractionByRow","TableCellTop","renderTopInner","forceDayTop","DEFAULT_TABLE_EVENT_TIME_FORMAT","hasListItemDisplay","TableBlockEvent","TableListItemEvent","TableCellMoreLink","compileSegs","singlePlacements","invisibleSegs","isForcedInvisible","visibility","singlePlacements_1","placement","isVisible","DEFAULT_WEEK_NUM_FORMAT","TableCell","dayElRef","rootDataAttrs","showWeekNumber","weekElRef","weekClassNames","fgContentElRef","fgContent","moreMarginTop","bgContent","computeFgSegPlacement","eventInstanceHeights","maxContentHeight","hierarchy","DayGridSegHierarchy","hiddenConsumes","unknownHeightSegs","eventHeight","segRects","placeRects","singleColPlacements","multiColPlacements","leftoverMargins","moreCnts","moreMarginTops","unknownHeightSegs_1","absoluteTop","resliceSeg","hiddenEntries_1","hiddenEntry","allRects","rectsByEachCol","groupRectsByEachCol","currentHeight","currentMarginTop","rects_1","multiPlacements","rects_2","isFirstCol","rects_3","forceHidden","excludeHidden","lateral","leadingEntry","placeholderEntry","placeholderEntryId","TableRow","cellElRefs","frameElRefs","fgElRefs","segHarnessRefs","framePositions","businessHoursByCol","bgEventSegsByCol","highlightSegsByCol","getHighlightSegs","mirrorSegsByCol","getMirrorSegs","cell","normalFgNodes","renderFgSegs","mirrorFgNodes","buildMirrorPlacements","showDayNumbers","showWeekNumbers","renderFillSegs","updateSizing","prevState","currentProps","segPlacements","nodes","segPlacements_1","leftRightCss","isExternalSizingChange","frameEls","limitByContentHeight","queryEventInstanceHeights","computeMaxContentHeight","segElMap","firstKey","fcContainerEl","getCellEls","elMap","mirrorSegs","colPlacements","topsByInstanceId","buildAbsoluteTopHash","colPlacements_1","placements","placements_1","Table","splitBusinessHourSegs","splitBgEventSegs","splitFgEventSegs","splitDateSelectionSegs","rowRefs","businessHourSegsByRow","bgEventSegsByRow","fgEventSegsByRow","dateSelectionSegsByRow","eventDragByRow","eventResizeByRow","limitViaBalanced","colGroupNode","renderRowIntro","isSegAllDay","rowPositions","rowObj","colPositions","getCellRange","getCellEl","DayTableSlicer","dayTableModel","DayTable","slicer","tableRef","headerAlignElRef","DayTableView","buildDayTableModel","headerContent","contentArg","TableDateProfileGenerator","endOfWeek","main","dayGrid","dayGridDay","dayGridWeek","dayGridMonth","DayGridView","touchMouseIgnoreWait","ignoreMouseDepth","listenerCnt","isWindowTouchMoveCancelled","PointerDragging","containerEl","subjectEl","handleSelector","shouldIgnoreMove","shouldWatchScroll","isTouchDragging","wasTouchScroll","handleMouseDown","shouldIgnoreMouse","isPrimaryMouseButton","tryStart","createEventFromMouse","initScrollWatch","handleMouseMove","handleMouseUp","recordCoords","cleanup","handleTouchStart","createEventFromTouch","targetEl","handleTouchMove","handleTouchEnd","handleTouchScroll","startIgnoringMouse","handleScroll","pageX","prevScrollX","prevPageX","pageY","prevScrollY","prevPageY","isTouch","origPageX","origPageY","passive","listenerCreated","listenerDestroyed","querySubjectEl","downEl","destroyScrollWatch","cancelTouchScroll","isFirst","touches","ctrlKey","onWindowTouchMove","ElementMirror","sourceEl","mirrorEl","sourceElRect","zIndex","revertDuration","origScreenX","origScreenY","updateElPosition","handleMove","setIsVisible","stop","needsRevertAnimation","done","doRevertAnimation","finalSourceElRect","transition","getMirrorEl","cloneNode","boxSizing","margin","ScrollGeomCache","scrollController","doesListening","handleScrollChange","origScrollTop","origScrollLeft","clientRect","computeClientRect","getEventTarget","ElementScrollGeomCache","WindowScrollGeomCache","getTime","performance","AutoScroller","isEnabled","scrollQuery","edgeThreshold","maxVelocity","pointerScreenX","pointerScreenY","isAnimating","scrollCaches","everMovedUp","everMovedDown","everMovedLeft","everMovedRight","animate","edge","computeBestEdge","handleSide","msSinceRequest","requestAnimation","buildCaches","yDelta","xDelta","scrollCache","requestAnimationFrame","invDistance","distance","velocity","bestSide","leftDist","rightDist","topDist","bottomDist","queryScrollEls","query","FeaturefulElementDragging","minDistance","touchScrollAllowed","mirrorNeedsRevert","isInteracting","isDelayEnded","isDistanceSurpassed","delayTimeoutId","onPointerDown","pointer","mirror","startDelay","handleDistanceSurpassed","onPointerMove","distanceSq","autoScroller","onPointerUp","tryStopDrag","handleDelayEnd","tryStartDrag","stopDrag","setIgnoreMove","OffsetTracker","origRect","scrollEl","computeLeft","computeTop","isWithinClipping","isIgnoredClipping","tagName","HitDragging","dragging","droppableStore","useSubjectCenter","requireInitial","initialHit","movingHit","finalHit","handlePointerDown","processFirstCoord","handleDragStart","handleDragMove","handlePointerUp","releaseHits","handleDragEnd","origPoint","adjustedPoint","subjectRect","queryHitForOffset","slicedSubjectRect","coordAdjust","forceHandle","hit","isHitsEqual","offsetTrackers","interactionSettings","offsetLeft","offsetTop","bestHit","offsetTracker","originLeft","originTop","componentId","hit0","hit1","buildDatePointApiWithContext","buildDatePointApi","dateStr","DateClicking","hitDragging","DateSelecting","dragSelection","canSelect","getComponentTouchDelay$1","handleHitUpdate","isFinal","isInvalid","disallowed","joinHitsIntoSelection","dateSpan0","dateSpan1","dateSelectionTransformers_1","EventDragging","subjectSeg","receivingContext","validMutation","mutatedRelevantEvents","origTarget","initialContext","getComponentTouchDelay","fixedMirrorParent","receivingOptions","computeEventMutation","displayDrag","initialContext_1","receivingContext_1","relevantEvents_1","mutatedRelevantEvents_1","clearDrag","updatedEventApi","eventChangeArg","transformed","eventRemoveArg","draggedEl","addedEventDef","addedEventInstance","addedEventApi","eventAddArg","SELECTOR","nextContext","prevContext","initialCalendar","massagers","massagers_1","massager","EventResizing","draggingSegEl","draggingSeg","querySegEl","computeMutation","isFromStart","UnselectAuto","isRecentPointerDateSelect","matchesCancel","matchesEvent","onSelect","selectInfo","onDocumentPointerDown","onDocumentPointerUp","documentPointer","OPTION_REFINERS","LISTENER_REFINERS","dateClick","eventDragStart","eventDragStop","eventDrop","eventResizeStart","eventResizeStop","drop","eventReceive","eventLeave","ExternalElementDragging","suppliedDragMeta","droppableEvent","dragMeta","buildDragMeta","canDropElOnCalendar","computeEventForDateSpan","finalView","addingEvents_1","getDragMetaFromEl","defProps","getEmbeddedElData","dataAttrPrefix","prefixedName","ExternalDraggable","itemSelector","appendTo","eventData","InferredElementDragging","mirrorSelector","currentMirrorEl","handlePointerMove","ThirdPartyDraggable","containerOrSettings","Element","Draggable","ListViewHeaderRow","dayDate","listDayFormat","sideText","listDaySideFormat","navLinkData","DEFAULT_TIME_FORMAT","ListViewEventRow","renderEventInnerContent","buildTimeContent","anchorAttrs","doAllDay","renderAllDayInner","ListView","computeDateVars","eventStoreToSegs","_eventStoreToSegs","setRootEl","dayDates","dayRanges","renderSegList","renderEmptyMessage","noEventsClassNames","noEventsContent","renderNoEventsInner","noEventsDidMount","noEventsWillUnmount","segsByDay","groupSegsByDay","innerNodes","daySegs","dayStr","daySegs_1","eventRangesToSegs","eventRangeToSegs","viewEnd","createFalsableFormatter","listDay","listWeek","listMonth","listYear","AllDaySplitter","timed","DEFAULT_SLAT_LABEL_FORMAT","TimeColsAxisCell","isLabeled","isoTimeStr","labelFormat","TimeBodyAxis","slatMetas","slatMeta","AUTO_ALL_DAY_MAX_EVENT_ROWS","TimeColsView","allDaySplitter","slatCoords","handleScrollTopRequest","renderHeadAxis","rowKey","frameHeight","renderTableRowAxis","rowHeight","handleSlatCoords","timeContent","isNowIndicator","nowIndicatorTop","safeComputeTop","getAllDayMaxEventProps","TimeColsSlatsCoords","positions","startOfDayDate","timeMs","computeTimeTop","computeDateTop","when","slatCoverage","slatIndex","slatRemainder","TimeColsSlatsBody","slatElRefs","axis","TimeColsSlats","minHeight","onCoords","collectSlatEls","splitSegsByCol","segsByCol","splitInteractionByCol","TimeColMoreLink","renderPlainFgSegs","computeFgSegPlacements","hiddenGroups","web","buildWeb","stretchWeb","webToRects","buildNode","cacheable","siblingRange","findNextLevelSegs","nextLevelRes","buildNodes","nextLevelNodes","pairs","cmpDescPressures","extractNode","subjectLevel","subjectLateral","subjectEntry","afterSubject","searchIndex","topLevelNodes","totalThickness","stretchNode","startCoord","prevThickness","allThickness","thicknessFraction","endCoord","newChildren","nextLevelNodes_1","newThickness","processNode","stackDepth","stackForward","processNodes","nodes_1","keyFunc","workFunc","cache","TimeColEvent","isShort","TimeColMisc","TimeCol","isSelectMirror","interactionAffectedInstances","sortedFgSegs","renderNowIndicator","nowIndicatorSegs","segIsInvisible","renderPositionedFgSegs","buildSegInputs","renderHiddenGroups","segRect","positionCss","computeSegTopBottomCss","computeSegLeftRightCss","hiddenGroup","compileSegsFromEntries","segLike","shouldOverlap","nearCoord","farCoord","hiddenInstances","segEntries","segEntry","TimeColsContent","splitNowIndicatorSegs","nowIndicatorSegsByRow","updateCoords","onColCoords","collectCellEls","TimeCols","processSlotOptions","onScrollTopRequest","top_1","handleColCoords","colCoords","onSlatCoords","scrollResponder","snapsPerSlot","colIndex","slatTop","slatHeight","partial","localSnapIndex","snapIndex","snapDurationOverride","DayTimeColsSlicer","DayTimeCols","buildDayRanges","timeColsRef","STOCK_SUB_DURATIONS","buildSlatMetas","explicitLabelInterval","slatTime","slatIterator","labelInterval","computeLabelInterval","metas","slotsPerLabel","DayTimeColsView","buildTimeColsModel","hasAttachedAxis","hasDetachedAxis","allDaySlot","timeGridContent","timeGrid","timeGridDay","timeGridWeek","module","equal","RegExp","flags","toString","e","toChildArray","r","u","o","hydrate","l","cloneElement","f","useState","useLayoutEffect","useEffect","h","useCallback","v","useContext","useDebugValue","useId","p","useImperativeHandle","useMemo","_","useReducer","useRef","S","g","E","C","__","R","k","I","N","M","displayName","isReactComponent","__f","isPureReactComponent","T","__b","A","Symbol","for","D","$$typeof","L","O","count","only","toArray","F","__e","__c","__k","U","unmount","V","__H","__P","W","__v","P","__u","__a","z","default","B","__R","__O","pop","H","delete","revealOrder","size","Z","Y","__m","insertBefore","$","containerInfo","Map","set","q","G","J","K","Q","X","nn","textContent","tn","writable","rn","un","cancelBubble","persist","isPropagationStopped","isDefaultPrevented","nativeEvent","ln","cn","class","fn","vnode","toLowerCase","multiple","selected","an","__r","sn","diffed","hn","ReactCurrentDispatcher","readContext","__n","useDeferredValue","useInsertionEffect","useSyncExternalStore","useTransition","vn","dn","mn","pn","yn","startsWith","_n","bn","Sn","base","gn","En","Cn","xn","Rn","startTransition","Children","createFactory","isValidElement","isElement","isFragment","isMemo","findDOMNode","memo","forwardRef","flushSync","unstable_batchedUpdates","StrictMode","Suspense","SuspenseList","lazy","__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED","defaultProps","__i","__d","namespaceURI","nextSibling","some","setProperty","cssText","removeAttribute","setAttribute","__E","__h","_sb","__s","getDerivedStateFromProps","componentWillMount","componentWillReceiveProps","componentWillUpdate","getSnapshotBeforeUpdate","localName","createTextNode","createElementNS","is","attributes","__html","Set","__l","getDerivedStateFromError","componentDidCatch","Promise","resolve","__N","every","cancelAnimationFrame","useErrorBoundary"],"sourceRoot":"webpack:///","x_google_ignoreList":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17]}